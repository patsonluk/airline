@(message: String)(implicit configuration:play.api.Configuration)

<!DOCTYPE html>
<html>
  <head>
    <title>MyFly.Club | A Fork of Airline Club</title>
<!--   	<meta name="google-signin-client_id" content="526466847284-mmk6qg2bc4su9ihgqippccaha28edn81.apps.googleusercontent.com"> -->
    <meta name="description" content="MyFly.Club, a free airline management game. Build your own airline, manage it's profits, create routes to over 4000 airports from a choice of 150+ aircraft.">
    <meta name="keywords" content="Airline Simulation Game,Airline Strategy Game,Airline Management Game,Free Online Game,Open Source">
	<meta name="author" content="Paces Creative">
	<meta name="google-site-verification" content="EyjPyE3kaprSp7umZW58OuLwb-viMRBYx1lUh50ozAk" />
	<meta name="viewport" content="width=device-width, initial-scale=1">

	  <style type="text/css">
      html, body { height: 100%; margin: 0; padding: 0; }
    </style>
    <link rel="stylesheet" type="text/css" href='@routes.Assets.versioned("css-templates/treviso/css/style.css")'>
    <link rel="stylesheet" type="text/css" href='@routes.Assets.versioned("stylesheets/main.css")'>
    <link rel="stylesheet" type="text/css" href='@routes.Assets.versioned("stylesheets/departures.css")'>
    <link rel="stylesheet" type="text/css" href='@routes.Assets.versioned("stylesheets/tooltip.css")'>
      <link rel="stylesheet" type="text/css" href='@routes.Assets.versioned("stylesheets/country.css")'>
	<link rel="stylesheet" type="text/css" href='@routes.Assets.versioned("stylesheets/chat.css")'>
      <link rel="stylesheet" type="text/css" href='@routes.Assets.versioned("stylesheets/search.css")'>
	  <link rel="stylesheet" type="text/css" href='@routes.Assets.versioned("stylesheets/campaign.css")'>
	  <link rel="stylesheet" type="text/css" href='@routes.Assets.versioned("stylesheets/profile.css")'>
	  <link rel="stylesheet" type="text/css" href='@routes.Assets.versioned("stylesheets/switch.css")'>
	  <link rel="stylesheet" type="text/css" href='@routes.Assets.versioned("stylesheets/select.css")'>
	  <link rel="stylesheet" type="text/css" href='@routes.Assets.versioned("stylesheets/about.css")'>
	  <link rel="stylesheet" type="text/css" href='@routes.Assets.versioned("stylesheets/prompt.css")'>
	<link rel="stylesheet" type="text/css" href='@routes.Assets.versioned("javascripts/jemoji/jemoji.css")'>
	  <link rel="stylesheet" type="text/css" href='@routes.Assets.versioned("javascripts/emojify/emojify.min.css")'>
	  <link rel="stylesheet" type="text/css" href='@routes.Assets.versioned("javascripts/splitting/splitting.css")'>
	  <link rel="stylesheet" type="text/css" href='@routes.Assets.versioned("javascripts/splitting/splitting-cells.css")'>
	  <link rel="stylesheet" type="text/css" href='/assets/stylesheets/classic.css' id="uiTheme">
	  <link rel="stylesheet" type="text/css" href='@routes.Assets.versioned("stylesheets/mobile.css")'> <!-- this has to be last so it overrides the CSS if mobile-->


    
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.4/angular.min.js" defer></script>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"
			integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo="
			crossorigin="anonymous"></script>
  	<script
		  src="https://code.jquery.com/jquery-migrate-3.4.1.min.js"
		  integrity="sha256-UnTxHm+zKuDPLfufgEMnKGXDl6fEIjtM+n1Q6lL73ok="
		  crossorigin="anonymous"></script>
	  <script
		  src="https://code.jquery.com/ui/1.13.2/jquery-ui.min.js"
		  integrity="sha256-lSjKY0/srUM9BE3dPm+c4fBo1dky2v27Gdjm2uoZaL0="
		  crossorigin="anonymous"></script>
    <script src='@routes.Assets.versioned("javascripts/libs/jquery.cookie.js")'></script>

    <script src='@routes.Assets.versioned("javascripts/libs/reconnecting-websocket.min.js")'></script>
	<script src='@routes.Assets.versioned("javascripts/jemoji/jemoji.js")' defer></script>
	<script src='@routes.Assets.versioned("javascripts/emojify/emojify.js")' defer></script>
    <script src='@routes.Assets.versioned("javascripts/splitting/splitting.min.js")'></script>

    <script type="text/javascript" src='@routes.Assets.versioned("fusioncharts/fusioncharts.js")' defer></script>
    <script type="text/javascript" src='@routes.Assets.versioned("fusioncharts/fusioncharts.widgets.js")' defer></script>
	<script type="text/javascript" src='@routes.Assets.versioned("fusioncharts/themes/fusioncharts.theme.zune.js")' defer></script>
	<script type="text/javascript" src='@routes.Assets.versioned("fusioncharts/fusioncharts-jquery-plugin.js")' defer></script>
	<script src='@routes.Assets.versioned("javascripts/plot-fusioncharts.js")' defer></script>
	
	<script type="text/javascript" src='@routes.Assets.versioned("progress-bar/progress-bar.js")' defer></script>
	  <link rel="stylesheet" href='@routes.Assets.versioned("progress-bar/progress-bar.css")' type="text/css" />
	
	<script type="text/javascript" src='@routes.Assets.versioned("jquery-upload-file/jquery.uploadfile.min.js")' defer></script>
	<link rel="stylesheet" href='@routes.Assets.versioned("jquery-upload-file/uploadfile.css")' type="text/css" />
	<script src='@routes.Assets.versioned("javascripts/lazysizes/lazysizes.min.js")' async></script>

	  <link rel="stylesheet" href="/assets/firework/firework.css">
	  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
	  <meta name="mobile-web-app-capable" content="yes">
	  <meta name="apple-mobile-web-app-capable" content="yes">
	  <meta name="theme-color" content="#000000">
	  <meta name="msapplication-TileColor" content="#000000">
	  <meta name="msapplication-TileImage" content="https://s3-us-west-2.amazonaws.com/s.cdpn.io/329180/firework-burst-icon-v2.png">
  </head>
  <div>
  	<input type="hidden" id="floatMessage" value="@message"/>
  	<div id="floatMessageBox" style="height: 30px; width: 300px; display: none;"></div>
	<div id="linkHistoryControlPanel" class="section mapControlPanel" style="display: none; width: 500px; max-width: 95vw;">
		<div style="float: left; width : 50%">
			<h4>Top Transit PAX</h4>
			<div style="width : 90%" class="transitAirlineList table data">
			</div>
		</div>
		<div style="float: left; width : 50%">
			<div>
				<input class="showAlliance" type="checkbox" checked="checked" onclick="showLinkHistory()">Alliance
				<input class="showOther" type="checkbox" checked="checked" onclick="showLinkHistory()">Other
				<input class="showAnimation" type="checkbox" checked="checked" onclick="showLinkHistory()">Animated
			</div>
			<div title="Filter PAX traffic by class, take note this applied to the current select flight, related flights shown could be of different classes">
				<input class="showEconomy" type="checkbox" checked="checked" onclick="loadLinkHistory(selectedLink)">Economy
				<input class="showBusiness" type="checkbox" checked="checked" onclick="loadLinkHistory(selectedLink)">Business
				<input class="showFirst" type="checkbox" checked="checked" onclick="loadLinkHistory(selectedLink)">First
			</div>
			<div style="width : 100%" class="routeList">
			</div>
			<div style="display: flex; align-items: center;">
				<img class="clickable prev" title="View passenger map of previous week" src='@routes.Assets.versioned("images/icons/arrow-180.png")'/>
				<span style="width: 95px;"><span class="cycleDeltaText"></span>&nbsp;week(s) ago</span>
				<img class="clickable next" title="View passenger map of next week" src='@routes.Assets.versioned("images/icons/arrow.png")'/>
			</div>
			<button type="button" class="button glow" onclick="hideLinkHistoryView()" style="margin-top : 10px">Exit Passenger Map</button>
		</div>
	</div>
	  <div id="heatmapControlPanel" class="section mapControlPanel" style="display: none; width: 250px; flex-direction: column; align-items:center">
		  <h4>Influence Heatmap</h4>
		  <div style="display: flex; align-items: center;">
			  <img class="clickable prevPrev" title="100 weeks backward" src='@routes.Assets.versioned("images/icons/control-double-180.png")'/>
			  <img class="clickable prev" title="10 weeks backward" src='@routes.Assets.versioned("images/icons/control-180.png")'/>
			  <span style="width: 95px; margin: 0 15px 0 15px;"><span class="cycleDeltaText"></span>&nbsp;weeks ago</span>
			  <img class="clickable next" title="10 weeks forward" src='@routes.Assets.versioned("images/icons/control.png")'/>
			  <img class="clickable nextNext" title="100 weeks forward" src='@routes.Assets.versioned("images/icons/control-double.png")'/>
		  </div>
		  <form>
		  <input type="radio" name="heatmapType" value="loyalistImpact" checked/>Impact
		  <input type="radio" name="heatmapType" value="loyalistTrend"/>Trend
		  </form>

		  <div class="button glow" onclick="closeHeatmap()" style="margin-top : 10px; width: 140px;">Hide Heatmap Overlay</div>

	  </div>

  	<div id="topAirportLinksPanel" class="section mapControlPanel" style="display: none; width: 600px; max-width: 95vw;">
		<h4>Top Destinations</h4>
	  	<div style="width : 100%; display: flex; flex-direction: column;">
		  <div style="width : 100%" class="topDestinations table data">
			  <div class="table-header">
				  <div class="cell" style="width: 20%; min-width: 100px;">Destination</div>
				  <div class="cell" style="width: 30%">Cap (Freq)</div>
				  <div class="cell" style="width: 50%">Operators</div>
			  </div>
		  </div>
		  <button type="button" class="button glow" onclick="hideAirportLinksView()" style="margin-top: 10px; align-self: center;">Exit Airport Flight Map</button>
	  </div>
	</div>

	<div style="width: 100%; display: none;" class="extendedTopBarDetails">
		<div>
			<span class="currentTime" class="label" style="margin: 0px 10px"></span>
			<span style="margin: 0px 10px" title="An estimation of how long until next cycle/week"><img src='@routes.Assets.versioned("images/icons/clock-moon-phase.png")' style="vertical-align: middle;"><span class="nextTickEstimation label" style="font-weight: bold;">-</span></span>
		</div>
		<div>
			<span style="margin: 0px 10px">Reputation: <span class="reputation label"></span> <span class="reputationLevel label"></span></span>
		</div>
	</div>
  	<div id="topBar" data-scroll="false" class="menubar">
  		<div class="desktopOnly hide-empty">
  			<div class="topBarDetails font-mono" style="display: none;">
				<div style="display: flex;align-items: center;justify-content: center;height: 16px;">
					<p class="currentTime label"></p>
					<p style="margin: 0px 8px" title="An estimation of how long until next cycle/week"><img src='@routes.Assets.versioned("images/icons/clock-moon-phase.png")' style="vertical-align: middle;"><span class="nextTickEstimation label" style="font-weight: bold;">-</span></p>
					<p style="margin: 0px 16px" title="Balance">$<span class="balance"></span></p>
					<p style="font-size: 13px;" class="currentAirline label font-display"></p>
					<div class="reputationStars"></div>
					<div class="delegatesShortcut clickable" onclick="toggleDelegateStatusModal()"></div>
				</div>
  			</div>
  		</div>
		<div style="max-width: 35%;" class="mobileOnly">
			<div class="topBarDetails">
				<span class="currentAirline label" style="margin-left: 0px 5px; font-weight: bold"></span>
				<span>$<span class="balance label"></span></span>
				<span style="display: inline-block;" class="delegatesShortcut clickable" onclick="toggleDelegateStatusModal()">
				<span style="margin: 0px 10px; padding: 0 5px"  title="Latest Oil Price" class="latestOilPriceShortCut clickable" onclick="showOilCanvas()">
					<span class="latest-price label" style=""></span>
				</span>
			</div>
		</div>
  		<div style="display: flex; align-items: center; flex-wrap: wrap;">
			<span  style="padding: 0 4px;"><img class="clickable" src='@routes.Assets.versioned("images/icons/24px/equalizer.png")' onclick="toggleSettings()" title="Settings"></span>
			<div style="display: none; display: flex; align-items: center;" id="loginDiv" class="topBarItem">
				<input type="text" id="loginUserName" placeholder="username" tabindex=1/>
				<a href="/forgot-id"  target="_blank" style="margin-right: 4px">
					<img src='@routes.Assets.versioned("images/icons/question-frame.png")' title="Forgot User Name?">
				</a>
				<input type="password" id="loginPassword" onkeydown="passwordLogin(event)" tabindex=2 placeholder="password"/>
				<a href="/forgot-password"  target="_blank" style="margin-right: 4px">
					<img src='@routes.Assets.versioned("images/icons/question-frame.png")' title="Forgot Password?">
				</a>
				<div class="button desktopOnly login" onclick="login()" tabindex=3>Login</div>
				<div class="mobileOnly" onclick="login()"><img src='@routes.Assets.versioned("images/icons/24px/login.png")' title="Login"></div>

				<div class="button desktopOnly" onclick="" tabindex=4><a href="signup">Sign Up</a></div>
			</div>
			<div style="display: none;" id="logoutDiv" class="topBarItem">
				<span id="currentUserName" class="label desktopOnly"></span>
				<div class="button desktopOnly" onclick="logout()" style="width:90px">Logout</div>
				<div class="mobileOnly" onclick="logout()"><img src='@routes.Assets.versioned("images/icons/24px/logout.png")' title="Login"></div>
			</div>
<!--			<div class="button desktopOnly topBarItem">-->
<!--				<a href="https://airlineclub.createaforum.com/" target="_blank">-->
<!--					Forums-->
<!--				</a>-->
<!--			</div>-->
<!--			<div class="mobileOnly topBarItem">-->
<!--				<a href="https://airlineclub.createaforum.com/" target="_blank">-->
<!--					<img src='@routes.Assets.versioned("images/icons/24px/forums.png")' style="vertical-align: middle;" title="Forums">-->
<!--				</a>-->
<!--			</div>-->
			<div class="topBarItem no-highlight" id="discordDiv">
				<a href="https://discord.gg/e6VgGswVep"  target="_blank">
					<img src='@routes.Assets.versioned("images/buttons/Discord-Logo-Color.png")' style="max-height: 30px; vertical-align: middle;" title="Official Discord">
				</a>
			</div>
			<div class="topBarItem" id="patreonDiv">
				<a href="https://www.patreon.com/myflyclub/"  target="_blank">
					<img class="desktopOnly" src='@routes.Assets.versioned("images/buttons/become_a_patron_button.png")' style="max-height: 30px; vertical-align: middle;" title="Become a Patreon to support this project!">
					<img class="mobileOnly" src='@routes.Assets.versioned("images/buttons/patreon_mark_coral.jpg")' style="max-height: 30px; vertical-align: middle;" title="Become a Patreon to support this project!">
				</a>
			</div>




		</div>
	</div>
	<div id="moreTopBarTab" class="mobileOnly" onclick="showExtendedTopBarDetails()">
		<ul class="moreRow">
			<li>
				<span></span>
				<span></span>
				<span></span>
			</li>
		</ul>
	</div>



<!--	<div id="console" class="marquee" style="width: 100%; position: relative;" align="center">-->
<!--		<div class="div-overlay" onclick="toggleConsoleMessage()" title="Click to toggle message"></div>-->
<!--		<span id="consoleMessage"></span>-->
<!--	</div>-->


	<div style="position: relative;" id="mainContainer" > <!-- Main container for the contents + the landing masks-->
		<div id="landing">
			<div id="landing-content">
<!--				<div class="title" style="display: flex; ">-->
<!--					<span class="text write" data-splitting="lines">-->
<!--					The most sophisticated airline sim ever made.<br/>-->
<!--					Track pax movement throughout your network,<br/>-->
<!--					join an alliance and become the Ultimate airline!<br/>-->
<!--					<br/>-->
<!--					100% free and open source!-->
<!--				 </span>-->
<!--					<span aria-hidden="true" class="text laser" data-splitting="lines">-->
<!--					The most sophisticated airline sim ever made.<br/>-->
<!--					Track pax movement throughout your network,<br/>-->
<!--					join an alliance and become the Ultimate airline!<br/>-->
<!--					<br/>-->
<!--					100% free and open source!-->
<!--				</span>-->
<!--				</div>-->
				<div style="width: 100%; position: relative; padding-bottom: min(540px, 0%);">
    <img src="https://myfly.club/assets/images/front/banner.png" alt="Banner Image" style="width: 100%; max-width: 960px; height: 540px; display: block; margin: 0 auto;">
</div>
				<div style="width:100%; max-width: 540px; margin:auto;">
					<div style="margin-top:20px;"><a href="about" class="landing-link">&gt;&gt; Tell me more</a></div>
					<div><a href="signup" class="landing-link">&gt;&gt; Sign me up</a></div>
					<div><a href="#"  class="landing-link" onclick="closeAbout()">&gt;&gt; Check out the game world</a></div>
					<div><a href="#"  class="landing-link" onclick="closeAbout(); showSearchCanvas();">&gt;&gt; Search for a Flight in-game</a></div>
				</div>

			</div>
		</div>
		<div id="main" style="width: 100%; position: relative;  overflow-x: auto; overflow-y: scroll;" >
			<!-- Chat Window -->
			<div id="live-chat" class="user-specific-tab">
				<div ng-app="ChatApp">
					<div ng-controller="ChatController as chat">
						<header class="clearfix">
							<span>
							 <i></i>
							<h4>
								<ul class="ctabs">
									<li class="tab-link current" data-tab="chatBox-1" data-room-id="0">General</li>
									<li class="tab-link" data-tab="chatBox-2" id="allianceChatTab"></li>
								</ul>
							</h4>
							<div class="chatOption"><img class="clickable" src='@routes.Assets.versioned("images/icons/arrow-stop-270.png")' title="Scroll to bottom" onclick="adjustScroll()"></div>
							</span>
							<span class="notify-bubble">0</span>
						</header>
						<div class="chat" id="chat-box" style="display: none;">
							<div class="chat-history tab-content current" id="chatBox-1">
								<ul style="padding: 5px;">
<!--									<li ng-repeat="msg in chat.gmessages track by $index">-->
<!--										{{msg}}-->
<!--									</li>-->
								</ul>
							</div> <!-- end chat-history -->
							<div class="chat-history tab-content" id="chatBox-2">
								<ul style="padding: 5px;">
<!--									<li ng-repeat="msg in chat.amessages track by $index">-->
<!--										{{msg}}-->
<!--									</li>-->
								</ul>
							</div> <!-- end chat-history -->
						   <form autocomplete="off">
							   <input autocomplete="false" name="hidden" type="text" style="display:none;">
							   <div style="display: inline-block; position: relative; width: 95%;">
								<input type="text" maxlength="250" placeholder="Enter message..." ng-keyup="$event.keyCode == 13 && chat.sendMessage($event)" id="chattext"/>
<!--								   <img src='@routes.Assets.versioned("images/emoji/smiley.png")' id="emojiButton" title='Emoji Menu' style="position : absolute; right: -10px; height:25px; width:25px;" class="button"/>-->
							   </div>

							</form>
						</div> <!-- end chat -->
					</div>
				</div>
			</div>
			<!-- end live-chat -->
            <div style="position: fixed; top: 0px; width: 15px; height: 100%; z-index: 2; background-color: transparent;" id="tabGroupCue">
            </div>

			<div style="position: fixed; z-index: 1; top: 40px; display: none; height: calc(100% - 40px); overflow-y: scroll;" id="tabGroup">
	<!-- 	  		<ul class="tabs" id="main-tabs" style="display: none;"> -->
				<ul class="tabs" id="main-tabs" style="padding: 4px 4px 60px">

				  <li class="left-tab worldMapCanvasTab">
                      <div style="display:flex; align-items: center;">
                          <button class="tab-icon" data-link="/" onclick="showWorldMap();">
                            <img src='@routes.Assets.versioned("images/icons/globe-green.png")' style="margin: auto;">
                          </button>
                          <span class="label floatLabel">World Map</span>
                      </div>
                  </li>
				  <li class="button left-tab user-specific-tab linksCanvasTab">
                      <div style="display:flex; align-items: center;">
                          <button class="tab-icon" data-link="link" onclick="showLinksDetails();">
                              <img src='@routes.Assets.versioned("images/icons/arrow-step-over.png")' style="margin: auto;">
                          </button>
                          <span class="label floatLabel">Flights</span>
                      </div>
                  </li>
<!--	&lt;!&ndash; 			  <li class="button left-tab" id="airportCanvasTab" onclick="showAirportDetails();"><span>Airport</span></li> &ndash;&gt;-->


                    <li class="button left-tab user-specific-tab airplaneCanvasTab">
                        <div style="display:flex; align-items: center;">
                            <button class="tab-icon" data-link="airplane" onclick="showAirplaneCanvas();">
                                <img src='@routes.Assets.versioned("images/icons/airplane-gear.png")' style="margin: auto;">
                            </button>
                            <span class="label floatLabel">Airplane</span>
                        </div>
                    </li>
                    <li class="button left-tab user-specific-tab officeCanvasTab">
                        <div style="display:flex; align-items: center;">
                            <button class="tab-icon" data-link="office" onclick="showOfficeCanvas();">
                                <img src='@routes.Assets.versioned("images/icons/building-hedge.png")' style="margin: auto;">
                            </button>
                            <span class="label floatLabel">Office</span>
                        </div>
                    </li>
					<li class="button left-tab rankingCanvasTab">
						<div style="display:flex; align-items: center;">
							<button class="tab-icon" data-link="ranking" onclick="showRankingCanvas();">
								<img src='@routes.Assets.versioned("images/icons/trophy.png")' style="margin: auto;">
							</button>
							<span class="label floatLabel">Leaderboards</span>
						</div>
					</li>
                    <li class="button left-tab user-specific-tab bankCanvasTab">
                        <div style="display:flex; align-items: center;">
                            <button class="tab-icon" data-link="bank" onclick="showBankCanvas();">
                                <img src='@routes.Assets.versioned("images/icons/bank.png")' style="margin: auto;">
                            </button>
                            <span class="label floatLabel">Bank</span>
                        </div>
                    </li>
                    <li class="button left-tab user-specific-tab oilCanvasTab">
                        <div style="display:flex; align-items: center;">
                            <button class="tab-icon" data-link="oil" onclick="showOilCanvas();">
                                <img src='@routes.Assets.versioned("images/icons/oil-barrel.png")' style="margin: auto;">
                            </button>
                            <span class="label floatLabel">Oil</span>
                        </div>
                    </li>
                    <li class="button left-tab user-specific-tab rivalsCanvasTab">
                        <div style="display:flex; align-items: center;">
                            <button class="tab-icon" data-link="rival" onclick="showRivalsCanvas();">
                                <img src='@routes.Assets.versioned("images/icons/user-silhouette-question.png")' style="margin: auto;">
                            </button>
                            <span class="label floatLabel">Rivals</span>
                        </div>
                    </li>

                    <li class="button left-tab allianceCanvasTab">
                        <div style="display:flex; align-items: center;">
                            <button class="tab-icon" data-link="alliance" onclick="showAllianceCanvas();">
                                <img src='@routes.Assets.versioned("images/icons/puzzle.png")' style="margin: auto;">
                            </button>
                            <span class="label floatLabel">Alliance</span>
                        </div>
                    </li>
					<li class="button left-tab user-specific-tab countryCanvasTab">
						<div style="display:flex; align-items: center;">
							<button class="tab-icon" data-link="country" onclick="showCountryView();">
								<img src='@routes.Assets.versioned("images/icons/locale.png")'>
							</button>
							<span class="label floatLabel">Country</span>
						</div>
					</li>
<!--                    <li class="button left-tab user-specific-tab logCanvasTab">-->
<!--                        <div style="display:flex; align-items: center;">-->
<!--                            <button class="tab-icon" data-link="log" onclick="showLogCanvas();">-->
<!--                                <img src='@routes.Assets.versioned("images/icons/book-open-text.png")' style="margin: auto;">-->
<!--                            </button>-->
<!--                            <span class="label floatLabel">Log</span>-->
<!--                        </div>-->
<!--                    </li>-->
                    <li class="button left-tab user-specific-tab eventCanvasTab">
                        <div style="display:flex; align-items: center;">
                            <button class="tab-icon" data-link="event" onclick="showEventCanvas();">
                                <img src='@routes.Assets.versioned("images/icons/olympics-medal.png")' style="margin: auto;">
                            </button>
                            <span class="label floatLabel">Event</span>
                        </div>
                    </li>
                    <li class="button left-tab searchCanvasTab">
                        <div style="display:flex; align-items: center;">
                            <button class="tab-icon" data-link="search" onclick="showSearchCanvas();">
                                <img src='@routes.Assets.versioned("images/icons/magnifier.png")' style="margin: auto;">
                            </button>
                            <span class="label floatLabel">Search</span>
                        </div>
                    </li>
				</ul>
			</div>

		<!-- main canvas start -->
			<div id="canvas">
				<div id="worldMapCanvas" class="canvas" style="height: 100%; padding: 0px">
					<div id="map" class="mainPanel"
						 data-headquarter-marker='@routes.Assets.versioned("images/markers/headquarter.png")'
						 data-base-marker='@routes.Assets.versioned("images/markers/base.png")'
						 data-large-airport-marker='@routes.Assets.versioned("images/markers/airport-darker.png")'
						 data-medium-airport-marker='@routes.Assets.versioned("images/markers/airport.png")'
						 data-small-airport-marker='@routes.Assets.versioned("images/markers/airport-lighter.png")'
						 data-gateway-airport-marker='@routes.Assets.versioned("images/markers/airport-gateway.png")'
						 data-domestic-airport-marker='@routes.Assets.versioned("images/markers/airport-domestic.png")'
						 data-disabled-airport-marker='@routes.Assets.versioned("images/markers/airport-transparent.png")'></div>
					<div id="sidePanel" class="sidePanel" style="display:none;" >
						<div id="detailsPanel" class="section">
							<div id="linkDetails" class="flex-container-width-half">
								<div id="linkCurrentDetails">
									<h4 class="section-title">Flight <span id="linkFlightCode"></span></h4>
									<div class="pb-5" style="display:flex;">
										<div class="link-decoration">
											<div class="link-decoration-circle"></div>
											<div style="border-right: 3.2px dotted #5f6368;flex: 1;margin-bottom: 4px;margin-top: 4px;width: 0px;"></div>
											<div style="border: 2px solid #5f6368; border-radius:12px; height: 12px; width: 12px;"></div>
										</div>
										<div>
											<p class="text-base pb-2 leading-tight"><span class="clickable" id="linkFromAirport" data-link="airport"></span></p>
											<p class="leading-snug"><span id="linkDistance"></span> | <span id="linkDuration"></span></p>
											<p class="pb-2"><i id="linkAirplaneModel"></i></p>
											<p class="text-base leading-tight"><span class="clickable" id="linkToAirport" data-link="airport"></span></p>
										</div>
									</div>
									<h5 class="leading-snug text-base">Price</h5>
									<div class="class-values">
										<p class="class-value-child-helper">economy</p>
										<p class="class-value-child-helper">business</p>
										<p class="class-value-child-helper">first class</p>
									</div>
									<div class="text-base pb-3 font-mono" id="linkCurrentPrice"></div>
									<h5 class="leading-snug text-base">Capacity</h5>
									<div class="class-values">
										<p class="class-value-child-helper">economy</p>
										<p class="class-value-child-helper">business</p>
										<p class="class-value-child-helper">first class</p>
									</div>
									<div class="pb-3">
										<div class="text-base font-mono" id="linkCurrentCapacity"></div>
										<div class="future" style="display:flex; align-items: center;">
											<span class="capacity"></span><img class="awaitingAirplanes" src='@routes.Assets.versioned("images/icons/information.png")' title="Capacity when all airplanes are delivered">
										</div>
									</div>
									<input type="hidden" id="actionLinkId">
									<input type="hidden" id="linkFromAirportId">
									<input type="hidden" id="linkToAirportId">
									<button type="button" class="button ml-0" onclick="editLink($('#actionLinkId').val())">Edit</button>
									<button type="button" class="button" onclick="deselectLink()">Cancel</button>

									<div class="divider"></div>
									<div class="table" id="linkHistoryDetails" style="width: 100%">
										<h4 class="section-title">
											Last week:
										</h4>
										<div class="table-row">
											<div class="label" style="width:45%">
													Overall Quality:
											</div>
											<div class="value"><span id="linkQuality"></span><div class="tooltip">
												<img src='@routes.Assets.versioned("images/icons/information.png")'>
												<span class="tooltiptext below" style="width: 280px;">
													<p><b>Overall quality</b> is determined by:<br/>
														- Service stars on the route (30%)<br/>
														- Aircraft age of the route (20%)<br/>
														- Company-wide employee quality (50%)<br/>
														- Additionally, aircraft may increase or decrease it<br/>
														</p>
													<!--														<img src='@routes.Assets.versioned("images/clips/service-quality.gif")' loading="lazy">-->
													<!--                                                        <img data-src='@routes.Assets.versioned("images/clips/service-quality.gif")' class="lazyload" alt="">-->
													</span>
											</div></div>
										</div>
										<div class="table-row">
											<div class="label">Price:</div>
											<div class="value" id="linkHistoryPrice"></div>
										</div>
										<div class="table-row">
											<div class="label">Capacity:</div>
											<div class="value" id="linkHistoryCapacity"></div>
										</div>
										<div class="table-row">
											<div class="label">Load Factor:</div>
											<div class="value" id="linkLoadFactor"></div>
										</div>
										<div class="table-row">
											<div class="label">Profit:</div>
											<div class="value" id="linkProfit"></div>
										</div>
										<div class="table-row">
											<div class="label">Revenue:</div>
											<div class="value" id="linkRevenue"></div>
										</div>
										<div class="table-row">
											<div class="label">Delays & Cancellations:</div>
											<div class="value"><span id="linkDelays"></span> | <span id="linkCancellations"></span> <div class="tooltip">
												<img src='@routes.Assets.versioned("images/icons/information.png")'>
												<span class="tooltiptext below" style="width: 280px;">
													<p><b>Delays & Cancellations</b> are caused by old aircraft on a route.</p>
													</span>
											</div></div>
										</div>
										<h4 class="section-title pt-3">Costs:</h4>
										<div class="table-row">
											<div class="label" style="width:45%">Fuel:</div>
											<div class="value"><span id="linkFuelCost"></span> <div class="tooltip">
												<img src='@routes.Assets.versioned("images/icons/information.png")'>
												<span class="tooltiptext below" style="width: 280px;">
													<p>Flight <b>fuel costs</b> use a normalized $70 fuel cost and don't include any fuel contracts.</p>
												</span>
											</div></div>
										</div>
										<div class="table-row">
											<div class="label">Labor / Crew:</div>
											<div class="value"><span id="linkCrewCost"></span> <div class="tooltip">
												<img src='@routes.Assets.versioned("images/icons/information.png")'>
												<span class="tooltiptext below" style="width: 280px;">
													<p><b>Labor / Crew Costs</b> are based on the flight duration, flight capacity, and the company-wide "Target Employee Quality" set in the office.</p>
												</span>
											</div></div>
										</div>
										<div class="table-row">
											<div class="label">Airport Fees:</div>
											<div class="value"><span id="linkAirportFees"></span> <div class="tooltip">
												<img src='@routes.Assets.versioned("images/icons/information.png")'>
												<span class="tooltiptext below" style="width: 280px;">
													<p><b>Airport Fees</b> are higher with larger aircraft and at larger airports, especially very large airports.</p>
												</span>
											</div></div>
										</div>
										<div class="table-row">
											<div class="label">Service Costs:</div>
											<div class="value"><span id="linkServiceSupplies"></span> <div class="tooltip">
												<img src='@routes.Assets.versioned("images/icons/information.png")'>
												<span class="tooltiptext below" style="width: 280px;">
													<p><b>Service Costs</b> are the product of flight service stars, flight duration, and sold seats multiplied by their class level.</p>
													<p>That is, low service stars on an economy seats is very cheap; high service stars on first class seats is quite expensive.</p>
												</span>
											</div></div>
										</div>
										<div class="table-row">
											<div class="label">Depreciation:</div>
											<div class="value" id="linkDepreciation"></div>
										</div>
										<div class="table-row">
											<div class="label">Lounge Use:</div>
											<div class="value" id="linkLoungeCost"></div>
										</div>
										<div class="table-row">
											<div class="label">Maintenance:</div>
											<div class="value" id="linkMaintenance"></div>
										</div>
										<div class="table-row">
											<div class="label">Delay Compensation:</div>
											<div class="value" id="linkCompensation"></div>
										</div>
									</div>
									<div class="flex-container-width-half gap-2 py-2">
										<button type="button" class="button viewLinkComposition ml-0" onclick="showLinkComposition($('#actionLinkId').val())">Survey</button>
										<button type="button" class="button viewLinkEvent mr-0" onclick="showLinkEventHistory($('#actionLinkId').val())">Events</button>
										<button type="button" style="width:100%" class="button viewLinkHistory ml-0 mr-0" onclick="showLinkHistoryView()">Passenger Map</button>
									</div>
									<div class="divider"></div>
									<h4 class="pt-2">
										<span>Direct Competitions</span>
										<img src='@routes.Assets.versioned("images/icons/chart-up.png")' class="clickable" title="View Rival History"onclick="showLinkRivalHistory($('#actionLinkId').val())" style="vertical-align: text-bottom">
										<img src='@routes.Assets.versioned("images/icons/magnifier.png")' class="clickable" title="View Rival Details"onclick="showLinkRivalDetails($('#actionLinkId').val())" style="vertical-align: text-bottom">
									</h4>
									<div class="table data" id="linkCompetitons" style="width: 100%">
										<div class='table-header'>
											<div class="cell" style="width: 30%;"><h5>Airline</h5></div>
											<div class="cell" style="width: 24%;"><h5>Price</h5></div>
											<div class="cell" style="width: 20%;"><h5>Capacity</h5></div>
                                            <div class="cell" style="width: 13%;"><h5>Quality</h5></div>
                                            <div class="cell" style="width: 13%;"><h5>Freq.</h5></div>
										</div>
									</div>
									<div id=linkCompetitionsPie align="center"></div>
								</div>
								<div id="linkCharts">
									<fieldset>
										<div class="switch" style="float: right;">
											<input type="radio" class="switch-input" name="view" value="month" id="switchMonth" onchange="refreshLinkCharts()">
											<label for="switchMonth" class="switch-label switch-label-off">Month</label>
											<input type="radio" class="switch-input" name="view" value="quarter" id="switchQuarter" onchange="refreshLinkCharts()" checked>
											<label for="switchQuarter" class="switch-label switch-label-on">Qtr</label>
											<span class="switch-selection"></span>
										</div>
									</fieldset>
									<div style="clear: both;"></div>
									<div id="linkProfitChart" style="height: 180px;"></div>
									<div id="linkRidershipChart" style="height: 260px;"></div>
									<div id="linkRevenueChart" style="height: 260px;"></div>
									<div id="linkPriceChart" style="height: 260px;"></div>
								</div>
							</div>
							<div id="planLinkDetails" style="width: 100%; display: none; max-width: 36rem;">
								<div class="pb-4" style="display:flex;">
									<div class="link-decoration">
										<div class="link-decoration-circle"></div>
										<div style="border-right: 3.2px dotted #5f6368;flex: 1;margin-bottom: 4px;margin-top: 4px;width: 0px;"></div>
										<div style="border: 2px solid #5f6368; border-radius:12px; height: 12px; width: 12px;"></div>
									</div>
									<div>
										<p class="text-lg pb-1"><span class="clickable" id="planLinkFromAirportName" data-link="airport"></span><img id="planLinkFromAirportEditIcon" src='@routes.Assets.versioned("images/icons/gear.png")' class='clickable' onclick="$('#planLinkFromAirportSelect').show()"  title="Change From Airport" data-link="airport"></p>
										<p class="leading-snug"><span id="planLinkDistance"></span> <i class="planLinkFlightType"></i></p>
										<p class="text-lg"><span class="clickable" id="planLinkToAirportName" data-link="airport"></span></p>
									</div>
								</div>

								<div class="flex-row">
									<div style="width:162px"><p>Regulatory status at <span class="planToIata"></span>:</p></div>
									<div style="width:calc(100% - 165px)"><p class="leading-snug">
										<span id="planLinkToCountryTitle"><img class="airlineTitleIcon" style='display : none; vertical-align: middle;'>&nbsp;<span class="airlineTitle titleCue"></span></span>,
										<span id="planLinkToCountryRelationship">
												<span class="total"></span>
												<img class="pb-1 clickable detailsIcon titleCue" src='@routes.Assets.versioned("images/icons/gear.png")' title='Manage Relationship' class="clickable detailsIcon titleCue" onclick="showRelationshipDetailsModal($(this).data('relationship'), $(this).data('title'), $(this).data('countryCode'))" style="vertical-align: middle;">
											</span>
									</p></div>
								</div>
								<div class="flex-row">
									<div style="width:162px"><p>Country relations:</p></div>
									<div><p class="pl-1" id="planLinkMutualRelationship"></p></div>
								</div>
								<div class="flex-row pb-2">
									<div style="width:162px"><p>Airport affinity:</p></div>
									<div style="width:calc(100% - 165px)"><p class="leading-snug" id="planLinkAffinity"></p></div>
								</div>

								<div class="flex-row py-2">
									<div style="width:162px"><h5>Direct Demand (Y/J/F):</h5></div>
									<div style="display: flex; align-items : center">
										<span id="planLinkDirectDemand"></span>
										<div class="tooltip">
											<img src='@routes.Assets.versioned("images/icons/information.png")'>
											<span class="tooltiptext below directDemandBreakdown" style="width: 200px;">
												<div class="fromAirport">
													<h4>From <span class="airportLabel"></span></h4>
													<p> Traveler: <span class="travelerDemand"></span></p>
													<p> Business: <span class="businessDemand"></span></p>
													<p> Tourist: <span class="touristDemand"></span></p>
													<p> Elite: - / - / ??</p>
												</div>
												<div class="toAirport" class="py-2">
													<h4>From <span class="airportLabel"></span></h4>
													<p> Traveler: <span class="travelerDemand"></span></p>
													<p> Business: <span class="businessDemand"></span></p>
													<p> Tourist: <span class="touristDemand"></span></p>
													<p> Elite: - / - / ??</p>
												</div>
												<p class="leading-snug py-1">Elite demand can't be estimated because it changes every cycle!</p>
											</span>
										</div>
									</div>
								</div>

								<div class="table data py-2" id="planLinkCompetitons" style="width: 100%">
									<div class='table-header'>
										<div class="cell" style="width: 30%;"><h5>Airline</h5></div>
										<div class="cell" style="width: 28%;"><h5>Price</h5></div>
										<div class="cell" style="width: 20%;"><h5>Capacity</h5></div>
										<div class="cell" style="width: 12%;"><h5>Quality</h5></div>
										<div class="cell" style="width: 10%;"><h5>Freq.</h5></div>
									</div>
								</div>
								<div class="flex-container-width-quarter pt-2">
									<div></div>
									<div class="h-8"><p>Set price</p></div>
									<div class="h-8"><p class="leading-none h-7">Load factor<br><small style="font-size:10px">20 week average</small></p></div>
									<div class="h-8"><p class="leading-none h-7">Markup<br><small style="font-size:10px">Or markdown</small></p></div>
								</div>
								<div class="flex-container-width-quarter">
									<div><h5>Economy:</h5></div>
									<div class="m-0"><input type="text" id="planLinkEconomyPrice" data-class="economy" class="planLinkPrice py-1 font-mono"/></div>
									<div><p class="py-1" id="planLFEconomy">100%</p></div>
									<div><p class="py-1" id="planMarkupEconomy">100%</p></div>
								</div>
								<div class="flex-container-width-quarter">
									<div class="m-0"><h5>Business:</h5></div>
									<div class="m-0"><input type="text" id="planLinkBusinessPrice" data-class="business" class="planLinkPrice py-1 font-mono"/></div>
									<div><p class="py-1" id="planLFBusiness">100%</p></div>
									<div><p class="py-1" id="planMarkupBusiness">100%</p></div>
								</div>
								<div class="flex-container-width-quarter">
									<div class="m-0"><h5>First:</h5></div>
									<div>
										<input type="text" id="planLinkFirstPrice" data-class="first" class="planLinkPrice py-1 font-mono"/>
										<div>
											<img src='@routes.Assets.versioned("images/icons/plus-button.png")' class='button pr-1 py-1' onclick='increasePrice()'  title="Increase all price by 5% of Default">
											<img src='@routes.Assets.versioned("images/icons/minus-button.png")' class='button pr-1 py-1' onclick='decreasePrice()'  title="Decrease all price by 5% of Default">
											<img src='@routes.Assets.versioned("images/icons/arrow-circle-135.png")' class='button pr-1 py-1' onclick='resetPrice()'  title="Reset to Default Ticket Prices">
										</div>
									</div>
									<div class="m-0"><p class="py-1" id="planLFFirst">100%</p></div>
									<div class="m-0"><p class="py-1" id="planMarkupFirst">100%</p></div>
								</div>
								<div class="table py-2" style="width: 100%" id="planLinkExtendedDetails">
									<input type="hidden" id="planLinkFromAirportId"/>
									<input type="hidden" id="planLinkToAirportId"/>
									<div class="table-row">
										<div class="label">Setup Cost:</div>
										<div class="value" id="planLinkCost"></div>
									</div>
									<div class="table-row">
										<div class="label">Estimated Difficulty:</div>
										<div class="value" id="planLinkEstimatedDifficulty"></div>
									</div>
									<div class="table-row" id="planLinkModelRow">
										<div class="label">Airplane Model (max freq):</div>
										<div class="value"><select class="select-css" id="planLinkModelSelect" onchange="updatePlanLinkInfoWithModelSelected($(this).val()); updateModelInfo($(this).val())"></select></div>
									</div>
									<div class="table-row">
										<div class="label">Flight Duration:</div>
										<div class="value" id="planLinkDuration"></div>
									</div>
									<div class="table-row">
										<div class="label">
											<h5>
												<span>Available Airplanes:</span>
												<div style="display: inline-block">
													<div style="display:flex ; align-items: baseline;">
														<input type="checkbox" onclick="toggleUtilizationRate($('#planLinkAirplaneSelect'), $(this))" class="toggleUtilizationRateBox"/>
														<img src='@routes.Assets.versioned("images/icons/clock-select-remain.png")' title="Toggle Utilization Rate">
														<input type="checkbox" onclick="toggleCondition($('#planLinkAirplaneSelect'), $(this))" class="toggleConditionBox"/>
														<img src='@routes.Assets.versioned("images/icons/gear.png")' title="Toggle Airplane Condition">
													</div>
												</div>
											</h5>
										</div>
										<div class="value">
											<div class="noAirplaneHelp" style="display: none">
												<div class="tooltip">
													<img src='@routes.Assets.versioned("images/icons/information.png")'>
													<h5>
														<span class="tooltiptext below">
															Purchase airplane
															<img data-src='@routes.Assets.versioned("images/clips/buy-airplane.gif")' class="lazyload" alt="">
															Or assign airplane to this airport
															<img data-src='@routes.Assets.versioned("images/clips/change-airplane-base.gif")' class="lazyload" alt="">
														 </span>
													</h5>
												</div>
												No airplane with this model based in this airport
											</div>
											<div id="planLinkAirplaneSelect" style="display : inline-block;"></div>
										</div>
									</div>
									<div class="table-row">
										<div class="label">
											<h5>
												<span>Flight Frequency:</span>
												<div class="tooltip">
													<img src='@routes.Assets.versioned("images/icons/information.png")'>
													<span class="tooltiptext below">
														Increase/decrease the flight frequency by selecting/deselecting the airplane icons. <br/>
														<img data-src='@routes.Assets.versioned("images/clips/flight-frequency.gif")' class="lazyload" alt="">
													</span>
												</div>
											</h5>
										</div>
										<!--  <div class="value"><input type="text" id="planLinkFrequency"/></div> -->
										<div class="value">
											<div class="frequencyDetail table colored" style="width: 100%">
												<div class="table-header"/>
													<div class="cell" style="width: 20%; min-width: 100px;">Airplane</div>
													<div class="cell" style="width: 20%">Seats Config</div>
													<div class="cell" style="width: 60%">Flight Frequency</div>
												</div>
											</div>
											<div class="frequencyDetailTotal table" style="width: 100%">
												<div class="table-header"/>
													<div class="cell" style="width: 20%; min-width: 100px;"></div>
													<div class="cell" style="width: 20%"></div>
													<div class="cell" style="width: 60%"></div>
												</div>
												<div class="table-row"/>
													<div class="cell"></div>
													<div class="cell"></div>
													<div class="cell">Total <span class="total"></span> flight(s) per week</div>
												</div>
											</div>
										</div>
									</div>
									<div class="table-row">
										<div class="label">Capacity (Y/J/F):</div>
										<div class="value">
											<span id="planLinkCapacity"></span>
											<div class="future">
												<div style="display:flex; align-items: center;">
													&nbsp;(<img class="awaitingAirplanes" src='@routes.Assets.versioned("images/icons/information.png")' title="Capacity when all airplanes are delivered"><span class="capacity"></span>)
												</div>
											</div>
										</div>
									</div>
									<div class="table-row">
										<h5 class="label">Service Level:</h5>
										<div class="value">
											<div id="serviceLevelBar" data-empty-icon='@routes.Assets.versioned("images/icons/star-empty.png")' data-fill-icon='@routes.Assets.versioned("images/icons/star.png")'></div>
											<p><i>Service expectation from:</i> <a class="planFromIata" onclick="showLinkExpectedQualityModal(true)"></a> | <a class="planToIata" onclick="showLinkExpectedQualityModal(false)"></a></p>
											<input type="hidden" id="planLinkServiceLevel" value="1"/>
										</div>
									</div>
									<div class="table-row">
										<div class="label">Staff Requried:</div>
										<div class="value" style="">
											<span class="staffRequired"></span>
											<span id="linkStaffBreakdownTooltip" class="tooltip">
												<img src='@routes.Assets.versioned("images/icons/information.png")'>
												<span class="tooltiptext alignLeft" style="width: 400px;">
													<h4 style="margin-bottom: 10px;">Office Staff Requirement Breakdown <span class="airlineName"></span></h4>
													<div class="table data" style="width: 100%;">
														<div class="table-row">
															<div class="label">Flight Type:</div>
															<div class="value flightType"></div>
														</div>
														<div class="table-row">
															<div class="label">Base flight type cost:</div>
															<div class="value basic"></div>
														</div>
														<div class="table-row">
															<div class="label">Frequency support:</div>
															<div class="value frequency"></div>
														</div>
														<div class="table-row">
															<div class="label">Capacity support:</div>
															<div class="value capacity"></div>
														</div>
														<div class="table-row">
															<div class="label">Modifier:</div>
															<div class="value modifier"></div>
														</div>
													</div>
													<h4 style="margin-top: 10px">Total: <span class="total"></span></h4>
												</span>
											</span>
											<i class="pl-1 planLinkFlightType"></i>
										</div>
									</div>
									<div class="linkRejection warning">
										<div><img src='@routes.Assets.versioned("images/icons/prohibition.png")'><span id="linkRejectionReason"></span></div>
									</div>
									<div class="warningList">
									</div>

									<div class="overtimeCompensation warning" style="display: flex; align-items: center;">
										<img src='@routes.Assets.versioned("images/icons/exclamation-red-frame.png")'>&nbsp;
										Exceeding operation capacity of current base. Extra overtime compensation of&nbsp;
										$<span class="amount"></span>&nbsp;
										will be charged per week for this change.
									</div>
									<div class="flex-container-width-half py-2 gap-2">
										<button type="button" class="button modifyLink ml-0" id="addLinkButton" onclick="linkConfirmation()">Create</button>
										<button type="button" class="button modifyLink ml-0" id="updateLinkButton" onclick="linkConfirmation()">Update</button>
										<button type="button" class="button mr-0" id="deleteLinkButton" onclick="promptConfirm('Delete this route?', deleteLink)">Delete</button>
										<button type="button" class="button" id="cancelLinkButton" onclick="cancelPlanLink()">Cancel</button>
									</div>
								</div>
							</div>
						</div>
		<!-- 		    	end details panel -->
						<div id="extendedPanel" class="section" style="display: none;">
							<div id="airplaneModelDetails" style="width: 100%; display: none;">
								<div class="table">
									<h4>Airplane Model Details</h4>
				<!-- 					Model : <select id="airplaneModelOption" onchange="updateModelInfo()"></select><br/> -->
									<div class="table-row">
										<div class="label" style="width: 50%;"><h5>Model:</h5></div>
										<div class="value" id="modelName"></div>
									</div>
									<div class="table-row">
										<div class="label">Family:</div>
										<div class="value modelFamily"></div>
									</div>
									<div class="table-row">
										<div class="label">Max Capacity:</div>
										<div class="value" id="capacity"></div>
									</div>
									<div class="table-row">
										<div class="label">Range:</div>
										<div class="value" id="range"></div>
									</div>
									<div class="table-row">
										<div class="label">Fuel Burn:</div>
										<div class="value" id="fuelBurn"></div>
									</div>
									<div class="table-row">
										<div class="label">Quality:</div>
										<div class="value" id="airplaneTypeQuality"></div>
									</div>
									<div class="table-row">
										<div class="label">Category:</div>
										<div class="value" id="airplaneType"></div>
									</div>
									<div class="table-row">
										<div class="label">Turnaround Time:</div>
										<div class="value"><span class="turnaroundTime"></span>&nbsp;min</div>
									</div>
									<div class="table-row">
										<div class="label">Runway required:</div>
										<div class="value"><span class="runwayRequirement"></span>&nbsp;m</div>
									</div>
									<div class="table-row">
										<div class="label">Speed:</div>
										<div class="value" id="speed"></div>
									</div>
									<div class="table-row">
										<div class="label">Lifespan:</div>
										<div class="value" id="lifespan"></div>
									</div>
									<div class="table-row">
										<div class="label">Manufacturer:</div>
										<div class="value manufacturer"></div>
									</div>
									<div class="table-row">
										<div class="label">Purchase Price:</div>
										<div class="value price"></div>
									</div>
									<div class="table-row">
										<div class="label">Delivery Time:</div>
										<div class="value delivery"></div>
									</div>
									<button type="button" class="button add ml-0" onclick="promptBuyNewAirplane($('#airplaneModelDetails .selectedModel').val(), true, $('#planLinkFromAirportId').val())">Purchase</button>
									<button type="button" class="button" onclick="showAirplaneBaseFromPlanLink($('#airplaneModelDetails .selectedModel').val())">Base</button>
									<button type="button" class="button ml-0" onclick="showAirplaneModelConfigurationsFromPlanLink($('#airplaneModelDetails .selectedModel').val())">Config</button>
									<input type="hidden" class="selectedModel"/>
								</div>
							</div>
						</div>
	<!-- 				end extended panel -->
				   </div>
	<!-- 	    	   end bottom panel -->
				</div>
	<!--   			end world map canvas -->
				<div id="linksCanvas"  class="canvas" style="display: none; height: 100%;">
					<div class="mainPanel">
						<div class="section tight">
							<div style="height: 20px; text-align: left;">
								<img src='@routes.Assets.versioned("images/icons/clock-frame.png")' class="button" title="Sort by last updated" onclick="toggleLinksTableSortOrder($('#hiddenLinkSortBy'))" style="vertical-align: text-bottom">
							</div>
							<div style="overflow-x: scroll;">
								<div style="width: 840px; height: 100%;overflow-x: auto;overflow-y: hidden;">
									<div class="table data" style="height: 20px;">
										<div class="table-header" id="linksTableSortHeader">
											<div class="cell clickable selected" style="width: 16%" data-sort-property="fromAirportCode" data-sort-order="descending" onclick="toggleLinksTableSortOrder($(this))">From Airport</div>
											<div class="cell clickable" style="width: 0%" data-sort-property="lastUpdate" data-sort-order="ascending" id="hiddenLinkSortBy"></div> <!--hidden column for last update (cannot be first otherwise the left round corner would not work -->
											<div class="cell clickable" style="width: 16%" data-sort-property="toAirportCode" data-sort-order="descending" onclick="toggleLinksTableSortOrder($(this))">To Airport</div>
											<div class="cell clickable" style="width: 15%" data-sort-property="model" data-sort-order="ascending" onclick="toggleLinksTableSortOrder($(this))">Model</div>
											<div class="cell clickable" style="width: 8%" align="right" data-sort-property="distance" data-sort-order="ascending" onclick="toggleLinksTableSortOrder($(this))">Distance</div>
											<div class="cell clickable" style="width: 8%" align="right" data-sort-property="totalCapacity" data-sort-order="ascending" onclick="toggleLinksTableSortOrder($(this))">Capacity (Freq.)</div>
											<div class="cell clickable" style="width: 5%" align="right" data-sort-property="totalPassengers" data-sort-order="ascending" onclick="toggleLinksTableSortOrder($(this))">Pax</div>
											<div class="cell clickable" style="width: 5%" align="right" data-sort-property="totalLoadFactor" data-sort-order="ascending" onclick="toggleLinksTableSortOrder($(this))" title="Load Factor">LF</div>
											<div class="cell clickable" style="width: 5%" align="right" data-sort-property="satisfaction" data-sort-order="ascending" onclick="toggleLinksTableSortOrder($(this))" title="Satisfaction Factor">SF</div>
											<div class="cell clickable" style="width: 11%" align="right" data-sort-property="revenue" data-sort-order="ascending" onclick="toggleLinksTableSortOrder($(this))">Revenue</div>
											<div class="cell clickable" style="width: 11%" align="right" data-sort-property="profit" data-sort-order="ascending" onclick="toggleLinksTableSortOrder($(this))">Profit</div>
										</div>
									</div>
									<div style="height: calc(100% - 40px); overflow-y:auto;">
										<div class="table data" id="linksTable" style="max-height: 100%;">
											<div class="table-header">
												<div class="cell" style="width: 16%; border-bottom: none;"></div>
												<div class="cell" style="width: 16%; border-bottom: none;"></div>
												<div class="cell" style="width: 15%; border-bottom: none;"></div>
												<div class="cell" style="width: 8%; border-bottom: none;"></div>
												<div class="cell" style="width: 8%; border-bottom: none;"></div>
												<div class="cell" style="width: 5%; border-bottom: none;"></div>
												<div class="cell" style="width: 5%; border-bottom: none;"></div>
												<div class="cell" style="width: 5%; border-bottom: none;"></div>
												<div class="cell" style="width: 11%; border-bottom: none;"></div>
												<div class="cell" style="width: 11%; border-bottom: none;"></div>
											</div>
										</div>
										<div style="height: 100px; width: 100%; min-width: 600px; display:none;" class="noLinkTips">
											<div style="height: 100%; width: 100%; display:flex; justify-content: center; align-items: center;">
												<div class="tooltip clickable">
													<span style="vertical-align:middle">No flights yet</span>
													<img src='@routes.Assets.versioned("images/icons/information.png")' style="vertical-align:middle">
													<span class="tooltiptext below">
														<h4>First build your Headquarters</h4>
														<img data-src='@routes.Assets.versioned("images/tutorial/build-hq.gif")' class="lazyload" alt="">
														<h4 style="margin-top: 10px;">Then select the Destination Airport from the world map</h4>
														<img data-src='@routes.Assets.versioned("images/tutorial/plan-link-1.gif")' class="lazyload" alt="">
													</span>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
					<!--  Link details here -->
				</div>
	<!--  end links canvas -->

				<div id="airportCanvas" class="canvas" style="display: none; min-width: 500px;">
					<!-- left panel -->
					<div style="max-width: 100%" class="vertical-group">
						<div style="width: 100%; display: flex; flex-flow: row; flex-wrap: wrap; gap: 8px;">
							<div class="vertical-group" style="flex-basis : 28%; flex-grow: 1; box-sizing:border-box;">
								<div class="section">
									<h4>Airport Rating</h4>
									<div class="table" style="width: 100%">
										<div class="table-row">
											<div class="label" style="width: 25%">Rating:</div>
											<div class="value economicRating rating" style="width: 75%"></div>
										</div>
<!--										<div class="table-row">-->
<!--											<div class="label" style="width: 25%">Country:</div>-->
<!--											<div class="value countryRating rating" style="width: 75%"></div>-->
<!--										</div>-->
										<div class="table-row">
											<div class="label" style="width: 25%">Competition:</div>
											<div class="value competitionRating rating" style="width: 75%"></div>
										</div>
										<div class="table-row">
											<div class="label" style="width: 25%">Charms:</div>
											<div class="value airportFeatures" style="width: 75%"></div>
										</div>
										<div class="table-row">
											<div class="label" style="width: 25%">Difficulty:</div>
											<div class="value difficulty rating" style="width: 75%"></div>
										</div>
									</div>
								</div>
								<div id="airportBaseDetails" class="section" style="box-sizing:border-box; margin-left: 0; margin-right: 0; margin-bottom:0px;">
									<h4>Your Airline Headquarters/Base</h4>
									<div class="table" style="width: 100%">
										<div class="table-row">
											<div class="label" style="width: 60% !important"><h5>Base Type:</h5></div>
											<div class="value" id="airportDetailsBaseType" style="width: 40% !important"></div>
										</div>
										<div class="table-row">
											<div class="label">Base Scale:</div>
											<div class="value" id="airportDetailsBaseScale"></div>
										</div>
										<div class="table-row">
											<div class="label">Base Upkeep:</div>
											<div class="value" id="airportDetailsBaseUpkeep"></div>
										</div>
										<div class="table-row">
											<div class="label">Country Delegates Required:</div>
											<div class="value" id="airportDetailsBaseDelegatesRequired"></div>
										</div>
										<div class="table-row">
											<div class="label">Office Staff: (req/cap)</div>
											<div class="value" style="display: flex; align-items: center;">
												<span id="airportDetailsStaff"></span>

												<span class="tooltip" onmouseover="showBaseDetailsModal()" >
													<img src='@routes.Assets.versioned("images/icons/information.png")'>
													<span class="tooltiptext below alignLeft" style="width: 400px;">
														<div id="baseDetailsModal">
														  <h4 style="margin-bottom: 10px;">Office Scale Details</h4>
														  <div class="table data scaleDetails" style="width: 100%;">
															  <div class="table-header">
																  <div class="cell" style="width: 20%;"><h5>Scale</h5></div>
																  <div class="cell" style="width: 20%;"><h5>Staff Cap (HQ/base)</h5></div>
																  <div class="cell" data-group="GROUP_1" style="width: 20%;"><h5>Freq Cap 1</h5></div>
																  <div class="cell" data-group="GROUP_2" style="width: 20%;"><h5>Freq Cap 2</h5></div>
																  <div class="cell" data-group="GROUP_3" style="width: 20%;"><h5>Freq Cap 3</h5></div>
															  </div>
														  </div>
														  <div class="groupRemarks">
														  </div>
													  </div>
													</span>
												</span>

<!--												<img src='@routes.Assets.versioned("images/icons/information.png")' onmouseover="showBaseDetailsModal()" onmouseout="$('#baseDetailsModal').fadeOut(500)">-->
											</div>
										</div>

										<div class="table-row">
											<div class="label">Build/Upgrade Cost:</div>
											<div class="value" id="airportDetailsBaseUpgradeCost"></div>
										</div>
										<div class="table-row">
											<div class="label">Base Upkeep after upgrade:</div>
											<div class="value" id="airportDetailsBaseUpgradeUpkeep"></div>
										</div>
										<div class="table-row">
											<div class="label">Specialization:</div>
											<div class="value">
												<span class="baseSpecializations"></span>
												<img src='@routes.Assets.versioned("images/icons/gear.png")' class='specialization button' style="vertical-align: middle; margin-left: 20px;" onclick="showSpecializationModal()"/>
											</div>
										</div>
										<div class="table-row">
											<div class="label">Facilities:</div>
											<div class="value" id="airportDetailsFacilities"></div>
										</div>
									</div>
									<button type="button" class="button ml-0" id="buildHeadquarterButton" style="display: none;" onclick='selectHeadquarters(activeAirportId)'>Build Headquarters</button>
									<button type="button" class="button ml-0" id="buildBaseButton" style="display: none;" onclick='promptConfirm("Build a base at this airport?", data => buildBase(false))'>Build Base</button>
									<button type="button" class="button" id="upgradeBaseButton" data-scale="" style="display: none;" onclick='promptConfirm("Upgrade this base to scale " + (parseInt($("#airportDetailsBaseScale").text()) + 1) + "?", data => buildBase(false, parseInt($("#airportDetailsBaseScale").text()) + 1))'>Upgrade</button>
									<button type="button" class="button" id="downgradeBaseButton" style="display: none;" onclick='promptConfirm("Downgrade this base?", downgradeBase)'>Downgrade</button>
									<button type="button" class="button" id="deleteBaseButton" style="display: none;" onclick='promptConfirm("Remove this base? All routes from this airport will also be removed. All airplanes assigned to this base will be re-assigned to HQs. All assets of this Airport will be sold.", deleteBase)'>Remove</button>
								</div>
							</div>
							<div class="section loyalistDetails" style="flex-basis : 15%; flex-grow: 1; box-sizing:border-box; margin: 0px; ">
								<h4>
									Loyalist Trend
									<span class="tooltip">
										<img src='@routes.Assets.versioned("images/icons/information.png")'>
										<span class="tooltiptext below alignLeft" style="width: 400px;">
											<p>Loyalist are gained by providing satisfying services to passengers originate from this airport.</p>
											<p>Passenger satisfaction is reflected by Satisfaction Factor (SF) of a flight.</p>
											<p>For more info, please refer to the survey</p>
											<br/><br/>
											<img src='@routes.Assets.versioned("images/tutorial/survey-button.png")' style="box-shadow: 0 0 2px 1px rgba(255, 255, 255, 0.2);">
										</span>
									</span>
									<img src='@routes.Assets.versioned("images/icons/chart-up.png")' class="clickable" title="View History"onclick="showLoyalistHistoryModal()" style="vertical-align: text-bottom">
								</h4>
								<div>
									<div class="loyalistPie" style="height: 160px; padding: 10px 0 0 0; margin: auto" align="center"></div>
									<div class="table data loyalistDelta" style="width: 100%">
										<div class="table-header">
											<div class="cell" style="width: 70%">Airline</div>
											<div class="cell" style="width: 30%; text-align: right;">Trend</div>
										</div>
									</div>
								</div>
							</div>
							<div class="section" style="box-sizing:border-box; flex-grow: 1; flex-basis: 50%; min-width: 300px; margin:0px;">
								<h4>
									Assets
								</h4>
								<div class="sectionContainer assetsDetails" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));">
								</div>
							</div>
						</div>
						<div id="airportDetails" class="section mb-0" style="width: 100%; display: flex; flex: 1 1 50%; flex-wrap: wrap;">
							<h4 style="width:100%;"><span id="airportDetailsName">Airport Details</span> | <i class="airportCityName"></i>, <i class="airportCountryName"></i></h4>
							<div class="table">
								<div class="table-row">
									<div class="label" style="width:50%;">Airport scale:</div>
									<div class="value" style="width:50%;">
										<span id="airportDetailsSize"></span>
										<div class="tooltip">
											<img src='@routes.Assets.versioned("images/icons/information.png")'>
											<span class="tooltiptext alignLeft" style="width: 400px;">
												<p>Larger airports with more gates, runways, and other facilities are a higher "<b>airport scale</b>." Higher scale airports are worth more reputation, however have higher aircraft landing fees and base maintenace costs.</p>
											</span>
										</div>
									</div>
								</div>
								<div class="table-row">
									<div class="label">Population Coverage:</h5></div>
									<div class="value" id="airportDetailsPopulation"></div>
								</div>
								<div class="table-row">
									<div class="label">Percent middle income:</div>
									<div class="value">
										<span id="airportDetailsPopMiddleIncome"></span>
										<div class="tooltip">
											<img src='@routes.Assets.versioned("images/icons/information.png")'>
											<span class="tooltiptext alignLeft" style="width: 400px;">
												<p>In-game, the very poor do not take flights. Highly populous airports with large middle classes will have the most outgoing passengers.</p>
												<p>Additionally, airports with higher incomes will have more outgoing demand for premium seats.</p>
											</span>
										</div>
									</div>
								</div>
								<div class="table-row">
									<div class="label"><span class="airportCityName">Airport</span> elite population:</div>
									<div class="value" id="airportDetailsPopElite"></div>
								</div>
								<div class="table-row">
									<div class="label">GDP per capita, normalized:</div>
									<div class="value" id="airportDetailsIncomeLevel"></div>
								</div>
								<div class="table-row">
									<div class="label"><span class="airportCountryName">Country</span> Gini coefficient:</div>
									<div class="value">
										<span id="airportDetailsGini"></span>
										<div class="tooltip">
											<img src='@routes.Assets.versioned("images/icons/information.png")'>
											<span class="tooltiptext alignLeft" style="width: 400px;">
												<p><b>Gini coefficient</b> is a common measure of inequlaity. In-game, population, income, and inequality is applied to determine how much of each airport is low, middle, and extremely-high income.</p>
											</span>
										</div>
									</div>
								</div>
								<div class="table-row">
									<div class="label">Affinity affiliations:</div>
									<div class="value">
										<span id="airportDetailsAffinityZone"></span>
										<div class="tooltip">
											<img src='@routes.Assets.versioned("images/icons/information.png")'>
											<span class="tooltiptext alignLeft" style="width: 400px;">
												<p>If an airport shares trade agreements and widely spoken langauges with a foreign airport, they're listed as "<b>affinities</b>" and modify the demand up, especially over long distances.</p>
											</span>
										</div>
									</div>
								</div>
								<div class="table-row">
									<div class="label">International transfers:</div>
									<div class="value" id="airportDetailsOpenness"></div>
								</div>
								<div class="table-row">
									<div class="label">Runways:</div>
									<div class="value"></div>
								</div>
								<div class="table-row runwayTable table data" style="width: 95%;">
								</div>
							</div>
							<div class="table">
								<div class="table-row">
									<div class="label">
										<div>
											<span>Loyalty to your airline:</span>
											<div class="tooltip">
												<img src='@routes.Assets.versioned("images/icons/information.png")'>
												<span class="tooltiptext alignLeft" style="width: 400px;">
													<h5>Airport loyalty affects:</h5>
													<ul>
														<li>How likely a passenger from this airport would choose your airline</li>
														<li>How much will a passenger willing to pay for your ticket</li>
													</ul>
													<h5>Airport loyalty is built up by:</h5>
													<ul>
														<li>Increasing number of loyalists of this airport</li>
														<li>Becoming national or partnered airlines of this country</li>
														<li>Temporary boost such as negotiation great success or events</li>
													</ul>
												</span>
											</div>
										</div>
									</div>
									<div class="value">
										<span style="display: flex; align-items: center;">
											<span class="airportLoyalty" id="airportDetailsLoyalty" style="display: flex; align-items: center;"></span>
											<span class="airportLoyaltyBonus"></span>
											<img src='@routes.Assets.versioned("images/icons/information.png")' class="clickable airportLoyaltyBonusTrigger" style="vertical-align:text-bottom" onmouseover="showAppealBreakdown($(this), $('#appealBonusDetailsTooltip').data('loyaltyBreakdown'))" onmouseout="hideAppealBreakdown()">
										</span>
									</div>
								</div>
								<div class="table-row">
									<div class="label">Your Relationship:</div>
									<div class="value countryRelationship" style="display: flex; align-items: center;">
										<span class="total"></span>
										<img src='@routes.Assets.versioned("images/icons/gear.png")' title='Manage Relationship' class="clickable detailsIcon titleCue" onclick="showRelationshipDetailsModal($(this).data('relationship'), $(this).data('title'), $(this).data('countryCode'), function(){ showAirportDetails(activeAirportId) })" style="vertical-align: middle;">
									</div>
								</div>
								<div class="table-row">
									<div class="label">Your Title:</div>
									<div class="value countryTitle" style="display: flex; align-items: center;"><img class="airlineTitleIcon" style='display : none; vertical-align: middle;'>&nbsp;<span class="airlineTitle titleCue"></span></div>
								</div>
								<div class="table-row">
									<div class="label">Weekly Passengers:</div>
									<div class="value" id="airportDetailsPassengerCount"></div>
								</div>
								<div class="table-row">
									<div class="label">Total Flight Routes:</div>
									<div class="value" id="airportDetailsLinkCount"></div>
								</div>
								<div class="table-row">
									<div class="label">Weekly Flight Movements:</div>
									<div class="value" id="airportDetailsFlightFrequency"></div>
								</div>
								<div class="table-row">
									<div class="label">Nearby Airports:</div>
									<div class="value">
										<span id="airportDetailsNearbyAirportCount"></span>
										<img src='@routes.Assets.versioned("images/icons/shuttle.png")' title='Connections' class="clickable" onclick="showGenericTransitModal()" style="vertical-align: middle;">
									</div>
								</div>
								<div class="table-row">
									<div class="label">Connected Airports:</div>
									<div class="value" id="airportDetailsConnectedAirportCount"></div>
								</div>
								<div class="table-row">
									<div class="label">Connected Countries:</div>
									<div class="value" id="airportDetailsConnectedCountryCount"></div>
								</div>
								<div class="table-row">
									<div class="label">Served By Airlines:</div>
									<div class="value" id="airportDetailsAirlineCount"></div>
								</div>
							</div>
							<div id="airportStatistics" class="py-2" style="width: 100%;">
								<div style="float: left;">
									<h5 align="center">Airline share (as Departure)</h5>
									<div id="airlineDeparturePie" style="height: 160px; width: 250px;" align="center"></div>
								</div>
								<div style="float: left;">
									<h5 align="center">Airline share (as Arrival)</h5>
									<div id="airlineArrivalPie" style="height: 160px; width: 250px;" align="center"></div>
								</div>
								<div style="float: left;">
									<h5 align="center">Passenger Transit Type</h5>
									<div id="transitTypePie" style="height: 160px; width: 250px;" align="center"></div>
								</div>
							</div>
						</div>
						<div style="width: 100%; display: flex; flex-wrap: wrap; gap: 8px;">
							<div class="section" style="box-sizing:border-box; width: 30%; min-width: 300px;">
								<img style="float: left;" src='@routes.Assets.versioned("images/icons/crown.png")'>
								<h4 style="width:100%">Rankings</h4>
								<div id="airportDetailsChampionList" style="width: 100%; margin-bottom: 15px;" class="table data">
									<div class="table-header">
										<div class="cell" style="width: 5%">&nbsp;</div>
										<div class="cell" style="width: 50%">Airline</div>
										<div class="cell" style="width: 20%; text-align: right;">Loyalist</div>
										<div class="cell" style="width: 20%; text-align: right;">Loyalty</div>
										<div class="cell" style="width: 20%; text-align: right;">Reputation Boost</div>
									</div>
								</div>
							</div>
							<div class="section" style="box-sizing:border-box; width: 60%; flex-grow: 1; min-width: 400px;">
								<div style="float: left;position:relative;bottom: -3px;"><img src='@routes.Assets.versioned("images/icons/building-hedge.png")'></div><h4>Airline Headquarters</h4>
								<div id="airportDetailsHeadquarterList" style="width: 100%; margin-bottom: 15px;" class="table data">
									<div class="table-header">
										<div class="cell" style="width: 30%">Airline</div>
										<div class="cell" style="width: 10%; text-align: right;">Home Country</div>
										<div class="cell" style="width: 10%; text-align: right;">Office Scale</div>
										<div class="cell" style="width: 25%; text-align: right;">Flight Routes</div>
										<div class="cell" style="width: 25%; text-align: right;">Weekly Passengers</div>
									</div>
								</div>
								<div style="float: left;"><img src='@routes.Assets.versioned("images/icons/building-low.png")'></div><div style="float: left;"><h4>Airline Bases</h4></div>
								<div id="airportDetailsBaseList" style="width: 100%; margin-bottom: 15px;" class="table data">
									<div class="table-header">
										<div class="cell" style="width: 30%">Airline</div>
										<div class="cell" style="width: 10%; text-align: right;">Home Country</div>
										<div class="cell" style="width: 10%; text-align: right;">Office Scale</div>
										<div class="cell" style="width: 25%; text-align: right;">Flight Routes</div>
										<div class="cell" style="width: 25%; text-align: right;">Weekly Passengers</div>
									</div>
								</div>
								<div style="float: left;"><img src='@routes.Assets.versioned("images/icons/sofa.png")'></div><div style="float: left;"><h4>Airline Lounges</h4></div>
								<div id="airportDetailsLoungeList" style="width: 100%;" class="table data">
									<div class="table-header">
										<div class="cell" style="width: 20%">Airline</div>
										<div class="cell" style="width: 20%">Lounge Name</div>
										<div class="cell" style="width: 10%; text-align: right;">Lounge Level</div>
										<div class="cell" style="width: 10%; text-align: right;">Status</div>
										<div class="cell" style="width: 20%; text-align: right;">Weekly Passengers (self)</div>
										<div class="cell" style="width: 20%; text-align: right;">Weekly Passengers (alliance members)</div>
									</div>
								</div>
							</div>
						</div>
					</div>
					
					<div class="section flex-container-width-quarter" style="width: 100%; min-height: 200px;">
<!--						<div id="airportMap" style="width: 100%; padding-top: 100%; postition: relative;" data-city-marker='@routes.Assets.versioned("images/markers/city.png")' data-town-marker='@routes.Assets.versioned("images/markers/town.png")'  data-village-marker='@routes.Assets.versioned("images/markers/village.png")' data-airport-marker='@routes.Assets.versioned("images/markers/airport.png")'></div>-->
						<!--   				<div id="airportSchedule" style="width: 900px; height: 400px; float: left;"></div> -->
						<div>
							<table id="airportDetailsCityList"></table>
						</div>
						<div id="airportDetailsCityImage" style="width: 50%; float:left;"></div>
						<div id="airportDetailsAirportImage" style="width: 50%;  float:left;"></div>
						<div style="clear: both;"></div>
						<div class="adminActions" style="display: none;">
							<h4>Admin Action</h4>
							<div><a onclick="invalidateImage('airport');">Invalidate Airport Image</a></div>
							<div><a onclick="invalidateImage('city');">Invalidate City Image</a></div>
						</div>
					</div>
					<div style="clear: both;"></div>
				</div>
	<!--   			end airport canvas -->
				<div id="departuresCanvas" class="canvas" style="display: none; height: 100%">
					<div style="height: 610px ; width : 1200px; float: left;" class="section">
						<div class="title" style="float: left;">Departures</div>
						<div id="weather" style="float: right;">
							<div style="float: right;">
								<div id="weatherDescription"></div>
								<div id="temperature"></div>
							</div>
							<div style="float: right;"><img id="weatherIcon" style="width: 30px; height: 30px;" src="#"></div>
						</div>
						<div style="clear: both;"></div>
						<div style="float: left; width:33%;">
							<div id="departures1" class="table departures" style="width: 100%;">
								<div style="display: table-header-group; font-weight: bold;">
									<div class="cell" style="width: 15%">Sch.</div>
									<div class="cell" style="width: 20%">Flight</div>
									<div class="cell" style="width: 40%">Destination</div>
									<div class="cell" style="width: 25%">Status</div>
								</div>
							</div>
						</div>
						<div style="float: left; width:33%;">
							<div id="departures2" class="table departures" style="width: 100%;">
                                <div style="display: table-header-group; font-weight: bold;">
									<div class="cell" style="width: 15%">Sch.</div>
									<div class="cell" style="width: 20%">Flight</div>
									<div class="cell" style="width: 40%">Destination</div>
									<div class="cell" style="width: 25%">Status</div>
								</div>
							</div>
						</div>
						<div style="float: left; width:34%;">
							<div id="departures3" class="table departures" style="width: 100%;">
                                <div style="display: table-header-group; font-weight: bold;">
									<div class="cell" style="width: 15%">Sch.</div>
									<div class="cell" style="width: 20%">Flight</div>
									<div class="cell" style="width: 40%">Destination</div>
									<div class="cell" style="width: 25%">Status</div>
								</div>
							</div>
						</div>

					</div>
				</div>
				<!--  end departures canvas -->
				<div id="countryCanvas" class="canvas" style="height: 100%; display: none;">
					<div class="mainPanel section tight">
						<div style="width: 100%; height: 100%; overflow: auto;">
							<div id="countryTableHeader" class="table data" style="width: 100%; height: 20px; min-width: 400px;">
								<div class="table-header">
									<div class="cell clickable" style="width: 22%" data-sort-property="name" data-sort-order="descending" onclick="toggleCountryTableSortOrder($(this))">Name</div>
									<div class="cell clickable selected" style="width: 22%" align="right" data-sort-property="airportPopulation" data-sort-order="descending" onclick="toggleCountryTableSortOrder($(this))">Airport Pop Coverage</div>
									<div class="cell clickable" style="width: 14%" align="right" data-sort-property="income" data-sort-order="ascending" onclick="toggleCountryTableSortOrder($(this))">GDP per Pop</div>
									<div class="cell clickable" style="width: 14%" align="right" data-sort-property="openness" data-sort-order="ascending" onclick="toggleCountryTableSortOrder($(this))">Openness</div>
									<div class="cell clickable" style="width: 14%" align="right" data-sort-property="gini" data-sort-order="ascending" onclick="toggleCountryTableSortOrder($(this))">Gini Coefficient</div>
									<div class="cell clickable" style="width: 14%" align="right" data-sort-property="delegatesCount" data-sort-order="ascending" onclick="toggleCountryTableSortOrder($(this))">Country Delegates</div>
								</div>
							</div>
							<div style="height:  calc(100% - 40px); width: 100%; overflow-y: auto; min-width: 400px;">
								<div id="countryTable" class="table data" style="height: 100%; width: 100%;">
									<div class="table-header">
										<div class="cell" style="width: 22%; border-bottom: none;"></div>
										<div class="cell" style="width: 22%; border-bottom: none;"></div>
										<div class="cell" style="width: 14%; border-bottom: none;"></div>
										<div class="cell" style="width: 14%; border-bottom: none;"></div>
										<div class="cell" style="width: 14%; border-bottom: none;"></div>
										<div class="cell" style="width: 14%; border-bottom: none;"></div>
									</div>
								</div>
							</div>
						</div>
					</div>
					<div class="sidePanel section">
						<div id="countryDetails" class="table" style="width: 100%;">
							<div class="table-row">
								<div class="label">Country:</div>
								<div class="value" id="countryDetailsName"></div>
							</div>
							<div class="table-row">
								<div class="label">Income Level:</div>
								<div class="value" id="countryDetailsIncomeLevel"></div>
							</div>
							<div class="table-row">
								<div class="label">Market Openness:</div>
								<div class="value" id="countryDetailsOpenness" style="display: flex; align-items: center;"></div>
							</div>
							<div class="table-row">
								<div class="label">Relationship with your airline:</div>
								<div class="value relationship" style="display: flex; align-items: center;"><span class="total"></span><img src='@routes.Assets.versioned("images/icons/gear.png")' title='Manage Relationship' class="clickable detailsIcon" onclick="showRelationshipDetailsModal($(this).data('relationship'), $(this).data('title'), $(this).data('countryCode'), showCountryView)"></div>
							</div>
							<div class="table-row">
								<div class="label">Your airline title with this country:</div>
								<div class="value"><img class="airlineTitleIcon" style='display : none; vertical-align: middle;'>&nbsp;<span class="airlineTitle"></span></div>
							</div>
							<div class="table-row">
								<div class="label">Large Airports:</div>
								<div class="value" id="countryDetailsLargeAirportCount"></div>
							</div>
							<div class="table-row">
								<div class="label">Medium Airports:</div>
								<div class="value" id="countryDetailsMediumAirportCount"></div>
							</div>
							<div class="table-row">
								<div class="label">Small Airports:</div>
								<div class="value" id="countryDetailsSmallAirportCount"></div>
							</div>
							<div class="table-row">
								<div class="label">Airline Headquarters:</div>
								<div class="value" id="countryDetailsAirlineHeadquarters"></div>
							</div>
							<div class="table-row">
								<div class="label">Airline Bases:</div>
								<div class="value" id="countryDetailsAirlineBases"></div>
							</div>
							<div class="table-row">
								<div class="label">National Airline:</div>
								<div class="value" style="padding-bottom : 10px;">
									<div class="table data nationalAirlines" style="width : 100%">
									</div>
								</div>
							</div>
							<div class="table-row">
								<div class="label">Partnered Airline:</div>
								<div class="value" style="padding-bottom : 10px;">
									<div class="table data partneredAirlines" style="width : 100%">
									</div>
								</div>
							</div>
							<div class="table-row">
								<div class="label">Top Airline:</div>
								<div class="value" style="padding-bottom : 10px;">
									<div class="table data countryDetailsChampion" style="width : 100%">
									</div>
								</div>
							</div>
						</div>
						<div id="countryDetailsSharesChart" style="height: 170px;"></div>
					</div>
				</div>
	<!--   			end country canvas -->
				<div id="airplaneCanvas"  class="canvas" style="height: 100%; display: none;">
					<div class="mainPanel airplaneCanvasLeftGroup">
						<div class="section tight">
							<div class="table" style="width: 30%; margin-bottom: 10px;">
								<div class="table-header">
									<div class="cell detailsSelection clickable selected" data-type="hangar" onclick="selectAirplaneTab($(this));" style="border-radius: 5px 0 0 5px">Hangar</div>
									<div class="cell detailsSelection clickable" data-type="market" onclick="selectAirplaneTab($(this))" style="border-radius: 0 5px 5px 0">Market</div>
								</div>
							</div>

							<div class="detailsGroup" style="height: 100%; width: 100%; overflow-x: scroll;">
								<div class="market details" style="width: 100%; height: 100%; min-width: 980px;">
									<div class="table data" style="height: 20px; width: 100%;">
										<div class="table-header" id="airplaneModelSortHeader">
											<div class="cell clickable" style="width: 20%" data-sort-property="name" data-sort-order="ascending" onclick="toggleAirplaneModelTableSortOrder($(this))">Name</div>
											<div class="cell clickable" style="width: 12%" data-sort-property="family" data-sort-order="ascending" onclick="toggleAirplaneModelTableSortOrder($(this))">Family</div>
											<div class="cell clickable selected" style="width: 10%" align="right" data-sort-property="price" data-sort-order="ascending" onclick="toggleAirplaneModelTableSortOrder($(this))">Price</div>
											<div class="cell clickable" style="width: 8%" align="right" data-sort-property="capacity" data-sort-order="ascending" onclick="toggleAirplaneModelTableSortOrder($(this))">Capacity</div>
											<div class="cell clickable" style="width: 10%" align="right" data-sort-property="quality" data-sort-order="ascending" onclick="toggleAirplaneModelTableSortOrder($(this))">Quality</div>
											<div class="cell clickable" style="width: 9%" align="right" data-sort-property="range" data-sort-order="ascending" onclick="toggleAirplaneModelTableSortOrder($(this))">Range</div>
											<div class="cell clickable" style="width: 7%" align="right" data-sort-property="fuelBurn" data-sort-order="ascending" onclick="toggleAirplaneModelTableSortOrder($(this))">Fuel Burn</div>
											<div class="cell clickable" style="width: 7%" align="right" data-sort-property="lifespan" data-sort-order="ascending" onclick="toggleAirplaneModelTableSortOrder($(this))">Lifespan</div>
											<div class="cell clickable" style="width: 9%" align="right" data-sort-property="speed" data-sort-order="ascending" onclick="toggleAirplaneModelTableSortOrder($(this))">Speed</div>
											<div class="cell clickable" style="width: 7%" align="right" data-sort-property="runwayRequirement" data-sort-order="ascending" onclick="toggleAirplaneModelTableSortOrder($(this))">Runway</div>
<!--											<div class="cell clickable" style="width: 9%" align="right" data-sort-property="totalOwned" data-sort-order="descending" onclick="toggleAirplaneModelTableSortOrder($(this))">Inventory</div>-->
										</div>
									</div>
									<div style="height: calc(100% - 60px); width: 100%; overflow-y: auto; min-width: 500px">
										<div class="table data" id="airplaneModelTable" style="max-height: 100%; width: 100%; ">
											<div class="table-header">
												<div class="cell" style="width: 20%; border-bottom: none;"></div>
												<div class="cell" style="width: 12%; border-bottom: none;"></div>
												<div class="cell" style="width: 10%; border-bottom: none;"></div>
												<div class="cell" style="width: 8%; border-bottom: none;"></div>
												<div class="cell" style="width: 10%; border-bottom: none;"></div>
												<div class="cell" style="width: 9%; border-bottom: none;"></div>
												<div class="cell" style="width: 7%; border-bottom: none;"></div>
												<div class="cell" style="width: 7%; border-bottom: none;"></div>
												<div class="cell" style="width: 9%; border-bottom: none;"></div>
												<div class="cell" style="width: 7%; border-bottom: none;"></div>
											</div>
										</div>
									</div>
								</div>
								<div class="hangar details" style="width: 100%; height: calc(100% - 30px); overflow:auto; display: none;">
									<div class="section">
										<h4>Maintenance Cost Factor</h4>
										<div class="maintenanceFactorSection">
											<span class="factor" style="font-weight: bold; padding-left: 10px; font-size: x-large;">1.0</span>
											<span class="tooltip">
												<img src='@routes.Assets.versioned("images/icons/information.png")'>
												<span class="tooltiptext alignLeft below" style="width: 400px;">
													<div style="font-weight: bold;">
			    										<p class="remarks" style="margin-top:10px;">Airplane maintenance cost is multiplied by this factor. Maintenance factor =&nbsp;<span class="baseFactor"></span>&nbsp;+&nbsp;<span class="familyFactor"></span>&nbsp;* Airplane Family # +&nbsp;<span class="modelFactor"></span>&nbsp;* Airplane Model #</p>
														<span class="baseFactor"></span>&nbsp;+&nbsp;<span class="familyFactor"></span>&nbsp;*&nbsp;<span class="familyCount"></span>&nbsp;+&nbsp;<span class="modelFactor"></span>&nbsp;*&nbsp;<span class="modelCount"></span>&nbsp;=&nbsp;<span class="factor"></span>
													</div>
													<div class="flex-container-width-half">
														<div>
															<h4 style="margin-top: 10px">Airplane Family</h4>
															<ul class="familyList"></ul>
														</div>
														<div>
															<h4 style="margin-top: 10px">Airplane Model</h4>
															<ul class="modelList"></ul>
														</div>
													</div>
												</span>
											</span>
										</div>
										<h4 style="margin-top:10px;">Preferred Suppliers</h4>
										<div class="preferredSuppliers" style="width: 100%; display: flex; flex-wrap: wrap;">
											<div style='min-width : 200px; flex: 1; position: relative;' class='section LIGHT'>
												<h4>Light Airplane Suppliers</h4>
												<div class="remarks"><span class="capacityRange"></span>&nbsp;PAX</div>
												<div class="supplierList"></div>
												<div style="margin-top: 10px; font-weight:bold; ">Discount:&nbsp;<span class="discount"></span></div>
											</div>
											<div style='min-width : 200px; flex: 1; position: relative;' class='section REGIONAL'>
												<h4>Regional Airplane Suppliers</h4>
												<div class="remarks"><span class="capacityRange"></span>&nbsp;PAX</div>
												<div class="supplierList"></div>
												<div style="margin-top: 10px; font-weight:bold; ">Discount:&nbsp;<span class="discount"></span></div>
											</div>
											<div style='min-width : 200px; flex: 1; position: relative;' class='section MEDIUM'>
												<h4>Medium Airplane Suppliers</h4>
												<div class="remarks"><span class="capacityRange"></span>&nbsp;PAX</div>
												<div class="supplierList"></div>
												<div style="margin-top: 10px; font-weight:bold; ">Discount:&nbsp;<span class="discount"></span></div>
											</div>
											<div style='min-width : 200px; flex: 1; position: relative;' class='section LARGE'>
												<h4>Large Airplane Suppliers</h4>
												<div class="remarks"><span class="capacityRange"></span>&nbsp;PAX</div>
												<div class="supplierList"></div>
												<div style="margin-top: 10px; font-weight:bold;">Discount:&nbsp;<span class="discount"></span></div>
											</div>
										</div>
									</div>
									<input type="checkbox" onclick="toggleUtilizationRate($('#airplaneCanvas .hangar .sectionContainer'), $(this))" class="toggleUtilizationRateBox"><img src='@routes.Assets.versioned("images/icons/clock-select-remain.png")' title="Toggle Utilization Rate"/>
									<input type="checkbox" onclick="toggleCondition($('#airplaneCanvas .hangar .sectionContainer'), $(this))" class="toggleConditionBox"><img src='@routes.Assets.versioned("images/icons/gear.png")' title="Toggle Airplane Condition"/>
<!--									<select class="select-css hangarType" onchange="selectHangarType($(this).val())">-->
<!--										<option value="byModel" selected="selected">By Model</option>-->
<!--										<option value="byBase">By Base</option>-->
<!--									</select>-->
									<div class="sectionContainer" style="display: flex; flex-wrap: wrap;">
									</div>
								</div>
							</div>
						</div>
					</div>
	<!-- 				end left panel				  					 -->
					<div class="sidePanel airplaneCanvasRightGroup">
						<div id="airplaneModelDetail" style="gap: 8px; display: flex; flex-direction: column">
							<div class="section">
								<div class="modelIllustration pb-4" style="max-width: 500px;position: relative;">
									<img src='#' style="width: 100%;">
									<div class="label" style="right: 0px; bottom: 0px; position: absolute; font-style: italic;"><a href='#' target="_blank" style="font-size: 85%;">Illustration courtesy of Norebbo</a></div>
								</div>

								<div class="table" style="width: 100%;">
									<div class="table-row">
										<div class="label" style="width: 50%;"><h5>Model:</h5></div>
										<div class="value"><span class="modelName"></span><img class="favorite clickable-no-highlight" onclick="promptSetFavorite()"></div>
									</div>
									<div class="table-row">
										<div class="label">Family:</div>
										<div class="value modelFamily"></div>
									</div>
									<div class="table-row">
										<div class="label">Max Capacity:</div>
										<div class="value" id="capacity"></div>
									</div>
									<div class="table-row">
										<div class="label">Quality:</div>
										<div class="value" id="airplaneTypeQuality"></div>
									</div>
									<div class="table-row">
										<div class="label">Category:</div>
										<div class="value" id="airplaneType"></div>
									</div>
									<div class="table-row">
										<div class="label">Turnaround Time:</div>
										<div class="value"><span class="turnaroundTime"></span>&nbsp;min</div>
									</div>
									<div class="table-row">
										<div class="label">Runway Required:</div>
										<div class="value"><span class="runwayRequirement"></span>&nbsp;m</div>
									</div>
									<div class="table-row">
										<div class="label">Range:</div>
										<div class="value" id="range"></div>
									</div>
									<div class="table-row">
										<div class="label">Fuel Burn:</div>
										<div class="value" id="fuelBurn"></div>
									</div>
									<div class="table-row">
										<div class="label">Speed:</div>
										<div class="value" id="speed"></div>
									</div>
									<div class="table-row">
										<div class="label">Lifespan:</div>
										<div class="value" id="lifespan"></div>
									</div>
									<div class="table-row">
										<div class="label">Manufacturer:</div>
										<div class="value manufacturer"></div>
									</div>
									<div class="table-row">
										<div class="label">Purchase Price:</div>
										<div class="value price"></div>
									</div>
									<div class="table-row">
										<div class="label">Delivery Time:</div>
										<div class="value delivery"></div>
									</div>
									<div class="table-row">
										<div class="label">Total in Circulation:</div>
										<div class="value total"></div>
									</div>
									<input type="hidden" class="selectedModel"/>
								</div>
								<div class="flex-container-width-half gap-2 pt-2">
									<div class="button add" onclick="promptBuyNewAirplane($('#airplaneCanvas .selectedModel').val(), false)">Purchase</div>
									<div class="button" onclick="showAirplaneBase($('#airplaneCanvas .selectedModel').val())">Base</div>
									<div class="button" onclick="showAirplaneModelConfigurations($('#airplaneCanvas .selectedModel').val())">Config</div>
									<div class="button" onclick="showAllAirplaneInventory($('#airplaneCanvas .selectedModel').val())">Inventory</div>
								</div>
							</div>
							<div class="section tight">
								<h4>Used Airplane Market</h4>
								<div class="table data" style="height: 20px; width: 100%">
									<div class="table-header" id="usedAirplaneSortHeader">
										<div class="cell clickable" style="width: 15%" data-sort-property="id" data-sort-order="ascending" onclick="toggleUsedAirplaneTableSortOrder($(this))">Airplane ID</div>
										<div class="cell" style="width: 35%">Previous Operator</div>
										<div class="cell clickable" style="width: 25%" align="right" data-sort-property="dealerValue" data-sort-order="ascending" onclick="toggleUsedAirplaneTableSortOrder($(this))">Price</div>
										<div class="cell clickable" style="width: 15%" align="right" data-sort-property="condition" data-sort-order="ascending" onclick="toggleUsedAirplaneTableSortOrder($(this))">Condition</div>
										<div class="cell" style="width: 10%" align="right">Purchase</div>
									</div>
								</div>
								<div style="height: 150px; width: 100%; overflow: auto;">
									<div class="table data" id="usedAirplaneTable" style="max-height: 100%; width: 100%">
										<div class="table-header">
											<div class="cell" style="width: 15%; border-bottom: none;"></div>
											<div class="cell" style="width: 35%; border-bottom: none;"></div>
											<div class="cell" style="width: 25%; border-bottom: none;"></div>
											<div class="cell" style="width: 15%; border-bottom: none;"></div>
											<div class="cell" style="width: 10%; border-bottom: none;"></div>
										</div>
									</div>
								</div>
							</div>
							<div class="section stats tight" style="">
								<h4>Top Operators</h4>
								<div style="height: 150px; width: 100%; overflow: auto;">
									<div class="table data topOperators" style="max-height: 100%; width: 100%">
										<div class="table-header">
											<div class="cell" style="width: 50%">Airline</div>
											<div class="cell" style="width: 25%" align="right">Fleet Size</div>
											<div class="cell" style="width: 25%" align="right">Ownership Percentage</div>
										</div>
									</div>
								</div>
							</div>
						</div>
<!--						<div class="section" style="width : 98%; float: left; overflow: auto;">-->
<!--							<h4>Inventory</h4>-->
<!--							<div id="airplaneInventoryList"></div>-->
<!--						</div>-->
					</div>
	<!-- 			    end right panel -->
				</div>
	<!--   			end airplane canvas -->
				<div id="officeCanvas" class="canvas" style="display: none; min-width: 400px;">
					<div style="box-sizing: border-box;display: flex;gap: 8px;flex-wrap: wrap;" class="officeCanvasLeftGroup">

						<div class="section" style="min-width:240px;">
							<h2 class="airlineName text-center text-underline">Airline Name</h2>
							<div class="reputationStars pb-4 text-center"></div>
							<div class="threshold-section">
<!--								<h3 class="text-center leading-tight pb-1">Reputation</h3>-->
								<p class="text-center leading-tight"><i class="reputationLevel">Level 1</i></p>
								<p class="text-center leading-tight pb-2 reputationText">Baby Airline</p>
								<div class="threshold-bar">
									<p class="text-center font-mono reputationValueCurrent">0</p>
									<div id="reputationBar" class="threshold-bar-bg"></div>
								</div>
								<p class="small max-w-32 mx-auto flex-container-width-half"><span class="font-mono reputationValuePrev text-left">0</span><span class="font-mono reputationValueNext">10</span></p>
								<p class="text-right small max-w-32 mx-auto pb-4">trending to: <span class="font-mono reputationTrend">10</span></p>
								<div class="section">
									<p class="text-center">Reputation Breakdown</p>
									<ul class="reputationDetails small"></ul>
								</div>
							</div>
						</div>

						<div class="section" style="flex:1">
							<div class="flex-container-width-third py-2">
								<div class="threshold-section">
									<h4 class="text-center leading-tight">Stock Price</h4>
									<p class="text-center leading-tight"><i class="stockLevel">Level 1</i></p>
									<p class="text-center leading-tight pb-2 stockText">Worthless</p>
									<div class="threshold-bar">
										<p class="text-center font-mono stockValueCurrent">0</p>
										<p class="text-center font-mono stockValueNext"></p>
										<div id="stockBar" class="threshold-bar-bg"></div>
									</div>
									<p class="small max-w-32 mx-auto flex-container-width-half"><span class="font-mono stockValuePrev text-left">0</span><span class="font-mono stockValueNext text-right">10</span></p>
									<p class="py-4 text-center">Weekly Dividends:<br>
										<span id="weeklyDividendsDisplaySpan">
											<span id="dividends"></span>
											<img src='@routes.Assets.versioned("images/icons/gear.png")' class='button' style="vertical-align: middle;" onclick="editDividends()"/>
											<br><small>(in millions)</small>
										</span>
										<span class="warning" id="weeklyDividendsMin">Company value must be > $100m</span>
										<span id="weeklyDividendsInputSpan">
											<input id="weeklyDividendsInput" size="1" type="number" title="Weekly Dividends Input"/>
											<span class="warning" style="display: none;">Value must be a number</span>
											<img src='@routes.Assets.versioned("images/icons/tick.png")' class='button' style="vertical-align: middle;" onclick="setDividendsLevel($('#weeklyDividendsInput').val())"/>
										</span>
									</p>
								</div>

								<div class="threshold-section">
									<h4 class="text-center leading-tight">Tourists Ticketed</h4>
									<p class="text-center leading-tight"><i class="touristsLevel">Level 1</i></p>
									<p class="text-center leading-tight pb-2 touristsText">Worthless</p>
									<div class="threshold-bar">
										<p class="text-center font-mono touristsValueCurrent">0</p>
										<p class="text-center font-mono touristsValueNext"></p>
										<div id="touristsBar" class="threshold-bar-bg"></div>
									</div>
									<p class="small max-w-32 mx-auto flex-container-width-half"><span class="font-mono touristsValuePrev text-left">0</span> <span class="font-mono touristsValueNext text-right">10</span></p>
								</div>

								<div class="threshold-section">
									<h4 class="text-center leading-tight">Elites Ticketed</h4>
									<p class="text-center leading-tight"><i class="elitesLevel">Level 1</i></p>
									<p class="text-center leading-tight pb-2 elitesText">Worthless</p>
									<div class="threshold-bar">
										<p class="text-center font-mono elitesValueCurrent">0</p>
										<p class="text-center font-mono elitesValueNext"></p>
										<div id="elitesBar" class="threshold-bar-bg"></div>
									</div>
									<p class="text-right small max-w-32 mx-auto flex-container-width-half"><span class="font-mono elitesValuePrev text-left">0</span> <span class="font-mono elitesValueNext">10</span></p>
									<p class="pt-4">Employee Quality:
										<span id="serviceFundingDisplaySpan">
											<span id="targetServiceQuality"></span>
											<img src='@routes.Assets.versioned("images/icons/gear.png")' class='button' style="vertical-align: middle;" onclick="editTargetServiceQuality()"/>
										</span>
										<span id="serviceFundingInputSpan">
											<input id="targetServiceQualityInput" type="number" size="3" maxlength="3" onkeyup="checkTargetServiceQualityInput($(this).val())"/>
											<span class="warning" style="display: none;">Value must be an integer 0 - 100</span>
											<img src='@routes.Assets.versioned("images/icons/tick.png")' class='button' style="vertical-align: middle;" onclick="setTargetServiceQuality($('#targetServiceQualityInput').val())"/>
										</span>
									</p>
									<p class="">Projected Employee Costs: $<span id="fundingProjection"></span></p>
									<p class="cell label">Current Employee Quality: <span id="currentServiceQuality"></span>
<!--										<span class="tooltip">-->
<!--											<img src='@routes.Assets.versioned("images/icons/information.png")'>-->
<!--											<span class="tooltiptext alignLeft below" style="width: 280px;">-->
<!--												<p><b>Employee quality</b> is 50% of a flight's <b>overall quality</b>.</p>-->
<!--												<p>Adjusting this global parameter affects the crew cost of each flight.</p>-->
<!--											</span>-->
<!--										</span>-->
									</p>
									<p class="pt-4">Auto Airplane Renewal:
										<span id="airplaneRenewalDisplaySpan">
											<span id="airplaneRenewal"></span>
											<img src='@routes.Assets.versioned("images/icons/gear.png")' class='button' style="vertical-align: middle;" onclick="editAirplaneRenewal()"/>
										</span>
										<span id="airplaneRenewalInputSpan" style="display:none;">
											Condition Below&nbsp;<input id="airplaneRenwalInput" type="number" maxlength="2" size="2"/>%
											<img src='@routes.Assets.versioned("images/icons/tick.png")' class='button' style="vertical-align: middle;" onclick="setAirplaneRenewal($('#airplaneRenwalInput').val())"/>
											<img src='@routes.Assets.versioned("images/icons/cross.png")' class='button' style="vertical-align: middle;" onclick="setAirplaneRenewal()"/>
										</span>
									</p>
									<p class="py-4">Minimum Renewal Balance: <span id="minimumRenewalBalanceDisplaySpan">
											<span id="minimumRenewalBalance"></span>
											<img src='@routes.Assets.versioned("images/icons/gear.png")' class='button' style="vertical-align: middle;" onclick="editMinimumRenewalBalance()"/>
										</span>
										<span id="minimumRenewalBalanceInputSpan" style="display:none;">
												Minimum Renewal Balance&nbsp;<input id="minimumRenewalBalanceInput" type="number" maxlength="12" size="2" onkeyup="checkEditMinimumRenewalBalanceInput($(this).val())"/>
												<span class="warning" style="display: none;">Value must be a positive integer less than 999,999,999,999</span>
												<img src='@routes.Assets.versioned("images/icons/tick.png")' class='button' style="vertical-align: middle;" onclick="setMinimumRenewalBalance($('#minimumRenewalBalanceInput').val())"/>
										</span>
									</p>
								</div>
<!--								<span class="clickable editButton"><img src='@routes.Assets.versioned("images/icons/gear.png")'style="vertical-align: middle;" onclick="editAirlineName()"/></span>-->
<!--								<span class="airlineNameInputSpan" style="display: none;">-->
<!--										<input class="airlineNameInput" type="text" oninput="validateAirlineName($(this).val())"/>-->
<!--										<span class="button confirm"><img src='@routes.Assets.versioned("images/icons/tick.png")' style="vertical-align: middle;" onclick="confirmAirlineRename($('#officeCanvas .airlineNameInput').val())"/></span>-->
<!--										<img src='@routes.Assets.versioned("images/icons/cross.png")' class='button cancel' style="vertical-align: middle;" onclick="cancelAirlineRename()"/>-->
<!--										<div class="warning" style="display:none;"></div>-->
<!--									</span>-->


							</div>

							<div class="">
								<h4>Milestones</h4>
								<div class="table-row">
									<div class="cell label">Reputation:</div>
									<div class="cell value">

									</div>
								</div>
							</div>



<!--                                    <div class="table-row">-->
<!--                                        <div class="cell label">Destinations:</div>-->
<!--                                        <div id="destinations" class="cell value"></div>-->
<!--                                    </div>-->
<!--                                    <div class="table-row">-->
<!--                                        <div class="cell label">Fleet Size:</div>-->
<!--                                        <div id="fleetSize" class="cell value"></div>-->
<!--                                    </div>-->
<!--                                    <div class="table-row">-->
<!--                                        <div class="cell label">Fleet Age:</div>-->
<!--                                        <div id="fleetAge" class="cell value"></div>-->
<!--                                    </div>-->
<!--                                    <div class="table-row">-->
<!--                                        <div class="cell label">Assets:</div>-->
<!--                                        <div id="assets" class="cell value"></div>-->
<!--                                    </div>-->
<!--									<div class="table-row">-->
<!--										<div class="cell label" style="width: 60%">Total Routes:</div>-->
<!--										<div class="linkCount" class="cell value" style="width: 40%"></div>-->
<!--									</div>-->
						</div>

						<div style="width: 100%; min-height: 1000px;" class="section tight">
                            <div class="controllers" style="margin: 5px;">
                                <div class="table" style="width: 38%; float: left;">
                                    <div class="table-header sheetOptions">
                                        <div class="cell clickable selected" data-type="income" onclick="selectSheet($(this), $('#incomeSheet')); $('.controllers-period').show();">Income</div>
										<div class="cell clickable" data-type="cashFlow" onclick="selectSheet($(this), $('#cashFlowSheet')); $('.controllers-period').show();">Cash Flow</div>
										<div class="cell clickable" data-type="airlineStats" onclick="selectSheet($(this), $('#airlineStatsSheet')); $('.controllers-period').hide();">Passenger Stats</div>
                                    </div>
                                </div>
                                <div style="display: flex; align-items: center; float: right;" class="controllers-period">
                                    <img src='@routes.Assets.versioned("images/icons/arrow-180.png")' class="button" onclick="officeHistoryStep(-1)"/>
                                    &nbsp;
                                    <select class="select-css period" onchange="changeOfficePeriod($(this).val())">
                                        <option value="WEEKLY" selected="selected">Week</option>
                                        <option value="MONTHLY">Month</option>
                                        <option value="YEARLY">Year</option>
                                    </select>
                                    &nbsp;<span id="officeCycleText"></span>
                                    &nbsp;
                                    <img src='@routes.Assets.versioned("images/icons/arrow.png")' class="button" onclick="officeHistoryStep(1)"/>
                                </div>
                                <div style="clear: both;"></div>
                            </div>

							<div style="width : 100%;" id="incomeSheet" class="sheet">
								<div id="totalProfitChart" style="width: 100%; height: 300px; margin: 0 auto;"></div>
			<!-- 					left column -->
								<div style="height: 100%; float: left; padding-right: 10px; box-sizing: border-box;" class="vertical-group">
									<div class="table data">
										<h4>Total Income</h4>
										<div class="table-row">
											<div class="cell">Total Revenue:</div>
											<div id="totalRevenue" class="cell" style="text-align: right;"></div>
										</div>
										<div class="table-row">
											<div class="cell">Total Expense:</div>
											<div id="totalExpense" class="cell" style="text-align: right;"></div>
										</div>
										<div class="table-row">
											<div class="cell">Total Profit:</div>
											<div id="totalProfit" class="cell" style="text-align: right;"></div>
										</div>
									</div>
									<div class="table data">
										<h4>Flights Income</h4>
										<div class="table-row">
											<div class="cell">Ticket Revenue:</div>
											<div id="linksTicketRevenue" class="cell" style="text-align: right;"></div>
										</div>
										<div class="table-row">
											<div class="cell">Airport Fee:</div>
											<div id="linksAirportFee" class="cell" style="text-align: right;"></div>
										</div>
										<div class="table-row">
											<div class="cell">Fuel:</div>
											<div id="linksFuelCost" class="cell" style="text-align: right;"></div>
										</div>
										<div class="table-row">
											<div class="cell">Crew:</div>
											<div id="linksCrewCost" class="cell" style="text-align: right;"></div>
										</div>
										<div class="table-row">
											<div class="cell">Flight Supplies:</div>
											<div id="linksInflightCost" class="cell" style="text-align: right;"></div>
										</div>
										<div class="table-row">
											<div class="cell">Airplane Maintenance:</div>
											<div id="linksMaintenance" class="cell" style="text-align: right;"></div>
										</div>
										<div class="table-row">
											<div class="cell">Lounge Cost:</div>
											<div id="linksLoungeCost" class="cell" style="text-align: right;"></div>
										</div>
										<div class="table-row">
											<div class="cell">Airplane Depreciation, In-flight:</div>
											<div id="linksDepreciation" class="cell" style="text-align: right;"></div>
										</div>
										<div class="table-row">
											<div class="cell">Delay Compensation:</div>
											<div id="linksDelayCompensation" class="cell" style="text-align: right;"></div>
										</div>
										<div class="table-row">
											<div class="divider cell"></div>
											<div class="divider cell"></div>
										</div>
										<div class="table-row">
											<div class="cell">Flight Revenue:</div>
											<div id="linksRevenue" class="cell" style="text-align: right;"></div>
										</div>
										<div class="table-row">
											<div class="cell">Flight Expense:</div>
											<div id="linksExpense" class="cell" style="text-align: right;"></div>
										</div>
										<div class="table-row">
											<div class="cell">Flight Profit:</div>
											<div id="linksProfit" class="cell" style="text-align: right;"></div>
										</div>
									</div>
								</div>
			<!-- 					right column -->
								<div style="height: 100%; float: left; padding-right: 20px; box-sizing: border-box;" class="vertical-group">
									<div class="table data">
										<h4>Transaction Income</h4>
										<div class="table-row">
											<div class="cell">
                                                Capital Gain/Loss:
												<div class="tooltip" data-html="capital-gain-loss"></div>
                                            </div>
											<div id="transactionsCapitalGain" class="cell" style="text-align: right;"></div>
										</div>
	<!-- 				 	  				<div class="table-row"> -->
	<!-- 				 	  					<div class="cell">Setup New Flight Route:</div> -->
	<!-- 				 	  					<div id="transactionsCreateLink" class="cell" style="text-align: right;"></div> -->
	<!-- 				 	  				</div> -->
										<div class="table-row">
											<div class="divider cell"></div>
											<div class="divider cell"></div>
										</div>
										<div class="table-row">
											<div class="cell">Transactions Revenue:</div>
											<div id="transactionsRevenue" class="cell" style="text-align: right;"></div>
										</div>
										<div class="table-row">
											<div class="cell">Transactions Expense:</div>
											<div id="transactionsExpense" class="cell" style="text-align: right;"></div>
										</div>
										<div class="table-row">
											<div class="cell">Transactions Profit:</div>
											<div id="transactionsProfit" class="cell" style="text-align: right;"></div>
										</div>
									</div>

									<div class="table data">
										<h4>Other Income</h4>
										<div class="table-row">
											<div class="cell">Loan / Negative Cash Interest:</div>
											<div id="othersLoanInterest" class="cell" style="text-align: right;"></div>
										</div>
										<div class="table-row">
											<div class="cell">Dividends:</div>
											<div id="othersDividends" class="cell" style="text-align: right;"></div>
										</div>
										<div class="table-row">
											<div class="cell">Airport Bases:</div>
											<div id="othersBaseUpkeep" class="cell" style="text-align: right;"></div>
										</div>
										<div class="table-row">
											<div class="cell">Bases Overtime:</div>
											<div id="othersOvertimeCompensation" class="cell" style="text-align: right;"></div>
										</div>
										<div class="table-row">
											<div class="cell">Lounge Upkeep:</div>
											<div id="othersLoungeUpkeep" class="cell" style="text-align: right;"></div>
										</div>
										<div class="table-row">
											<div class="cell">Lounge Supplies:</div>
											<div id="othersLoungeCost" class="cell" style="text-align: right;"></div>
										</div>
										<div class="table-row">
											<div class="cell">Lounge Income:</div>
											<div id="othersLoungeIncome" class="cell" style="text-align: right;"></div>
										</div>
										<div class="table-row">
											<div class="cell">Asset Expense:</div>
											<div id="othersAssetExpense" class="cell" style="text-align: right;"></div>
										</div>
										<div class="table-row">
											<div class="cell">Asset Revenue:</div>
											<div id="othersAssetRevenue" class="cell" style="text-align: right;"></div>
										</div>
										<div class="table-row">
											<div class="cell">Campaign/Advertisement:</div>
											<div id="othersAdvertisement" class="cell" style="text-align: right;"></div>
										</div>
										<div class="table-row">
											<div class="cell">Fuel Profit:</div>
											<div id="othersFuelProfit" class="cell" style="text-align: right;"></div>
										</div>
										<div class="table-row">
											<div class="cell">Aircraft Depreciation, Grounded:</div>
											<div id="othersDepreciation" class="cell" style="text-align: right;"></div>
										</div>
										<div class="table-row">
											<div class="divider cell"></div>
											<div class="divider cell"></div>
										</div>
										<div class="table-row">
											<div class="cell">Others Revenue:</div>
											<div id="othersRevenue" class="cell" style="text-align: right;"></div>
										</div>
										<div class="table-row">
											<div class="cell">Others Expense:</div>
											<div id="othersExpense" class="cell" style="text-align: right;"></div>
										</div>
										<div class="table-row">
											<div class="cell">Others Profit:</div>
											<div id="othersProfit" class="cell" style="text-align: right;"></div>
										</div>
									</div>
								</div>
			<!-- 					end right side -->
								<div style="clear: both;"></div>
							</div>
			<!--          		end income statement -->
							<div style="width : 100%; display: none;" id="cashFlowSheet" class="sheet">
								<div id="totalCashFlowChart" style="width: 100%; height: 300px; margin: 0 auto;"></div>
			<!-- 					left column -->
								<div style="width: 100%;">
									<div style="float: left; padding-right: 10px; box-sizing: border-box;" class="vertical-group">
										<div class="table data">
                                            <h4>Total Cash Flow</h4>
											<div class="table-row">
												<div class="cell">Total Cash Flow:</div>
												<div class="totalCashFlow cell" style="text-align: right;"></div>
											</div>
										</div>
									</div>
									<div style="float: left; padding-right: 20px; box-sizing: border-box;" class="vertical-group">
										<div class="table data">
                                            <h4>Cash Flow Details</h4>
											<div class="table-row">
												<div class="cell">Operation Cash Flow:</div>
												<div class="operation cell" style="text-align: right;"></div>
											</div>
											<div class="table-row">
												<div class="cell">Loan Interest:</div>
												<div class="loanInterest cell" style="text-align: right;"></div>
											</div>
											<div class="table-row">
												<div class="cell">Loan Principal Repayment:</div>
												<div class="loanPrincipal cell" style="text-align: right;"></div>
											</div>
											<div class="table-row">
												<div class="cell">Base Construction:</div>
												<div class="baseConstruction cell" style="text-align: right;"></div>
											</div>
											<div class="table-row">
												<div class="cell">Airplane Purchase:</div>
												<div class="buyAirplane cell" style="text-align: right;"></div>
											</div>
											<div class="table-row">
												<div class="cell">Airplane Sold:</div>
												<div class="sellAirplane cell" style="text-align: right;"></div>
											</div>
											<div class="table-row">
												<div class="cell">Route Setup:</div>
												<div class="createLink cell" style="text-align: right;"></div>
											</div>
											<div class="table-row">
												<div class="cell">Facility Construction:</div>
												<div class="facilityConstruction cell" style="text-align: right;"></div>
											</div>
											<div class="table-row">
												<div class="cell">Oil Contract Cost/Penalty:</div>
												<div class="oilContract cell" style="text-align: right;"></div>
											</div>
											<div class="table-row">
												<div class="cell">Airport Asset Transactions:</div>
												<div class="assetTransactions cell" style="text-align: right;"></div>
											</div>
										</div>
									</div>
									<div style="clear: both;"></div>
								</div>
							</div>
		<!--          		end cashflow sheet -->
							<div style="width : 100%; display: none;" id="airlineStatsSheet" class="sheet">
								<div id="airlineStatsChart" style="width: 100%; height: 300px; margin: 0 auto;"></div>
							</div>
						</div>
	<!-- 					end statements -->
						<div class="section" style="width: 100%; display: flex;">
							<h4>Settings</h4>

							<div class="button" onclick="promptConfirm('Reset all tutorials?', setSkipTutorial, false)">Reset Tutorials</div>

							<div class="table-row">
								<div class="cell label">Airline Code:</div>
								<div class="cell value">
									<span id="airlineCodeDisplaySpan">
										<span id="airlineCode"></span>
										<img src='@routes.Assets.versioned("images/icons/gear.png")' class='button' style="vertical-align: middle;" onclick="editAirlineCode()"/>
									</span>
									<span id="airlineCodeInputSpan" style="display: none;">
										<input id="airlineCodeInput" type="text" onkeyup="validateAirlineCode($(this).val())"/>
										<img src='@routes.Assets.versioned("images/icons/tick.png")' class='button' style="vertical-align: middle;" onclick="setAirlineCode($('#airlineCodeInput').val())"/>
										<span class="warning" style="display:none;">Code should be exactly 2 letters</span>
									</span>
								</div>
							</div>
							<div class="table-row airlineColor">
								<div class="cell label">Color:</div>
								<div class="cell value">
									<input type="color" class="picker">
								</div>
							</div>
							<div class="table-row">
								<div class="cell label">Logo:</div>
								<div class="cell value">
									<span style="display: flex; align-items: center">
										<img class="airlineLogo" src='#'>
										<img src='@routes.Assets.versioned("images/icons/gear.png")' class='button' style="vertical-align: middle;" onclick="editAirlineLogo()"/>
										<img src='@routes.Assets.versioned("images/icons/picture--plus.png")' class='button' style="vertical-align: middle;" onclick="showUploadLogo()"/>
									</span>
								</div>
							</div>

						</div>

					</div>
<!-- end left section  -->
					<div class="vertical-group officeCanvasRightGroup">
                        <div class="section">
                            <h4>Headquarters</h4>
							<div style="position: relative; height: 125px; width: 150px; margin: auto;box-sizing: border-box;" class="headquartersMap"></div>
							<h4 style="margin-bottom:0;padding-bottom:0;padding-top:1rem;">Airline Bases</h4>
							<div style="width: 100%;" class="table">
								<div class="table-header">
									<div class="cell" style="width: 14%">Scale</div>
									<div class="cell" style="width: 33%">Airport</div>
									<div class="cell" style="width: 31%">Staff <br><small>Required | Available</small></div>
									<div class="cell" style="width: 22%">Overtime</div>
								</div>
							</div>
							<div style="width: 100%;  overflow-y:auto; flex: 1;">
								<div style="width: 100%;" class="table data bases">
									<div class="table-header">
										<div class="cell" style="width: 14%; border-bottom: none;"></div>
										<div class="cell" style="width: 33%; border-bottom: none;"></div>
										<div class="cell" style="width: 31%; border-bottom: none;"></div>
										<div class="cell" style="width: 22%; border-bottom: none;"></div>
									</div>
								</div>
							</div>
                        </div>
						<div class="section">
							<h4>Airport Assets</h4>
							<div class="table data" style="width: 100%;">
								<div class="table-header">
									<div class="cell" style="width: 15%">Airport</div>
									<div class="cell" style="width: 40%">Asset</div>
									<div class="cell" style="width: 10%">Level</div>
									<div class="cell" style="width: 20%">Profit</div>
									<div class="cell" style="width: 15%">Margin</div>
								</div>
							</div>
							<div style="max-height: 250px; overflow: auto;">
								<div class="table data assetList" style="width: 100%; max-height: 200px; overflow-y: auto;">
									<div class="table-header">
										<div class="cell" style="width: 15%; border-bottom: none;"></div>
										<div class="cell" style="width: 40%; border-bottom: none;"></div>
										<div class="cell" style="width: 10%; border-bottom: none;"></div>
										<div class="cell" style="width: 20%; border-bottom: none;"></div>
										<div class="cell" style="width: 15%; border-bottom: none;"></div>
									</div>
								</div>
							</div>
						</div>

						<div class="section">
							<h4>Airplane Livery
								<img src='@routes.Assets.versioned("images/icons/picture--plus.png")' class='button' style="vertical-align: middle;" onclick="showUploadLivery()">
								<img src='@routes.Assets.versioned("images/icons/picture--minus.png")' class='button' style="vertical-align: middle;" onclick="deleteLivery()">
							</h4>
							<div style="position: relative; width: 100%">
								<img class="livery" style="max-height: 300px; max-width: 100%; display: block; margin: auto;">
							</div>
							<h4 style="margin-top: 5px;">Company Slogan
								<img src='@routes.Assets.versioned("images/icons/tick.png")' class='button' style="vertical-align: middle;" onclick="saveSlogan()">
							</h4>
							<textarea rows="3" cols="40" maxlength="200" class="slogan" style="width:95%; height: 50px;" placeholder="Your airline slogan..."></textarea>
						</div>

                        <div class="section" >
							<div style="display: flex; align-items: base-line;">
								<span><h4>Campaigns</h4></span>
								<span><img src='@routes.Assets.versioned("images/icons/gear.png")' class='button' onclick="showCampaignModal()" title="View/Edit Campaigns"/></span>
							</div>
							<div class="campaignSummary table data" style="width: 100%; height: 20px;">
								<div class="table-header">
									<div class="cell" style="width: 60%">Area</div>
									<div class="cell" style="width: 40%">Coverage Pop.</div>
								</div>
							</div>
						</div>
						<div class="section" >
							<h4>Championed Countries</h4>
							<div class="table data" style="width: 100%;">
								<div class="table-header">
									<div class="cell" style="width: 5%">&nbsp;</div>
									<div class="cell" style="width: 95%">Country</div>
								</div>
							</div>
							<div style="max-height: 500px; overflow: auto;">
								<div class="table data" id="championedCountriesList" style="width: 100%;">
									<div class="table-header">
										<div class="cell" style="width: 5%; border-bottom: none;"></div>
										<div class="cell" style="width: 95%; border-bottom: none;"></div>
									</div>
								</div>
							</div>
						</div>

						<div class="section" >
							<h4>Championed Airports</h4>
							<div class="table data" style="width: 100%;">
								<div class="table-header">
									<div class="cell" style="width: 5%">&nbsp;</div>
									<div class="cell" style="width: 60%">Airport</div>
									<div class="cell" style="width: 20%">Loyalist</div>
									<div class="cell" style="width: 15%">Reputation Bonus</div>
								</div>
							</div>
							<div style="max-height: 250px; overflow: auto;">
								<div class="table data" id="championedAirportsList" style="width: 100%;">
									<div class="table-header">
										<div class="cell" style="width: 5%; border-bottom: none;"></div>
										<div class="cell" style="width: 60%; border-bottom: none;"></div>
										<div class="cell" style="width: 20%; border-bottom: none;"></div>
										<div class="cell" style="width: 15%; border-bottom: none;"></div>
									</div>
								</div>
							</div>
						</div>

						<div style="width: 600px;" id="popover-reset" popover>
							<div class="table data" style="width: 100%;">
								<div class="table-row">
									<div class="label">Sold Airplanes</div>
									<div class="value airplanes"></div>
								</div>
								<div class="table-row">
									<div class="label">Sold Bases</div>
									<div class="value bases"></div>
								</div>
								<div class="table-row">
									<div class="label">Sold Assets</div>
									<div class="value assets"></div>
								</div>
								<div class="table-row">
									<div class="label">Loans Repayment</div>
									<div class="value loans"></div>
								</div>
								<div class="table-row">
									<div class="label">Oil Contracts Termination</div>
									<div class="value oilContracts"></div>
								</div>
								<div class="table-row">
									<div class="label">Cash</div>
									<div class="value cash"></div>
								</div>
								<div class="table-row">
									<div class="label">New Balance after reset</div>
									<div class="value overall"></div>
								</div>
							</div>
						</div>

						<div class="section" >
                            <h4>Rebuild airline<img src='@routes.Assets.versioned("images/icons/construction.png")'/></h4>
                            <ul>
                                <li class="label dot">Balance reset to&nbsp;$<span id="resetBalance"></span>
                                    <button popovertarget="popover-reset" onmouseover="document.getElementById('popover-reset').showPopover();">
                                        <img src='@routes.Assets.versioned("images/icons/information.png")'>
                                    </button>
                                </li>
                                <li class="label dot">All of the airplanes will be removed</li>
                                <li class="label dot">Headquarters, bases and facilities will be removed</li>
								<li class="label dot">All Airport Assets will be sold</li>
                                <li class="label dot">All routes will be cancelled</li>
                                <li class="label dot">All loans and oil contracts cancelled<li>
                                <li class="label dot">Dropped from current Alliance<li>
                                <li class="label dot">Service Quality will be reset<li>
                                <li class="label dot">Reputation and Loyalty will be kept</li>
                            </ul>
                            <div class='button resetAirline rebuild' onclick='promptConfirm("Rebuild Airline?", resetAirline, true)'>Rebuild Airline</div>
                            <h4>Declare bankruptcy<img src='@routes.Assets.versioned("images/icons/heart-break.png")'/></h4>
                            <ul>
                                <li class="label dot">Reset to initial game start</li>
                            </ul>
                            <div class='button resetAirline bankrupt' onclick='promptConfirm("Declare bankruptcy?", resetAirline, false)'>Declare Bankruptcy</div>
						</div>
					</div>
	<!-- 		    	end right section -->
				</div>
	<!--   			end office canvas -->

				<div id="bankCanvas" class="canvas" style="height: 100%; display: none; min-width: 600px;">
					<div class="vertical-group bankCanvasLeftGroup">
						<div class="section">
							<h4>Interest Rate History</h4>
							<div id="loanInterestRateChart"></div>
						</div>
					</div>
					<div class="vertical-group bankCanvasRightGroup">
					<!--  new loan -->
						<div class="section">
							<h4>New Loan</h4>
							<div class="table" style="width: 100%; margin-bottom: 15px; min-width: 400px;">
								<div class="table-row">
									<div class="label">Available Loan:</div>
									<div class="value">
										<span  id="newLoanMaxAmount"></span>
										<span id="newLoanRejectionSpan">
											<img src='@routes.Assets.versioned("images/icons/prohibition.png")'>
											<span id="newLoanRejection" class="warning"></span>
										</span>
									</div>
								</div>
								<div class="table-row" id="newLoanAmountRow">
									<div class="label">Borrow Amount:</div>
									<div class="value"><input type="text" id="newLoanAmount" oninput="loadLoanOptions($(this).val())"/></div>
								</div>
							</div>
							<div id="newLoanOptions">
								<h4>Loan Options</h4>
								<div class="table data" id="newLoanOptionsTable">
									<div class="table-header">
										<div class="cell" style="width: 20%" align="right">Principal Amount</div>
										<div class="cell" style="width: 10%" align="right">Interest Rate</div>
										<div class="cell" style="width: 20%" align="right">Interest</div>
										<div class="cell" style="width: 20%" align="right">Total Payment</div>
										<div class="cell" style="width: 20%" align="right">Weekly Payment</div>
										<div class="cell" style="width: 10%; min-width: 22px;">&nbsp;</div>
									</div>
								</div>
							</div>
						</div>
						<div class="section">
							<h4>Outstanding Loans</h4>
							<div class="table data" id="outstandingLoansTable">
								<div class="table-header">
									<div class="cell" style="width: 15%" align="right">Principal Amount</div>
									<div class="cell" style="width: 12%" align="right">Interest</div>
									<div class="cell" style="width: 8%" align="right">Interest Rate</div>
									<div class="cell" style="width: 15%" align="right">Remaining Payment</div>
									<div class="cell" style="width: 15%" align="right">Weekly Payment</div>
									<div class="cell" style="width: 15%" align="right">Early Repayment Fee</div>
									<div class="cell" style="width: 15%" align="right">Early Repayment Amount</div>
									<div class="cell" style="width: 5%;  min-width: 22px;">&nbsp;</div>
								</div>
							</div>
						</div>
					</div>
		<!--          end loan list -->
				</div>
	<!--   			end bank canvas -->

				<div id="oilCanvas" class="canvas" style="height: 100%; display: none;">
					<div class="vertical-group oilCanvasLeftGroup">
						<div class="section">
							<h4>Oil Price History</h4>
							<div id="oilPriceChart"></div>
						</div>
					</div>
					<div class="vertical-group oilCanvasRightGroup">
					<!--  new loan -->
						<div class="section">
							<h4>Fuel Consumption History
								<span class="tooltip">
									<img src='@routes.Assets.versioned("images/icons/information.png")'>
									<span class="tooltiptext below" style="width: 400px;">
										Fuel consumption details of previous week
									</span>
								</span>
							</h4>
							<div class="table data" id="oilConsumptionHistoryTable">
									<div class="table-header">
										<div class="cell" style="width: 20%" align="right">Price per Barrel</div>
										<div class="cell" style="width: 30%" align="right">Volume</div>
										<div class="cell" style="width: 50%" align="right">Transaction Type</div>
									</div>
							</div>
							<h4>Inventory Policy
								<span class="tooltip">
									<img src='@routes.Assets.versioned("images/icons/information.png")'>
									<span class="tooltiptext below" style="width: 400px;">
										Airline keeps an inventory of fuel to buffer oil price fluctuations<br/>
										<br/>
										Oil from inventory still fluctuates with the market price but to a smaller degree depending on the policy type<br/>
										<br/>
										In order to completely fix fuel price, Oil Contract should be signed
									</span>
								</span>
							</h4>
							<div class="table" style="width: 100%; margin-bottom: 15px">
								<div class="table-row">
									<div class="label">Current Policy:</div>
									<div class="value">
										<div id="currentInventoryPolicyDiv">
											<span id="currentInventoryPolicy"></span>
											<img id="editOilInventoryPolicyButton" src='@routes.Assets.versioned("images/icons/gear.png")' class='button' style="vertical-align: middle;" onclick="editOilInventoryPolicy()"/>
										</div>
										<div id="editInventoryPolicyDiv" style="display:none;">
											<div class="table data" id="editInventoryPolicyTable">
												<div class="table-header">
														<div class="cell" style="width: 70%" >Policy</div>
														<div class="cell" style="width: 20%" align="right">Inventory Price</div>
														<div class="cell" style="width: 10%" align="right"></div>
												</div>
											</div>
											<div><img src='@routes.Assets.versioned("images/icons/information.png")'><span class="warning"></span></div>
										</div>
									</div>
								</div>
								<div class="table-row">
									<div class="label">Current Inventory Price:</div>
									<div class="value" id="currentInventoryPrice"></div>
								</div>
							</div>


							<h4>New Oil Contract
								<span class="tooltip">
									<img src='@routes.Assets.versioned("images/icons/information.png")'>
									<span class="tooltiptext"  style="width: 400px;">
										Sign long term Oil Contract with fixed price.<br/>
										<br/>
										The price offered depends on current market price and the contract duration
									</span>
								</span>
							</h4>
							<div class="table" style="width: 100%; margin-bottom: 15px">
								<div class="table-row">
									<div class="label">Contract Per Barrel Price:</div>
									<div class="value" id="oilContractPrice"></div>
								</div>
								<div class="table-row">
									<div class="label">Contract Volume:</div>
									<div class="value">
										<input type="text" id="oilContractVolume" oninput="loadOilContractConsideration($('#oilContractVolume').val(), $('#oilContractDuration').val())"/> barrels
										<img class="button" src='@routes.Assets.versioned("images/icons/arrow-circle-135.png")' title="reset value" onclick="setSuggestedOilContractVolume()">
										<img class="button" src='@routes.Assets.versioned("images/icons/control-skip-090.png")' title="max value" onclick="setMaxOilContractVolume()">
									</div>

								</div>
								<div class="table-row">
									<div class="label">Contract Duration:</div>
									<div class="value">
										<input type="text" id="oilContractDuration" oninput="loadOilContractConsideration($('#oilContractVolume').val(), $('#oilContractDuration').val())"/> weeks
										<img class="button" src='@routes.Assets.versioned("images/icons/arrow-circle-135.png")' title="reset value" onclick="setSuggestedOilContractDuration()">
										<img class="button" src='@routes.Assets.versioned("images/icons/control-skip-090.png")' title="max value" onclick="setMaxOilContractDuration()">
									</div>
								</div>
								<div class="table-row">
									<div class="label">Contract Initial Cost:</div>
									<div class="value" id="oilContractInitialCost"></div>
								</div>
								<div class="table-row">
									<div class="label">Contract Termination Cost (current):</div>
									<div class="value" id="oilContractTerminationCost"></div>
								</div>
							</div>
							<div class="button" id="signOilContractButton" style="display:none;" onclick="addOilContract($('#oilContractVolume').val(), $('#oilContractDuration').val())">Sign</div>
							<div id="signOilContractRejectionDiv" style="display:none;">
								<img src='@routes.Assets.versioned("images/icons/prohibition.png")'>
								<span id="signOilContractRejection" class="warning"></span>
							</div>
						</div>
						<div class="section">
							<h4>Active Oil Contracts</h4>
							<div class="table data" id="existingContractsTable">
								<div class="table-header">
									<div class="cell" style="width: 15%" align="right">Contract Price</div>
									<div class="cell" style="width: 20%" align="right">Volume</div>
									<div class="cell" style="width: 18%" align="right">Initial Cost</div>
									<div class="cell" style="width: 20%" align="right">Termination Penalty</div>
									<div class="cell" style="width: 15%" align="right">Remaining Weeks</div>
									<div class="cell" style="width: 2%">&nbsp;</div>
								</div>
							</div>
						</div>
					</div>

		<!--          end contract list -->
				</div>
	<!--   			end oil canvas -->


				<div id="rankingCanvas" class="canvas" style="display: none; width: 100%; flex-direction: column">
					<div class="section" style="width: 100%;height: min-content;flex-shrink: 0;"><p><i>All rankings are best per airline. Prizes are rewarded in reputation. </i></p></div>
					<div style="display: grid;grid-gap: 16px;grid-template-columns: repeat(auto-fit, minmax(440px, 1fr));width: 100%;margin-top: 10px;">
						<div class="table data section tight rankingTable" id="touristCountRank">
							<div class="table-header">
								<div class="cell" style="width: 7%">Rank</div>
								<div class="cell" style="width: 9%">Change</div>
								<div class="cell" style="width: 55%">Tourist Boardings</div>
								<div class="cell" style="width: 22%" align="right">Passengers</div>
								<div class="cell" style="width: 7%" align="right">Prize</div>
							</div>
						</div>
						<div class="table data section tight rankingTable" id="businessCountRank">
							<div class="table-header">
								<div class="cell" style="width: 7%">Rank</div>
								<div class="cell" style="width: 9%">Change</div>
								<div class="cell" style="width: 50%">Business Boardings</div>
								<div class="cell" style="width: 27%" align="right">Passengers</div>
								<div class="cell" style="width: 7%" align="right">Prize</div>
							</div>
						</div>
						<div class="table data section tight rankingTable" id="eliteCountRank">
							<div class="table-header">
								<div class="cell" style="width: 7%">Rank</div>
								<div class="cell" style="width: 9%">Change</div>
								<div class="cell" style="width: 55%">Elite Boardings</div>
								<div class="cell" style="width: 22%" align="right">Passengers</div>
								<div class="cell" style="width: 7%" align="right">Prize</div>
							</div>
						</div>
						<div class="table data section tight rankingTable" id="satisfactionRank">
							<div class="table-header">
								<div class="cell" style="width: 7%">Rank</div>
								<div class="cell" style="width: 9%">Change</div>
								<div class="cell" style="width: 55%">Happiest Customers</div>
								<div class="cell" style="width: 22%" align="right">Average SF<br><small>by pax km</small></div>
								<div class="cell" style="width: 7%" align="right">Prize</div>
							</div>
						</div>
						<div class="table data section tight rankingTable" id="stockRank">
							<div class="table-header">
								<div class="cell" style="width: 7%">Rank</div>
								<div class="cell" style="width: 9%">Change</div>
								<div class="cell" style="width: 50%">Best Business</div>
								<div class="cell" style="width: 27%" align="right">Stock Price</div>
								<div class="cell" style="width: 7%" align="right">Prize</div>
							</div>
						</div>
<!--						<div class="table data section tight rankingTable" id="passengerMileQualityRank">-->
<!--							<div class="table-header">-->
<!--								<div class="cell" style="width: 7%">Rank</div>-->
<!--								<div class="cell" style="width: 9%">Change</div>-->
<!--								<div class="cell" style="width: 50%">Highest Average Quality</div>-->
<!--								<div class="cell" style="width: 27%" align="right">Quality per pax km</div>-->
<!--								<div class="cell" style="width: 7%" align="right">Prize</div>-->
<!--							</div>-->
<!--						</div>-->
						<div class="table data section tight rankingTable" id="loungeRank">
							<div class="table-header">
								<div class="cell" style="width: 7%">Rank</div>
								<div class="cell" style="width: 9%">Change</div>
								<div class="cell" style="width: 55%">Busiest Lounge</div>
								<div class="cell" style="width: 22%" align="right">Weekly Visitors</div>
								<div class="cell" style="width: 7%" align="right">Prize</div>
							</div>
						</div>
						<div class="table data section tight rankingTable" id="linkFrequency">
							<div class="table-header">
								<div class="cell" style="width: 7%">Rank</div>
								<div class="cell" style="width: 9%">Change</div>
								<div class="cell" style="width: 55%">Highest Frequency Route <br><small>With more than 2400 sold seats</small></div>
								<div class="cell" style="width: 22%" align="right">Frequency</div>
								<div class="cell" style="width: 7%" align="right">Prize</div>
							</div>
						</div>
						<div class="table data section tight rankingTable" id="linkProfitRank">
							<div class="table-header">
								<div class="cell" style="width: 7%">Rank</div>
								<div class="cell" style="width: 9%">Change</div>
								<div class="cell" style="width: 50%">Most Profitable Route</div>
								<div class="cell" style="width: 27%" align="right">Weekly Profit</div>
								<div class="cell" style="width: 7%" align="right">Prize</div>
							</div>
						</div>
						<div class="table data section tight rankingTable" id="linkDistanceRank">
							<div class="table-header">
								<div class="cell" style="width: 7%">Rank</div>
								<div class="cell" style="width: 9%">Change</div>
								<div class="cell" style="width: 55%">Longest Route <br><small>With more than 200 sold seats</small></div>
								<div class="cell" style="width: 22%" align="right">Distance</div>
								<div class="cell" style="width: 7%" align="right">Prize</div>
							</div>
						</div>
						<div class="table data section tight rankingTable" id="uniqueCountriesRank">
							<div class="table-header">
								<div class="cell" style="width: 7%">Rank</div>
								<div class="cell" style="width: 9%">Change</div>
								<div class="cell" style="width: 55%">Most Countries Served</div>
								<div class="cell" style="width: 22%" align="right">Countries</div>
								<div class="cell" style="width: 7%" align="right">Prize</div>
							</div>
						</div>
						<div class="table data section tight rankingTable" id="linksSmallTown">
							<div class="table-header">
								<div class="cell" style="width: 7%">Rank</div>
								<div class="cell" style="width: 9%">Change</div>
								<div class="cell" style="width: 50%">Town Flyer</div>
								<div class="cell" style="width: 27%" align="right">Small Airports<br><small>500k pop or less</small></div>
								<div class="cell" style="width: 7%" align="right">Prize</div>
							</div>
						</div>
						<div class="table data section tight rankingTable" id="linksLowIncome">
							<div class="table-header">
								<div class="cell" style="width: 7%">Rank</div>
								<div class="cell" style="width: 9%">Change</div>
								<div class="cell" style="width: 55%">Low Income Champion</div>
								<div class="cell" style="width: 22%" align="right">Airports<br><small>$10k income or less</small></div>
								<div class="cell" style="width: 7%" align="right">Prize</div>
							</div>
						</div>
					</div>
					<div class="section" style="width: 100%;height: min-content;flex-shrink: 0;"><p>Informational Rankings!<br/><i>No prizes</i></p></div>
					<div style="display: grid;grid-gap: 16px;grid-template-columns: repeat(auto-fit, minmax(440px, 1fr));width: 100%;margin-top: 10px;">
						<div class="table data section tight rankingTable" id="airportRank">
							<div class="table-header">
								<div class="cell" style="width: 7%">Rank</div>
								<div class="cell" style="width: 9%">Change</div>
								<div class="cell" style="width: 50%">Busiest Airport</div>
								<div class="cell" style="width: 34%" align="right">Weekly Enplanements</div>
							</div>
						</div>
						<div class="table data section tight rankingTable" id="passengerMileRank">
							<div class="table-header">
								<div class="cell" style="width: 7%">Rank</div>
								<div class="cell" style="width: 9%">Change</div>
								<div class="cell" style="width: 50%">Largest by Passenger mile</div>
								<div class="cell" style="width: 27%" align="right">Pax miles</div>
								<div class="cell" style="width: 7%" align="right">Prize</div>
							</div>
						</div>
						<div class="table data section tight rankingTable" id="internationPaxRank">
							<div class="table-header">
								<div class="cell" style="width: 10%">Rank</div>
								<div class="cell" style="width: 10%">Change</div>
								<div class="cell" style="width: 60%">Top International Routes</div>
								<div class="cell" style="width: 20%" align="right">Weekly Pax</div>
							</div>
						</div>
						<div class="table data section tight rankingTable" id="domesticPaxRank">
							<div class="table-header">
								<div class="cell" style="width: 10%">Rank</div>
								<div class="cell" style="width: 10%">Change</div>
								<div class="cell" style="width: 60%">Top Domestic Routes</div>
								<div class="cell" style="width: 20%" align="right">Weekly Pax</div>
							</div>
						</div>
					</div>
					<div style="clear: both;"></div>
				</div>
	<!--   			end ranking canvas -->
				<div id="rivalsCanvas" class="canvas" style="height: 100%; display: none;">
					<div class="mainPanel">
						<div class="section tight">
							<div style="height: 20px;">
								<input type="checkbox" id="hideInactive" onchange="toggleHideInactive(this.checked)" checked/><span class="label">Hide Inactive Airlines</span>
								<span id="rivalIdSortButton" data-sort-property="id" data-sort-order="descending" class="button adminActions" title="Sort by created date"
									  onclick="toggleRivalsTableSortOrder($(this))" style="vertical-align: text-bottom">
									<img src='@routes.Assets.versioned("images/icons/clock-frame.png")'>
								</span>
							</div>
							<div style="width: 100%; height: 100%; overflow: auto;">
								<div id = "rivalsTableSortHeader" class="table data" style="width: 100%; height: 20px; min-width: 400px;">
									<div class="table-header">
										<div class="cell clickable" style="width: 5%" data-sort-property="loginStatus" data-sort-order="ascending" onclick="toggleRivalsTableSortOrder($(this))">&nbsp;</div>
										<div class="cell clickable" style="width: 35%" data-sort-property="name" data-sort-order="ascending" onclick="toggleRivalsTableSortOrder($(this))">Name</div>
										<div class="cell clickable" style="width: 30%" data-sort-property="headquartersCity" data-sort-order="ascending" onclick="toggleRivalsTableSortOrder($(this))">Headquarters</div>
										<div class="cell clickable selected" style="width: 15%" align="right" data-sort-property="reputation" data-sort-order="descending" onclick="toggleRivalsTableSortOrder($(this))">Reputation</div>
										<div class="cell clickable" style="width: 15%" align="right" data-sort-property="baseCount" data-sort-order="descending" onclick="toggleRivalsTableSortOrder($(this))">Bases</div>
									</div>
								</div>
								<div style="height: calc(100% - 40px); width: 100%; overflow-y: auto; min-width: 400px;">
									<div id="rivalsTable" class="table data" style="height: 100%; width: 100%;">
										<div class="table-header">
											<div class="cell" style="width: 5%; border-bottom: none;"></div>
											<div class="cell" style="width: 35%; border-bottom: none;"></div>
											<div class="cell" style="width: 30%; border-bottom: none;"></div>
											<div class="cell" style="width: 15%; border-bottom: none;"></div>
											<div class="cell" style="width: 15%; border-bottom: none;"></div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>

					<div id="rivalDetails" class="sidePanel" style="display: none;">
						<div class="section" style="display: flex; flex-wrap: wrap; gap: 8px;">
							<div style="min-width: 200px; flex: 1;">
								<h4><span class="airlineName"></span></h4>

								<div class="table" style="width: 100%;">
									<div class="table-row">
										<div class="label">Airline Code:</div>
										<div class="value airlineCode"></div>
									</div>
									<div class="table-row">
										<div class="label">Airline Color:</div>
										<div class="value"><span class="airlineColorDot"></span></div>
									</div>
									<div class="table-row">
										<div class="label">Grade:</div>
										<div class="value"><span class="airlineGrade"></span></div>
									</div>
									<div class="table-row">
										<div class="label">Alliance:</div>
										<div class="value alliance"></div>
									</div>
									<div class="table-row formerNameRow">
										<div class="label">Former Names:</div>
										<div class="value">
											<div class="table data formerNames" style="width: 100%; max-height: 50px; overflow: auto;">
											</div>
										</div>
									</div>
								</div>
								<div>
									<div class="button" onclick="showRivalMap()">Flight Map</div>
									<div class="button" data-link="history" onclick="showRivalHistory()">Recent Activities</div>
								</div>

								<div class="adminActions" style="display: none;">
									<h4>Admin Action</h4>
									<div>Username: <span class="username"></span></div>
									<div>User ID: <span class="userId"></span></div>
									<div>User Mod: <span class="userModifiers"></span></div>
									<div>Airline Mod: <span class="airlineModifiers"></span></div>
									<div><span>IP:</span>&nbsp;<div class="ips" style="display: inline-block; width: 90%"></div></div>
									<div><span>UUID:</span>&nbsp;<div class="uuids" style="display: inline-block; width: 90%"></div></div>
									<div class="clickable" onclick="banChat()" style="margin-top: 10px;">Ban Chat</div>
									<div class="clickable" onclick="invalidateCustomization()">Remove Livery/Slogan</div>
									<div class="clickable" onclick="banWarning()">Warn about ban</div>
									<div class="clickable" onclick="ban()">Ban</div>
									<div class="clickable" onclick="nerf()">Nerf</div>
									<div class="clickable" onclick="promptConfirm('Confirm to ban and reset this user? This cannot be undo!', banAndReset)">Ban and reset</div>
									<div class="clickable" onclick="restore()">Restore</div>
									<div class="clickable" onclick="promptAirlineMessage()">Send Direct Message</div>
								</div>
								<div class="superAdminActions" style="display: none;">
									<h4>Super Admin Action</h4>
									<div class="clickable" onclick="switchUser()">Switch to this user</div>
									<div>
										<span>User Level:</span>
										<select class="setUserLevel">
											<option value="0">0</option>
											<option value="1">1</option>
											<option value="2">2</option>
											<option value="3">3</option>
										</select>
										<div class="button" onclick="setUserLevel()">Set user level</div>
									</div>
									<div>
										<span>Loyalty Bonus:</span>
										<select class="bannerLoyaltyBonus">
											<option value="1">1</option>
											<option value="2">2</option>
											<option value="3">3</option>
											<option value="4">4</option>
											<option value="5">5</option>
										</select>
										<div class="button" onclick="setBannerWinner()">Set banner winner</div>
									</div>
									<div class="clickable" onclick="promptBroadcastMessage()">Send Broadcast Message</div>
								</div>
							</div>
							<div style="min-width: 200px; flex: 1;">
								<h4>Fleet</h4>
								<div class="table data" style="width: 100%;">
									<div class="table-header">
										<div class="cell" style="width: 70%">Model</div>
										<div class="cell" style="width: 30%">Quantity</div>
									</div>
								</div>
								<div class="table data fleetList" style="width: 100%; max-height: 50px; overflow: auto;">
									<div class="cell" style="width: 70%; border-bottom: none;"></div>
									<div class="cell" style="width: 30%; border-bottom: none;"></div>
								</div>
							</div>
						</div>
						<div class="section" style="display: flex; flex-wrap: wrap; gap: 8px;">
							<div style="min-width: 200px; flex: 1;">
								<h4>Airline Headquarters</h4>
								<div style="position: relative; height: 150px; width: 100%" class="headquartersMap"></div>
							</div>

							<div style="min-width: 200px; height: 100%;  overflow: auto; flex: 1;">
								<h4>Airline Bases</h4>
								<div id="rivalBases" style="width: 100%;" class="table data">
								</div>
							</div>
						</div>

						<div class="section tight" style="display: flex; flex-wrap: wrap; gap: 8px;">
							<div style="min-width: 200px; flex: 1;">
								<h4>National Airline of</h4>
								<div class="table data nationalAirlineCountryList" style="width: 100%;">
									<div class="table-header">
										<div class="cell" style="width: 70%">&nbsp;</div>
										<div class="cell" style="width: 30%">Loyalty Bonus</div>
									</div>
								</div>

								<h4>Partnered Airline of</h4>
								<div class="table data" style="width: 100%;">
									<div class="table-header">
										<div class="cell" style="width: 70%">&nbsp;</div>
										<div class="cell" style="width: 30%">Loyalty Bonus</div>
									</div>
								</div>
								<div class="table data partneredAirlineCountryList" style="width: 100%; max-height: 250px; overflow: auto;">
									<div class="table-header">
										<div class="cell" style="width: 70%; border-bottom: none;"></div>
										<div class="cell" style="width: 30%; border-bottom: none;"></div>
									</div>
								</div>
							</div>

							<div style="min-width: 200px; flex: 1;">
								<h4>Champion Airline of</h4>
								<div class="table data" style="width: 100%;">
									<div class="table-header">
										<div class="cell" style="width: 5%">&nbsp;</div>
										<div class="cell" style="width: 70%">Airport</div>
										<div class="cell" style="width: 25% align='right'">Reputation Bonus</div>
									</div>
								</div>
								<div style="max-height: 250px; overflow: auto;">
									<div class="table data" id="rivalChampionedAirportsList" style="width: 100%;">
										<div class="table-header">
											<div class="cell" style="width: 5%; border-bottom: none;"></div>
											<div class="cell" style="width: 70%; border-bottom: none;"></div>
											<div class="cell" style="width: 25%; border-bottom: none;"></div>
										</div>
									</div>
								</div>
							</div>
						</div>
						<div style="width: 95%; height: 50%" class="section tight">
							<h4>Routes</h4>
							<div class="table data" style="width: 100%; height: 20px;">
								<div class="table-header">
									<div class="cell clickable" style="width: 25%" data-sort-property="fromAirportCity" data-sort-order="ascending" onclick="toggleRivalLinksTableSortOrder($(this))">From</div>
									<div class="cell clickable" style="width: 25%" data-sort-property="toAirportCity" data-sort-order="ascending" onclick="toggleRivalLinksTableSortOrder($(this))">To</div>
									<div class="cell clickable" style="width: 25%" align="right" data-sort-property="distance" data-sort-order="descending" onclick="toggleRivalLinksTableSortOrder($(this))">Distance</div>
									<div class="cell clickable" style="width: 25%" align="right" data-sort-property="totalCapacity" data-sort-order="descending" onclick="toggleRivalLinksTableSortOrder($(this))">Capacity</div>
								</div>
							</div>
							<div style="max-height: 600px; overflow: auto;">
								<div id="rivalLinksTable" class="table data" style="width: 100%;">
									<div class="table-header">
										<div class="cell" style="width: 25%; border-bottom: none;"></div>
										<div class="cell" style="width: 25%; border-bottom: none;"></div>
										<div class="cell" style="width: 25%; border-bottom: none;"></div>
										<div class="cell" style="width: 25%; border-bottom: none;"></div>
									</div>
								</div>
							</div>
						</div>
					</div>
					<div style="clear: both;"></div>
				</div>
	<!--   			end rival canvas -->
				<div id="allianceCanvas" class="canvas" style="display: none;">
					<div class="vertical-group allianceCanvasLeftGroup">
						<div id="currentAirlineMemberDetails" class="section">
							<div style="width: 50%; float: left;">
								<div style="margin-bottom: 15px;">
									<h4>Your Airline Alliance</h4>
									<div class="table" style="width: 100%;">
										<div class="table-row">
											<div class="cell label">Alliance Name:</div>
											<div class="cell value">
												<span class="allianceName"></span>
												<span id="formAllianceSpan" style="display:none;">
													<input type="text" id="inputAllianceName"/>
													<img src='@routes.Assets.versioned("images/icons/tick.png")' class='button' style="vertical-align: middle;" onclick="formAlliance($('#inputAllianceName').val())"/>
													<div class="warning" id="formAllianceWarning" style="display:none;"></div>
												</span>
												<img id="toggleFormAllianceButton" src='@routes.Assets.versioned("images/icons/gear.png")' class='button' style="vertical-align: middle; display: none;" onclick="toggleFormAlliance()"/>
											</div>
										</div>
										<div class="table-row">
											<div class="cell label">Role:</div>
											<div class="cell value allianceRole"></div>
										</div>
										<div class="table-row">
											<div class="cell label">Ranking:</div>
											<div class="cell value allianceRanking"></div>
										</div>
										<div class="table-row">
											<div class="cell label">Status:</div>
											<div class="cell value allianceStatus"></div>
										</div>
									</div>
								</div>
								<h4>Your Alliance History</h4>
								<div style="max-height: 150px; overflow: auto; margin-right: 10px;">
									<div class="table data" id="currentAirlineAllianceHistory" style="width: 100%;">

									</div>
								</div>
							</div>

							<div style="width: 50%; margin-bottom: 15px; float: right;">
								<h4>Your Alliance Stats</h4>
								<div class="table stats" style="width: 100%;">
									<div class="table-row">
										<div class="cell label">Weekly PAX (Y/J/F):</div>
										<div class="cell value totalPax"></div>
									</div>
									<div class="table-row">
										<div class="cell label">Weekly Revenue:</div>
										<div class="cell value totalRevenue"></div>
									</div>
									<div class="table-row">
										<div class="cell label">Total Loyalist:</div>
										<div class="cell value totalLoyalist"></div>
									</div>
									<div class="table-row">
										<div class="cell label">Weekly Lounge Visit:</div>
										<div class="cell value totalLoungeVisit"></div>
									</div>
									<div class="table-row">
										<div class="cell label">Championed Airports:</div>
										<div class="cell">
											<div class="tooltip">
												<img src='@routes.Assets.versioned("images/icons/information.png")'>
												<span class="tooltiptext below" style="width: 350px;">
													<div class="table data allianceChampionAirportSummary" style="width: 100%;">
														<div class="table-header">
															<div class="cell" style="width: 28%;">Scale</div>
															<div class="cell" style="width: 20%;"><img src='@routes.Assets.versioned("images/icons/crown.png")' title="1st"></div>
															<div class="cell" style="width: 20%;"><img src='@routes.Assets.versioned("images/icons/crown-silver.png")' title="2nd"></div>
															<div class="cell" style="width: 20%;"><img src='@routes.Assets.versioned("images/icons/crown-bronze.png")' title="3rd"></div>
															<div class="cell" style="width: 20%;">Other</div>
														</div>
													</div>
												</span>
											</div>
											<span class="championedAirports value" style="display: inline-block;"></span>
										</div>
									</div>
									<div class="table-row">
										<div class="cell label">Championed Countries:</div>
										<div class="cell">
											<div class="tooltip">
												<img src='@routes.Assets.versioned("images/icons/information.png")'>
												<span class="tooltiptext below" style="width: 350px;">
													<div class="table data allianceChampionCountrySummary" style="width: 100%;">
														<div class="table-header">
															<div class="cell" style="width: 28%;">Population</div>
															<div class="cell" style="width: 18%;"><img src='@routes.Assets.versioned("images/icons/crown.png")' title="1st"></div>
															<div class="cell" style="width: 18%;"><img src='@routes.Assets.versioned("images/icons/crown-silver.png")' title="2nd"></div>
															<div class="cell" style="width: 18%;"><img src='@routes.Assets.versioned("images/icons/crown-bronze.png")' title="3rd"></div>
															<div class="cell" style="width: 18%;">Other</div>
														</div>
													</div>
												</span>
											</div>
											<span class="championedCountries value" style="display: inline-block;"></span>
										</div>
									</div>
								</div>
								<h4 style="margin-top: 15px;">Your Alliance Mission</h4>
								<div class="table mission" style="width: 100%;">
									<div class="table-row">
										<div class="cell label">Mission:</div>
										<div class="cell value description"></div>
									</div>
									<div class="table-row">
										<div class="cell label">Current Progress:</div>
										<div class="cell value progress"></div>
									</div>
									<div class="table-row">
										<div class="cell label">Status:</div>
										<div class="cell value status"></div>
									</div>
								</div>
								<div class="button currentMission">Current</div>
								<div class="button previousMission">Previous</div>
							</div>
							<div style="clear: both;"></div>
						</div>

						<div style="min-height: 200px" class="section">
							<div id = "allianceTableSortHeader" class="table data" style="width: 100%; height: 20px;">
								<div class="table-header">
									<div class="cell clickable" style="width: 30%" data-sort-property="name" data-sort-order="ascending" onclick="toggleAllianceTableSortOrder($(this))">Alliance Name</div>
									<div class="cell clickable" style="width: 30%" data-sort-property="leaderAirlineName" data-sort-order="ascending" onclick="toggleAllianceTableSortOrder($(this))">Leader Airline</div>
									<div class="cell clickable" style="width: 20%" align="right" data-sort-property="memberCount" data-sort-order="descending" onclick="toggleAllianceTableSortOrder($(this))">Airline Member</div>
									<div class="cell clickable selected" style="width: 20%" align="right" data-sort-property="championPointsValue" data-sort-order="descending" onclick="toggleAllianceTableSortOrder($(this))">Champion Points</div>
								</div>
							</div>
							<div style="width: 100%; flex: 1; overflow-y: auto;" id="allianceTableContainer">
								<div id="allianceTable" class="table data" style="width: 100%;">
									<div class="table-header">
										<div class="cell" style="width: 30%; border-bottom: none;"></div>
										<div class="cell" style="width: 30%; border-bottom: none;"></div>
										<div class="cell" style="width: 20%; border-bottom: none;"></div>
										<div class="cell" style="width: 20%; border-bottom: none;"></div>
									</div>
								</div>
							</div>
						</div>
					</div>
					<div id="allianceDetails" class="vertical-group allianceCanvasRightGroup">
						<div class="section">
							<div>
								<h4>Alliance Details</h4>
								<div class="table" style="width: 100%;">
									<div class="table-row">
										<div class="cell label">Name:</div>
										<div class="cell value allianceName"></div>
									</div>
									<div class="table-row">
										<div class="cell label">Ranking:</div>
										<div class="cell value allianceRanking"></div>
									</div>
									<div class="table-row">
										<div class="cell label">Status:</div>
										<div class="cell value allianceStatus"></div>
									</div>
									<div class="table-row tagColor">
										<div class="cell label">Tag Color:</div>
										<div class="cell value">
											<input type="color" class="picker tagColor">
											<img src='@routes.Assets.versioned("images/icons/arrow-circle-135.png")' class="clickable" onclick="checkResetAllianceLabelColor(selectedAlliance.id)">
										</div>
									</div>
								</div>
								<div class="button" onclick="showAllianceMap()">Flight Map</div>
								<h4 style="margin-top: 10px">Members</h4>
								<div id="allianceMemberList" class="table data" style="width: 100%;">
								</div>
								<div class="button" id="applyForAllianceButton" onclick="applyForAlliance()">Apply</div>
								<span id="applyForAllianceRejectionSpan" style="display: none;">
									<img src='@routes.Assets.versioned("images/icons/prohibition.png")'>
									<span class="warning">Cannot join alliance</span>&nbsp;
									<span id="applyForAllianceRejection" class="warning"></span>
								</span>
							</div>
						</div>
						<div class="section" style="width: 95%;">
							<h4>Alliance Bonus</h4>
							<div style="width: 100%;">
								<div id="allianceBonusList" class="table data" style="width: 100%;">
									<div class='table-row' id ="allianceNoneBonus" style="display:none;"><div class='cell'>Flight Code sharing - passengers are more willing to take connection flights from the same alliance</div></div>
									<div class='table-row' id ="allianceCodeShareBonus" style="display:none;"><div class='cell'>Flight Code sharing - passengers are more willing to take connection flights from the same alliance</div></div>
									<div class='table-row' id="allianceReputationBonus" style="display:none;"><div class='cell'>Reputation increased by <span id="allianceReputationBonusValue"></span></div></div>
								</div>
							</div>
						</div>
						<div class="section" style="width: 95%;">
							<h4>Alliance Championed Airports</h4>
							<div style="width: 100%;">
								<div class="table data" style="width: 100%;">
									<div class="table-header">
										<div class="cell" style="width: 10%">Ranking</div>
										<div class="cell" style="width: 30%">Airport</div>
										<div class="cell" style="width: 30%">Airline</div>
										<div class="cell" style="width: 20% align='right'">Loyalist</div>
										<div class="cell" style="width: 10% align='right'">Reputation Bonus</div>
									</div>
								</div>
								<div style="max-height: 200px; overflow: auto;">
									<div class="table data" id="allianceChampionAirportList" style="width: 100%;">
									  <div class="table-header">
										<div class="cell" style="width: 10%; border-bottom: none;"></div>
										<div class="cell" style="width: 30%; border-bottom: none;"></div>
										<div class="cell" style="width: 30%; border-bottom: none;"></div>
										<div class="cell" style="width: 20% align='right'; border-bottom: none;"></div>
										<div class="cell" style="width: 10% align='right'; border-bottom: none;"></div>
									  </div>
									</div>
								</div>
								<h5 style="float: right;"><div>Total&nbsp;<span class="totalReputation"></span>&nbsp;reputation points (<span class="reputationTruncatedEntries"></span> entries truncated)</div></h5>
							</div>
						</div>
						<div class="section" style="width: 95%;">
							<h4>Alliance Championed Countries</h4>
							<div style="width: 100%;">
								<div class="table data" style="width: 100%;">
									<div class="table-header">
										<div class="cell" style="width: 10%">Ranking</div>
										<div class="cell" style="width: 40%">Country</div>
										<div class="cell" style="width: 50%">Airline</div>
									</div>
								</div>
								<div style="max-height: 200px; overflow: auto;">
									<div class="table data" id="allianceChampionCountryList" style="width: 100%;">
										<div class="table-header">
											<div class="cell" style="width: 10%; border-bottom: none;"></div>
											<div class="cell" style="width: 40%; border-bottom: none;"></div>
											<div class="cell" style="width: 50%; border-bottom: none;"></div>
										</div>
									</div>
								</div>
							</div>
						</div>
						<div class="section" style="width: 95%;">
							<h4>Alliance History</h4>
							<div style="width: 100%; overflow: auto; max-height: 400px;">
								<div class="table data" id="allianceHistory" style="width: 100%;">
								</div>
							</div>
						</div>


					</div>
					<div style="clear: both;"></div>
				</div>
		<!-- end alliance canvas -->
				<div id="logCanvas" class="canvas" style="height: 100%; display: none;">
					<div style="width : 95%; height: 200px" class="section">
						<h4>Alerts</h4>
						<div id = "alertTableSortHeader" class="table data" style="width: 100%; height: 20px;">
							<div class="table-header">
								<div class="cell clickable selected" style="width: 10%" data-sort-property="cycle" data-sort-order="descending" onclick="toggleAlertTableSortOrder($(this))">Week</div>
								<div class="cell clickable" style="width: 10%" data-sort-property="category" data-sort-order="ascending" onclick="toggleAlertTableSortOrder($(this))">Category</div>
								<div class="cell clickable" style="width: 10%" data-sort-property="duration" data-sort-order="ascending" onclick="toggleAlertTableSortOrder($(this))">Duration</div>
								<div class="cell clickable" style="width: 20%" data-sort-property="airlineName" data-sort-order="ascending" onclick="toggleAlertTableSortOrder($(this))">Airline</div>
								<div class="cell clickable" style="width: 50%" data-sort-property="message" data-sort-order="ascending" onclick="toggleAlertTableSortOrder($(this))">Message</div>
							</div>
						</div>
						<div style="height: calc(100% - 20px); width: 100%; overflow: auto;">
							<div class="table data" id="alertTable" style="width: 100%; max-height: 100%">
								<div class="table-header">
									<div class="cell" style="width: 10%; border-bottom: none;"></div>
									<div class="cell" style="width: 10%; border-bottom: none;"></div>
									<div class="cell" style="width: 10%; border-bottom: none;"></div>
									<div class="cell" style="width: 20%; border-bottom: none;"></div>
									<div class="cell" style="width: 50%; border-bottom: none;"></div>
								</div>
							</div>
						</div>
					</div>


					<div style="width : 95%; height: 500px" class="section">
						<div style="height: 60px;">
							<h4>Add Self Note</h4>
							<input type="text" class="selfNote" size="50" maxlength="100">
							<img src='@routes.Assets.versioned("images/icons/plus-button.png")' class="clickable" onclick="putSelfNote()" style="vertical-align: text-bottom;">
							<div class="selfNote rejection" style="display: none;">
								<img src='@routes.Assets.versioned("images/icons/exclamation-red-frame.png")' style="vertical-align: text-bottom;"><span class="reason"></span>
							</div>
						</div>
						<h4>Logs</h4>
						<div id = "logTableSortHeader" class="table data" style="width: 100%; height: 20px;">
							<div class="table-header">
								<div class="cell clickable selected" style="width: 10%" data-sort-property="cycleDelta" data-sort-order="descending" onclick="toggleLogTableSortOrder($(this))">Week</div>
								<div class="cell clickable" style="width: 10%" data-sort-property="severity" data-sort-order="descending" onclick="toggleLogTableSortOrder($(this))">Severity</div>
								<div class="cell clickable" style="width: 10%" data-sort-property="category" data-sort-order="descending" onclick="toggleLogTableSortOrder($(this))">Category</div>
								<div class="cell clickable" style="width: 20%" data-sort-property="airlineName" data-sort-order="ascending" onclick="toggleLogTableSortOrder($(this))">Airline</div>
								<div class="cell clickable" style="width: 50%" data-sort-property="message" data-sort-order="ascending" onclick="toggleLogTableSortOrder($(this))">Message</div>
							</div>
						</div>
						<div style="height: calc(100% - 100px); width: 100%; overflow: auto;">
							<div class="table data" id="logTable" style="width: 100%; max-height: 100%">
								<div class="table-header">
									<div class="cell" style="width: 10%; border-bottom: none;"></div>
									<div class="cell" style="width: 10%; border-bottom: none;"></div>
									<div class="cell" style="width: 10%; border-bottom: none;"></div>
									<div class="cell" style="width: 20%; border-bottom: none;"></div>
									<div class="cell" style="width: 50%; border-bottom: none;"></div>
								</div>
							</div>
						</div>
					</div>
				</div>
				<!-- end log canvas -->


				<div id="eventCanvas" class="canvas" style="height: 100%; display: none;">
					<div class="vertical-group firstColumn" style="min-height: 200px; float:left;">
						<div style="width : 90%" class="section">
							<h4>Olympics</h4>
							<div id = "olympicsTableSortHeader" class="table data" style="width: 100%; height: 20px;">
								<div class="table-header">
									<div class="cell clickable selected" style="width: 15%" data-sort-property="startCycle" data-sort-order="descending" onclick="toggleOlympicTableSortOrder($(this))">Start Week</div>
									<div class="cell clickable" style="width: 30%" data-sort-property="hostCity" data-sort-order="descending" onclick="toggleOlympicTableSortOrder($(this))">Host City</div>
									<div class="cell" style="width: 15%">Remaining Duration</div>
									<div class="cell" style="width: 40%">Status</div>
								</div>
							</div>
							<div style="height: calc(100% - 20px); width: 100%; overflow: auto;">
								<div class="table data" id="olympicsTable" style="width: 100%; max-height: 100%">
									<div class="table-header">
										<div class="cell" style="width: 15%; border-bottom: none;"></div>
										<div class="cell" style="width: 30%; border-bottom: none;"></div>
										<div class="cell" style="width: 15%; border-bottom: none;"></div>
										<div class="cell" style="width: 40%; border-bottom: none;"></div>
									</div>
								</div>
							</div>
						</div>
					</div>
					<div class="vertical-group secondColumn" style="float:left;">
						<div id="olympicsDetails" style="width : 90%; display: none;" class="section">
							<h4><img class="year1 yearStatus">Year 1 - Host City Voting</h4>
							<div class="table data" id="olympicsCandidatesTable" style="width: 100%; max-height: 100%">
								<div class="table-header">
									<div class="cell" style="width: 100%">City</div>
								</div>
							</div>
							<button type="button" class="button vote">Vote</button>
							<h4 style="margin-top: 15px"><img class="year2 yearStatus">Year 2 - Winning City Bid Announcement</h4>
							<div class="table data" id="olympicsVotingRoundsTable" style="width: 100%; max-height: 100%">

							</div>
							<div class="table">
								<div class="table-row">
									<div class="label">Host City: </div>
									<div class="value hostCity"></div>
								</div>
								<div class="table-row">
									<div class="label">Voted City: </div>
									<div class="value votedCity"></div>
								</div>
								<div class="table-row claimedVoteRewardRow" style="display: none;">
									<div class="label">Claimed Reward: </div>
									<div class="value claimedVoteReward"></div>
								</div>
							</div>

							<div class="button glow votedCityReward" onclick="showOlympicsVoteRewardModal()">Claim Reward</div>
							<h4 style="margin-top: 15px"><img class="year3 yearStatus">Year 3 - Games Preparation</h4>
							<h4 style="margin-top: 15px"><img class="year4 yearStatus">Year 4 - Year of Summer Olympics</h4>
							<div class="table">
								<div class="table-row">
									<div class="label">Olympics Passenger Score from previous week: </div>
									<div class="value previousCycleScore"></div>
								</div>
								<div class="table-row">
									<div class="label">Current Olympics Passenger Score: </div>
									<div class="value totalScore"></div>
								</div>
								<div class="table-row">
									<div class="label">Target Olympics Passenger Score of this week: </div>
									<div class="value currentCycleGoal"></div>
								</div>
								<div class="table-row">
									<div class="label">Olympics Passenger Score Goal: </div>
									<div class="value goal"></div>
								</div>
								<div class="table-row claimedPassengerRewardRow" style="display: none;">
									<div class="label">Claimed Reward: </div>
									<div class="value claimedPassengerReward"></div>
								</div>
								<div class="table-row">
									<div class="label">Total Olympics Passengers (all airlines): </div>
									<div class="value totalPassengers"></div>
								</div>
							</div>
							<button type="button" class="button" onclick="showOlympicsRankingModal()">Ranking</button>
							<button type="button" class="button glow passengerReward" onclick="showOlympicsPassengerRewardModal()">Claim Reward</button>
						</div>
  					</div>
	  				<div style="clear: both;"></div>
				</div>
				<!-- end event canvas -->

			  <div id="searchCanvas" class="canvas" style="height: 100%; display: none; justify-content: center;">
				  <div style="width : 90%; max-width: 800px; height: 98%; display: flex; flex-flow: column;" class="section mainSection">
					  <div style="width: 100%; min-height: 80px;" class="titlesContainer">
						  <div class="titleNavigation">
							  <div style="float:left;" class="left" onclick="titleNavigate($(this), -1)"><img class='button' src='@routes.Assets.versioned("images/icons/24px/arrow-180.png")' style="opacity: 0.8"></div>

							  <div style="float:right;" class="right" onclick="titleNavigate($(this), 1)"><img class='button' src='@routes.Assets.versioned("images/icons/24px/arrow.png")' style="opacity: 0.8"></div>
						  </div>
					    <div class="titleSelection selected" data-search-type="route">Tickets</div>
						<div class="titleSelection" data-search-type="history">History</div>
						<div class="titleSelection" data-search-type="research">Research</div>
					  </div>

					  <!-- shared for route and research-->
					  <div class="searchFieldContainer" style="margin-top: 10px">
						  <div style="padding: 10px; margin: 10px 0px;"> <!--from and to box-->
							  <div style="float: left; width : 50%; position: relative;">
								  <div class="searchInput" data-search-type="airport">
									  <input type="text" style="width: 80%" tabindex="101" class="fromAirport" placeholder="From" oninput="searchChange($(this))" onfocus="$(this).select();" onfocusout="searchFocusOut($(this))" onkeyup="searchKeyUp(event, $('div.searchFieldContainer input.fromAirport'))" onkeydown="searchKeyDown(event, $('div.searchFieldContainer input.fromAirport'))">
									  <span class="spinner" style="display: none;"><img src='https://i.stack.imgur.com/FhHRx.gif' style="height: 16px"></span>
								  </div>
								  <div class="searchResult"></div>
							  </div>
							  <div style="float: left; width : 50%; position: relative;">
								  <div class="searchInput" data-search-type="airport">
									  <input type="text" style="width: 80%" tabindex="102" class="toAirport" placeholder="To" oninput="searchChange($(this))" onfocus="$(this).select();" onfocusout="searchFocusOut($(this))" onkeyup="searchKeyUp(event, $('div.searchFieldContainer input.toAirport'))" onkeydown="searchKeyDown(event, $('div.searchFieldContainer input.toAirport'))">
									  <span class="spinner" style="display: none;"><img src='https://i.stack.imgur.com/FhHRx.gif' style="height: 16px"></span>
								  </div>
								  <div class="searchResult"></div>
							  </div>
							  <div style="clear: both;"></div>
						  </div>

						  <button type="button" class="button search" tabindex="103" onkeypress="searchButtonKeyPress(event, $(this))" onclick="searchAction($('div.searchFieldContainer input.fromAirport').data('selectedId'), $('div.searchFieldContainer input.toAirport').data('selectedId'))">Search</button>
					  </div>

					  <div class="routeSearch searchContainer" style="display: flex; flex-flow: column; flex-grow : 1;">
						  <div id="routeSearchResult" style="overflow-y: auto; flex-grow: 1; padding: 10px; height: 0px;"></div> <!-- need height otherwise the scroll would not work -->
						  <div class="banner" style="width: 90%; margin: auto;">
							  <img src="" style="width: 100%;">
						  </div>
					  </div>
					  <div class="historySearch searchContainer" style="flex-grow: 1; display: flex; flex-flow: column; ">
						 <div style="margin-top: 10px">
							<div class="locationCriteria" style="float: left; width : 50%; position: relative; box-sizing: border-box;">
							  <div class="searchCriterion"> <!-- Airport -->
								  <div style="float: left; width : 50%; position: relative;">
									  <div class="searchInput" data-search-type="airport">
										  <input type="text" style="width: 80%" tabindex="101" class="fromAirport" data-search-group="fromDestination" placeholder="From Airport (Any)" autocomplete="no" oninput="searchChange($(this))" onfocus="$(this).select();" onfocusout="searchFocusOut($(this))" onkeyup="searchKeyUp(event, $('div.historySearch input.fromAirport'))" onkeydown="searchKeyDown(event, $('div.historySearch input.fromAirport'))">
										  <span class="spinner" style="display: none;"><img src='https://i.stack.imgur.com/FhHRx.gif' style="height: 16px"></span>
									  </div>
									  <div class="searchResult"></div>
								  </div>
								  <div style="float: left; width : 50%; position: relative;">
									  <div class="searchInput" data-search-type="airport">
										  <input type="text" style="width: 80%" tabindex="102" class="toAirport" data-search-group="toDestination" placeholder="To Airport (Any)" autocomplete="no" oninput="searchChange($(this))" onfocus="$(this).select();" onfocusout="searchFocusOut($(this))" onkeyup="searchKeyUp(event, $('div.historySearch input.toAirport'))" onkeydown="searchKeyDown(event, $('div.historySearch input.toAirport'))">
										  <span class="spinner" style="display: none;"><img src='https://i.stack.imgur.com/FhHRx.gif' style="height: 16px"></span>
									  </div>
									  <div class="searchResult"></div>
								  </div>
								  <div style="clear: both;"></div>
							  </div>
							  <div class="searchCriterion"> <!-- Country -->
								  <div style="float: left; width : 50%; position: relative;">
									  <div class="searchInput" data-search-type="country">
										  <input type="text" style="width: 80%" tabindex="103" class="fromCountry" data-search-group="fromDestination" placeholder="From Country (Any)" autocomplete="no" oninput="searchChange($(this))" onfocus="$(this).select();" onfocusout="searchFocusOut($(this))" onkeyup="searchKeyUp(event, $('div.historySearch input.fromCountry'))" onkeydown="searchKeyDown(event, $('div.historySearch input.fromCountry'))">
										  <span class="spinner" style="display: none;"><img src='https://i.stack.imgur.com/FhHRx.gif' style="height: 16px"></span>
									  </div>
									  <div class="searchResult"></div>
								  </div>
								  <div style="float: left; width : 50%; position: relative;">
									  <div class="searchInput" data-search-type="country">
										  <input type="text" style="width: 80%" tabindex="104" class="toCountry" data-search-group="toDestination" placeholder="To Country (Any)" autocomplete="no" oninput="searchChange($(this))" onfocus="$(this).select();" onfocusout="searchFocusOut($(this))" onkeyup="searchKeyUp(event, $('div.historySearch input.toCountry'))" onkeydown="searchKeyDown(event, $('div.historySearch input.toCountry'))">
										  <span class="spinner" style="display: none;"><img src='https://i.stack.imgur.com/FhHRx.gif' style="height: 16px"></span>
									  </div>
									  <div class="searchResult"></div>
								  </div>
								  <div style="clear: both;"></div>
							  </div>
							  <div class="searchCriterion"> <!-- Country -->
								  <div style="float: left; width : 50%; position: relative;">
									  <div class="searchInput" data-search-type="zone">
										  <input type="text" style="width: 80%" tabindex="105" class="fromZone" data-search-group="fromDestination" placeholder="From Zone (Any)" autocomplete="no" oninput="searchChange($(this))" onfocus="$(this).select();" onfocusout="searchFocusOut($(this))" onkeyup="searchKeyUp(event, $('div.historySearch input.fromZone'))" onkeydown="searchKeyDown(event, $('div.historySearch input.fromZone'))">
										  <span class="spinner" style="display: none;"><img src='https://i.stack.imgur.com/FhHRx.gif' style="height: 16px"></span>
									  </div>
									  <div class="searchResult"></div>
								  </div>
								  <div style="float: left; width : 50%; position: relative;">
									  <div class="searchInput" data-search-type="zone">
										  <input type="text" style="width: 80%" tabindex="106" class="toZone" data-search-group="toDestination" placeholder="To Zone (Any)" autocomplete="no"  oninput="searchChange($(this))" onfocus="$(this).select();" onfocusout="searchFocusOut($(this))" onkeyup="searchKeyUp(event, $('div.historySearch input.toZone'))" onkeydown="searchKeyDown(event, $('div.historySearch input.toZone'))">
										  <span class="spinner" style="display: none;"><img src='https://i.stack.imgur.com/FhHRx.gif' style="height: 16px"></span>
									  </div>
									  <div class="searchResult"></div>
								  </div>
								  <div style="clear: both;"></div>
							  </div>
							</div>
							<div class="otherCriteria" style="float: right; width : 50%; position: relative; box-sizing: border-box;">
								<div style="float: left; width : 50%; position: relative;">
									<div class = "searchCriterion">
										<div class="searchInput" data-search-type="airline">
											<input type="text" style="width: 80%" tabindex="107" class="airline" data-search-group="entity" placeholder="Airline (Any)" autocomplete="no" oninput="searchChange($(this))" onfocus="$(this).select();" onfocusout="searchFocusOut($(this))" onkeyup="searchKeyUp(event, $('div.historySearch input.airline'))" onkeydown="searchKeyDown(event, $('div.historySearch input.airline'))">
											<span class="spinner" style="display: none;"><img src='https://i.stack.imgur.com/FhHRx.gif' style="height: 16px"></span>
										</div>
										<div class="searchResult"></div>
									</div>
									<div class = "searchCriterion">
										<div class="searchInput" data-search-type="alliance">
											<input type="text" style="width: 80%" tabindex="108" class="alliance" data-search-group="entity" placeholder="Alliance (Any)" autocomplete="no"  oninput="searchChange($(this))" onfocus="$(this).select();" onfocusout="searchFocusOut($(this))" onkeyup="searchKeyUp(event, $('div.historySearch input.alliance'))" onkeydown="searchKeyDown(event, $('div.historySearch input.alliance'))">
											<span class="spinner" style="display: none;"><img src='https://i.stack.imgur.com/FhHRx.gif' style="height: 16px"></span>
										</div>
										<div class="searchResult"></div>
									</div>
								</div>
								<div style="float: left; width : 50%; position: relative;">
									<div class="table">
										<div class="table-row searchCriterion">
											<div class="label" style="width : 70%">Capacity >=</div>
											<div class="data"><input type="text"  tabindex="109" class="capacity" size="6" placeholder="Any" onfocusout="numberInputFocusOut($(this))"></div>
										</div>
										<div class="table-row searchCriterion">
											<div class="label" style="width : 70%">Capacity Change >=</div>
											<div class="data"><input type="text"  tabindex="109" class="capacityDelta" size="6" placeholder="Any" onfocusout="numberInputFocusOut($(this))"></div>
										</div>
									</div>
									<img class="clickable" onclick="resetSearchInput($(this))" src='@routes.Assets.versioned("images/icons/24px/arrow-circle-135.png")' title="reset">
								</div>

							</div>
							<div style='clear: both;'></div>
						  <button type="button" class="button search" tabindex="111" onkeypress="searchButtonKeyPress(event, $(this))" onclick="searchLinkHistory()">Search</button>
						 </div>
						 <div id="historySearchResult" class="section" style="height: 100px; overflow-y: auto; flex-grow: 1;">
							<div class="table data" style="height: 20px; width: 100%; min-width: 700px;">
								<div class="table-header sortHeader">
									<div class="cell clickable" style="width: 8%" data-sort-property="cycleDelta" data-sort-order="decending">Cycle</div>
									<div class="cell clickable" style="width: 14%" data-sort-property="airlineName" data-sort-order="ascending">Airline</div>
									<div class="cell clickable" style="width: 16%" data-sort-property="fromAirportIata" data-sort-order="descending">From Airport</div>
									<div class="cell clickable" style="width: 16%" data-sort-property="toAirportIata" data-sort-order="descending">To Airport</div>
<!--									<div class="cell clickable" style="width: 12%" data-sort-property="model" data-sort-order="ascending">Model</div>-->
									<div class="cell clickable" style="width: 8%" align="right" data-sort-property="capacityTotal" data-sort-order="ascending">Capacity (Freq.)</div>
									<div class="cell clickable" style="width: 8%" align="right" data-sort-property="capacityDeltaTotal" data-sort-order="descending">Cap Chg.</div>
									<div class="cell" style="width: 15%">Price</div>
									<div class="cell" style="width: 15%">Price Chg.</div>
								</div>
							</div>
							<div style="height: calc(100% - 20px - 20px);  width: 100%; min-width: 700px; overflow-y: auto;">
								<div class="table data linkHistorySearchTable" style="width: 100%; table-layout: fixed; min-width: 700px;">
									<div class="table-header">
										<div class="cell" style="width: 8%; border-bottom: none;"></div>
										<div class="cell" style="width: 14%; border-bottom: none;"></div>
										<div class="cell" style="width: 16%; border-bottom: none;"></div>
										<div class="cell" style="width: 16%; border-bottom: none;"></div>
<!--										<div class="cell" style="width: 12%; border-bottom: none;"></div>-->
										<div class="cell" style="width: 8%; border-bottom: none;"></div>
										<div class="cell" style="width: 8%; border-bottom: none;"></div>
										<div class="cell" style="width: 15%; border-bottom: none;"></div>
										<div class="cell" style="width: 15%; border-bottom: none;"></div>
									</div>
								</div>
							</div>
						 </div>
					  </div>

					  <div class="research searchContainer" style="display: flex; flex-flow: column; flex-grow : 1;">
						  <div id="researchSearchResult" style="overflow-y: auto; flex-grow: 1; padding: 10px; height: 0px;"><!-- need height otherwise the scroll would not work -->
							  <div style="width: 600px; max-width:100%; margin: auto;">
								  <div style=" float: left; width:50%; min-width: 200px; padding-left: 10%; box-sizing: border-box; display: flex; flex-direction: column; align-items: center; " class="fromAirport">
									  <img class="fromAirport roundImage" style="height: 150px; width:150px; max-height: 30vw; max-width: 30vw;">
									  <div style="display:inline-block; align-self: center; margin-top:5px; font-weight: bold;" class="fromAirportText"></div>
									  <div class="table" style="width: 100%">
										  <div class="table-row">
											  <div class="label">Population</div>
											  <div class="value population" style="text-align:right;  padding-right: 10px;"></div>
										  </div>
										  <div class="table-row">
											  <div class="label">Income Level</div>
											  <div class="value incomeLevel" style="text-align:right; padding-right: 10px; "></div>
										  </div>
									  </div>
								  </div>
								  <div style=" float: right; width:50%; min-width: 200px; padding-right: 10%; box-sizing: border-box; display: flex; flex-direction: column; align-items: center;" class="toAirport">
									  <img class="toAirport roundImage" style="height: 150px; width:150px; max-height: 30vw; max-width: 30vw;">
									  <div style="display:inline-block; align-self: center; margin-top:5px; font-weight: bold;" class="toAirportText"></div>
									  <div class="table" style="width: 100%">
										  <div class="table-row">
											  <div class="label">Population</div>
											  <div class="value from population" style="text-align:right; padding-right: 10px;"></div>
										  </div>
										  <div class="table-row">
											  <div class="label">Income Level</div>
											  <div class="value from incomeLevel" style="text-align:right; padding-right: 10px;"></div>
										  </div>
									  </div>
								  </div>
								  <div style="clear:both;"></div>
								  <div class="table" style="margin:auto; width: 300px; max-width:100%; margin-top: 20px;">
									  <div class="table-row">
										  <div class="label" style="width:50%"><h5>Relationship</h5></div>
										  <div class="value" style="text-align:right; width:50%"><span class="relationship"></span></div>
									  </div>
									  <div class="table-row">
										  <div class="label" style="width:50%"><h5>Distance</h5></div>
										  <div class="value" style="text-align:right; width:50%"><span class="distance"></span>&nbsp;km</div>
									  </div>
									  <div class="table-row">
										  <div class="label" style="width:50%"><h5>Flight Type</h5></div>
										  <div class="value" style="text-align:right; width:50%"><span class="flightType"></span></div>
									  </div>
									  <div class="table-row">
										  <div class="label" style="width:50%"><h5>Direct Demand (Y/J/F)</h5></div>
										  <div class="value" style="width:50%">
											  <div style="display: flex; align-items: center">
												  <span class="demand" style="text-align:right;">
												  </span>
												  <div class="tooltip">
													  <img src='@routes.Assets.versioned("images/icons/information.png")'>
													  <span class="tooltiptext below directDemandBreakdown" style="width: 200px;">
															<div class="fromAirport">
																<h4>From <span class="airportLabel"></span></h4>
																<div> Traveler: <span class="travelerDemand"></span></div>
																<div> Business: <span class="businessDemand"></span></div>
																<div> Tourist: <span class="touristDemand"></span></div>
															</div>
															<div class="toAirport" style="margin-top: 10px;">
																<h4>From <span class="airportLabel"></span></h4>
																<div> Traveler: <span class="travelerDemand"></span></div>
																<div> Business: <span class="businessDemand"></span></div>
																<div> Tourist: <span class="touristDemand"></span></div>
															</div>
														</span>
												  </div>
											  </div>
										  </div>
									  </div>
								  </div>
							  </div>

							  <h4>Existing Flights</h4>
							  <div class="table data links" style="width: 100%">
								  <div class='table-header'>
									  <div class="cell" style="width: 30%;"><h5>Airline</h5></div>
									  <div class="cell" style="width: 24%;"><h5>Price</h5></div>
									  <div class="cell" style="width: 20%;"><h5>Capacity</h5></div>
									  <div class="cell" style="width: 13%;"><h5>Quality</h5></div>
									  <div class="cell" style="width: 13%;"><h5>Freq.</h5></div>
								  </div>
							  </div>
							  <div class="linksPie" align="center"></div>

						  </div>
					  </div>
				  </div>
				<div style="clear: both;"></div>
			  </div>
	  			<!-- end search canvas -->
			</div>
  			<!-- main canvas end -->
		</div> <!-- end container for main canvas and the landing blur -->
    </div>
    
    <!-- popups and overlay buttons below. Hidden by default -->
    <div style="display: none; width: 100%; white-space: normal;" id="airportPopup" class="mapPopup">
    	<input type="hidden" id="airportPopupId">
    	<div>
    		<h4 style="line-height:1.1;"><strong class="iata" id="airportPopupIata"></strong>&nbsp;<span style="font-weight:400;" id="airportPopupName"></span>&nbsp;<span style="" id="airportPopupCustomsIcon"></span></h4>
    	</div>
		<h5><span id="airportPopupCity"></span></h5>
    	<div id="airportIcons" class="airportFeatures">
    		<img title="Your Headquarter" src='@routes.Assets.versioned("images/icons/building-hedge.png")' id="popupHeadquarterIcon" class="baseIcon" style="display: none">
    		<img title="Your Base" src='@routes.Assets.versioned("images/icons/building-low.png")' id="popupBaseIcon" class="baseIcon" style="display:none">
    	</div>
		<div class="flex-container-width-half py-2 gap-2">
			<div style="min-width: 100px; flex: 1; display: inline-flex; align-items: center;">
				<img title="Population coverage" src='@routes.Assets.versioned("images/icons/users.png")' style="margin-right: 5px;">
				<span id="airportPopupPopulation"></span>
			</div>
			<div style="min-width: 100px; flex: 1; display: inline-flex; align-items: center;">
				<img title="Airport Scale (Max Runway Length)" src='@routes.Assets.versioned("images/icons/star.png")' style="margin-right: 5px;">
				<span id="airportPopupSize"></span>&nbsp;(<span id="airportPopupMaxRunwayLength"></span>)
			</div>
			<div style="min-width: 100px; flex: 1; display: inline-flex; align-items: center;">
				<img title="Average income per capita" src='@routes.Assets.versioned("images/icons/moneys.png")' style="margin-right: 5px;">
				<span id="airportPopupIncomeLevel"></span>
			</div>
			<div style="min-width: 100px; flex: 1; display: inline-flex; align-items: center;">
				<img title="Loyalty" src='@routes.Assets.versioned("images/icons/heart.png")' style="margin-right: 5px;">
				<span class="airportLoyalty" id="airportPopupLoyalty"></span>
				<span class="airportLoyaltyBonus"></span>
				<img src='@routes.Assets.versioned("images/icons/information.png")' class="clickable airportLoyaltyBonusTrigger" style="vertical-align:bottom" onmouseover="showAppealBreakdown($(this), $('#appealBonusDetailsTooltip').data('loyaltyBreakdown'))" onmouseout="hideAppealBreakdown()">
			</div>
		</div>
		<div class="flex-container-width-half gap-2 pb-2">
			<button class="ml-0 button" id="planToAirportButton" onclick="planToAirportFromInfoWindow()">Plan Flight</button>
			<button class="mr-0 button" id="viewAirportButton" data-link="airport" onclick="showAirportDetails($('#airportPopupId').val())">View Airport</button>
			<button class="ml-0 button" id="toggleAirportLinksButton" onclick="toggleAirportLinksView()">Flight Map</button>
			<button class="mr-0 button" id="toggleDeparturesButton" data-link="departure" onclick="showDeparturesCanvas()">Departures</button>
		</div>
    </div>
    <div id="appealBonusDetailsTooltip" class="customTooltip" style="display: none; position: fixed;">
        <div class="tooltiptext below">
            <div class="table" style="min-width: 150px;">

            </div>
        </div>
    </div>
	  <div id="incomeDetailsTooltip" class="customTooltip" style="display: none; position: fixed;">
		  <div class="tooltiptext below">
			  <div class="table" style="min-width: 150px;">

			  </div>
		  </div>
	  </div>
	  <div id="populationDetailsTooltip" class="customTooltip" style="display: none; position: fixed;">
		  <div class="tooltiptext below">
			  <div class="table" style="min-width: 150px;">

			  </div>
		  </div>
	  </div>
	  <div id="boostDetailsTooltipTemplate" class="customTooltip" style="display: none; position: fixed;">
		  <div class="tooltiptext below">
			  <div class="table" style="min-width: 150px;">

			  </div>
		  </div>
	  </div>
  <div id="airplaneSummaryTooltip" class="customTooltip" style="display: none; position: fixed; z-index: 12;">
	  <div class="tooltiptext below">
		  <div class="table" style="min-width: 150px;">
			  <div class="table">
				  <div class="table-row">
					  <div class="cell"><h5>Capacity:</h5></div>
					  <div class="cell capacity"></div>
				  </div>
				  <div class="table-row">
					  <div class="cell"><h5>Range:</h5></div>
					  <div class="cell"><span class="range"></span>&nbsp;km</div>
				  </div>
				  <div class="table-row">
					  <div class="cell"><h5>Lifespan:</h5></div>
					  <div class="cell"><span class="lifespan"></span>&nbsp;years</div>
				  </div>
				  <div class="table-row">
					  <div class="cell"><h5>Condition:</h5></div>
					  <div class="cell"><span class="condition"></span>%</div>
				  </div>
				  <div class="table-row">
					  <div class="cell"><h5>Value:</h5></div>
					  <div class="cell">$<span class="airplaneValue"></span></div>
				  </div>
			  </div>
		  </div>
	  </div>
  </div>

  <div id="satisfactionDetailsTooltip" class="customTooltip" style="display: none; position: fixed; z-index: 100;">
	  <div class="tooltiptext below">
		  <h4>Overall Satisfaction :&nbsp;<span class="satisfactionValue"></span></h4>
		  <div class="table" style="min-width: 350px;">

		  </div>
	  </div>
  </div>

     <div style="display: none; width: 150px; height: 200px;" id="cityPopup" class="mapPopup">
    	<input type="hidden" id="cityPopupId">
    	<div class="header"><span id="cityPopupName" ></span></div>
		<div>(POP:&nbsp;<span id="cityPopupPopulation"></span>)</div>
		 <div>(INCOME:&nbsp;<span id="cityPopupIncomeLevel"></span>)</div>
    	<div id="cityIcons">
    		<!-- <img alt="Your Headquarter" title="Your Headquarter" src='@routes.Assets.versioned("images/icons/building-hedge.png")' id="popupHeadquarterIcon"><img alt="Your Base" title="Your Base" src='@routes.Assets.versioned("images/icons/building-low.png")' id="popupBaseIcon">  -->
    	</div>
		<div id="cityPie" style="height: 70px;"></div>
    </div>
    
    <div style="display: none; width: 350px;" id="linkHistoryPopup" class="mapPopup">
    	<input type="hidden" id="linkHistoryPopupId">
    	<div class="table" style="width: 100%">
   			<div class="table-row">
   				<div class="label" style="width: 60%"><h5>From :</h5></div>
   				<div class="value" style="width: 40%" id="linkHistoryPopupFrom"></div>
   			</div>
   			<div class="table-row">
   				<div class="label">To:</div>
   				<div class="value" id="linkHistoryPopupTo"></div>
   			</div>
   			<div class="table-row">
   				<div class="label">Your Passengers:</div>
   				<div class="value" id="linkHistoryThisAirlinePassengers"></div>
   			</div>
   			<div class="table-row">
   				<div class="label">Alliance Passengers:</div>
   				<div class="value" id="linkHistoryThisAlliancePassengers"></div>
   			</div>
   			<div class="table-row">
   				<div class="label">Other Passengers:</div>
   				<div class="value" id="linkHistoryOtherAirlinePassengers"></div>
   			</div>
		</div>
    </div>
    
    <div style="display: none; width: 350px;" id="airportLinkPopup" class="mapPopup">
    	<input type="hidden" id="airportLinkPopupId">
    	<div class="table" style="width: 100%">
   			<div class="table-row">
   				<div class="label" style="width:30%"><h5>From :</h5></div>
   				<div class="value" style="width:70%" id="airportLinkPopupFrom"></div>
   			</div>
   			<div class="table-row">
   				<div class="label" style="width:30%"><h5>To:</h5></div>
   				<div class="value" style="width:70%" id="airportLinkPopupTo"></div>
   			</div>
   			<div class="table-row">
   				<div class="label" style="width:30%"><h5>Cap(Freq):</h5></div>
   				<div class="value" style="width:70%" id="airportLinkPopupCapacity"></div>
   			</div>
			<div class="table-row">
				<div class="label" style="width:30%"><h5>Operators:</h5></div>
				<div class="value" style="width:70%" id="airportLinkOperators"></div>
			</div>
		</div>
    </div>

	  <div style="display: none; width: 100%;" id="olympicAirportPopup" class="mapPopup">
		  <h5 class="airportName"></h5>
	  </div>
	  <div style="display: none; width: 100%;" id="campaignAirportPopup" class="mapPopup">
		  <h4><div class="airportName"></div></h4>
		  <div>pop:&nbsp;<span class="airportPopulation"></span></div>
	  </div>


    
    <div style="display: none; width: 100%;" id="linkPopup" class="mapPopup">
    	<input type="hidden" id="airportLinkPopupId">
    	<div class="table" style="width: 100%">
   			<div class="table-row">
   				<div class="label">From :</div>
   				<div class="value" id="linkPopupFrom"></div>
   			</div>
   			<div class="table-row">
   				<div class="label">To:</div>
   				<div class="value" id="linkPopupTo"></div>
   			</div>
            <div class="table-row">
                <div class="label">Capacity:</div>
                <div class="value" id="linkPopupCapacity"></div>
            </div>
   			<div class="table-row">
   				<div class="label">Airline:</div>
   				<div class="value" id="linkPopupAirline"></div>
   			</div>
		</div>
    </div>

	  <div style="display: none; width: 100%;" id="allianceBasePopup" class="mapPopup">
		  <div class="table" style="width: 100%">
			  <div class="table-row">
				  <div class="label">City :</div>
				  <div class="value city" ></div>
			  </div>
			  <div class="table-row">
				  <div class="label">Airport Name:</div>
				  <div class="value airportName"></div>
			  </div>
			  <div class="table-row">
				  <div class="label">IATA:</div>
				  <div class="value iata" ></div>
			  </div>
			  <div class="table-row">
				  <div class="label">Airline:</div>
				  <div class="value airlineName" ></div>
			  </div>
			  <div class="table-row">
				  <div class="label">Scale:</div>
				  <div class="value baseScale" ></div>
			  </div>
		  </div>
	  </div>
    
    <!-- The Annoucement Modal -->
	<div id="announcementModal" class="modal">
	  <div class="modal-content" style="width: 500px;">
	    <span class="close" onclick="closeModal($('#announcementModal'))">&times;</span>
	    <div style="margin-bottom: 10px;">
	    	<img src='@routes.Assets.versioned("images/icons/32px/balloon.png")'><span style="font-size: 20px;">Announcements</span>
	    </div>
	    <div id="announcementContainer">
	    </div>
	  </div>
	</div>
	<!-- The Annoucement Modal -->

	<!-- Confirmation Modal -->
	<div id="confirmationModal" class="modal">
	  <div class="modal-content"  style="width : 400px;">
	    <span class="close" onclick="closeModal($('#confirmationModal'))">&times;</span>
	    <div style="margin-bottom: 10px;">
	    	<img src='@routes.Assets.versioned("images/icons/32px/question.png")'><span style="font-size: 20px;">Confirmation</span>
	    </div>
	    <h3 id="confirmationPrompt" style="margin-bottom: 10px;"></h3>
	    <button type="button" class="button confirmationButton ml-0" onclick="closeModal($('#confirmationModal')); executeConfirmationTarget();">Confirm</button>
	    <button type="button" class="button mr-0" onclick="closeModal($('#confirmationModal'))">Cancel</button>
	  </div>
	</div>

	  <!-- Selection Modal -->
	  <div id="selectionModal" class="modal">
		  <div class="modal-content"  style="width : 400px;">
			  <span class="close" onclick="closeModal($('#selectionModal'))">&times;</span>
			  <div style="margin-bottom: 10px;">
				  <img src='@routes.Assets.versioned("images/icons/32px/question.png")'><span style="font-size: 20px;">Selection</span>
			  </div>
			  <h3 class="question" style="margin-bottom: 10px;"></h3>
			  <div class="selections">
			  </div>
		  </div>
	  </div>
	
	<!-- Logo Modal -->
	
	<div id="logoModal" class="modal">
	  <div class="modal-content"  style="width : 400px;">
	    <span class="close" onclick="closeModal($('#logoModal'))">&times;</span>
	    <h4>Logo Templates</h4>
	    <div id="logoTemplates"></div>
	    <div style="clear:both;"></div>
	    <input type="hidden" id="logoTemplateIndex"/>
	    <div>
	        Color 1 : <input type="color" class="picker color1">
	    </div>
		<div>
	        Color 2 : <input type="color" class="picker color2">
	    </div>
	    <h4>Preview</h4>
	    <div id="logoPreview" style="height: 30px">
	    </div>
	    
	    <button type="button" class="button confirmationButton" onclick="closeModal($('#logoModal')); setAirlineLogo();">Confirm</button>
	    <button type="button" class="button" onclick="closeModal($('#logoModal'))">Cancel</button>
	  </div>
	</div>
	
	<div id="uploadLogoModal" class="modal">
		<div class="modal-content"  style="width : 400px;">
			<span class="close" onclick="closeModal($('#uploadLogoModal'))">&times;</span>
			<h4>Upload Own Logo</h4>
			<ul>
				<li class="label" style="padding: 5px;">- Logo should be in png format</li>
				<li class="label" style="padding: 5px;">- Logo should be 24px wide and 12px tall</li>
			</ul>
			<div class="uploadPanel" style="display:none" >
		    	<div class="fileuploader">Upload</div>
		    	<div class="warning" style="display:none;"></div>
		    </div>
		    <div class="uploadForbidden" style="display:none" >
		    	<div class="warning"></div>
		    </div>
	    </div>
	</div>

  <div id="uploadLiveryModal" class="modal">
	  <div class="modal-content"  style="width : 400px;">
		  <span class="close" onclick="closeModal($('#uploadLiveryModal'))">&times;</span>
		  <h4>Upload Airline Livery</h4>
		  <ul>
			  <li class="label" style="padding: 5px;">- Livery should be in png format, transparent background recommended</li>
			  <li class="label" style="padding: 5px;">- Image should not be larger than 1MB</li>
		  </ul>
		  <div class="uploadPanel" style="display:none" >
			  <div class="fileuploader">Upload</div>
			  <div class="warning" style="display:none;"></div>
		  </div>
		  <div class="uploadForbidden" style="display:none" >
			  <div class="warning"></div>
		  </div>
	  </div>
  </div>
	
	<!-- airport facility modal -->
	<div id="facilityModal" class="modal facility">
	  <div class="modal-content"  style="width : 400px;">
	    <span class="close" onclick="closeModal($(this).closest('.modal'))">&times;</span>
	    <h4><span class="facilityType"></span></h4>
		<h6 class="facilityDescription"></h6>
	    <div class="table" style="width: 100%">
			<div class="table-row">
				<div class="label" style="width: 50%"><h5>Name:</h5></div>
				<div class="value facilityName" style="width: 50%"></div>
				<div class="value facilityNameInputDiv" style="width: 50%"><input type="text" class="facilityNameInput"></div>
			</div>
			<div class="table-row facitilyNameWarningDiv" style="display: none;">
			    				<div class="warning"></div>
			    				
			    			</div>
			    			
							<div class="table-row">
			    				<div class="label" style="width: 50%"><h5>Level:</h5></div>
			    				<div class="value facilityLevel" style="width: 50%"></div>
			    			</div>
							<div class="table-row">
		    					<div class="label">Upkeep:</div>
		    					<div class="value facilityUpkeep"></div>
		    				</div>
		    				<div class="table-row">
		    					<div class="label">Supplies:</div>
		    					<div class="value facilityCost"></div>
		    				</div>
		    				<div class="table-row">
		    					<div class="label">Income:</div>
		    					<div class="value facilityIncome"></div>
		    				</div>
		    				<div class="table-row">
			    				<div class="label">Profit:</div>
			    				<div class="value facilityProfit"></div>
			    			</div>
			    			<div class="table-row">
			    				<div class="label">Upgrade Cost:</div>
			    				<div class="value upgradeCost"></div>
			    			</div>
			    			<div class="table-row">
			    				<div class="label">Upkeep after Upgrade:</div>
			    				<div class="value upgradeUpkeep"></div>
			    			</div>
						</div>
		<button type="button" class="button buildButton" onclick="buildFacility($('#facilityModal').data('facility'), 1)">Build</button>
	    <button type="button" class="button upgradeButton" onclick="buildFacility($('#facilityModal').data('facility'), 1)">Upgrade</button>
	    <button type="button" class="button downgradeButton" onclick="buildFacility($('#facilityModal').data('facility'), -1)">Downgrade</button>
	    <button type="button" class="button removeButton" onclick="removeFacility($('#facilityModal').data('facility'));">Remove</button>
	  </div>
	</div>

    <div id="genericTransitModal" class="modal facility">
	  <div class="modal-content"  style="width : 500px;">
		  <span class="close" onclick="closeModal($(this).closest('.modal'))">&times;</span>
		  <h4>Transit options to nearby airports</h4>

		  <div class="data table genericTransits" style="width: 100%">
			  <div class="table-header">
				  <div class="cell" style="width: 40%">To Airport</div>
				  <div class="cell" style="width: 20%" align="right">Pop</div>
				  <div class="cell" style="width: 20%" align="right">Cap</div>
				  <div class="cell" style="width: 20%" align="right">PAX</div>
			  </div>
		  </div>

		  <button type="button" class="button confirmButton" onclick="closeModal($(this).closest('.modal'))">OK</button>
	  </div>
	</div>

  <div id="baseSpecializationModal" class="modal">
	  <div class="modal-content"  style="width : 600px;">
		  <span class="close" onclick="closeModal($(this).closest('.modal'))">&times;</span>
		  <h4>Specializations</h4>
		  <div class="container" style="width: 100%">

		  </div>
		  <div>
		  	<button type="button" class="button confirm" onclick="confirmSpecializations()">Confirm</button>
		  	<button type="button" class="button" onclick="closeModal($(this).closest('.modal'))">Cancel</button>
		  </div>

	  </div>
  </div>

	<!-- Santa Claus modal -->
	<div id="santaClausModal" class="modal christmas-event" aria-hidden="true">
		<div class="modal-content"  style="width : 500px;">
			<span class="close" onclick="closeSantaClausModal()">&times;</span>
			<div style="margin-bottom: 30px"><h2>Santa, Where are you?</h2></div>
			<h4 style="margin-bottom: 10px;">Search History</h4>
			<div style="width: 100%;">
				<div style="width: 100%; overflow: auto; float: left;">
					<div class="table data"style="width: 100%">
						<div class="table-header">
							<div class="cell" style="width: 50%; border-bottom: none">Airport</div>
							<div class="cell" style="width: 50%;  border-bottom: none">Clue</div>
						</div>
					</div>
					<div class="table data" id="santaClausGuessTable" style="max-height: 100%; width: 100%">
						<div class="table-header">
							<div class="cell" style="width: 50%"></div>
							<div class="cell" style="width: 50%"></div>
						</div>
					</div>
				</div>
			</div>
			<div class="remarks" style="margin-bottom: 15px; display: block;">
				You will get new clue for each guess you make
			</div>
			<div class="warning" style="margin-bottom: 15px;">
				<span>Attempts Left: </span><span id="santaClausAttemptsLeft"></span>
			</div>
			<div class="button guessButton glow" onclick="guessSantaClaus()">Search for Santa here</div>
			<div id="santaClausExhausted" style="display: none;">
				<div style="float:left"><img src='@routes.Assets.versioned("images/icons/balloon-smiley-sad.png")'></div>
				<div style="float:left"><h4>You have exhausted all your attempts! Try again next week!</h4></div>
				<div style="clear:both; margin-bottom: 15px"></div>
			</div>



			<div id = "santaClausRewardOptions" style="display: none;">
				<div style="float:left"><img src='@routes.Assets.versioned("images/icons/rubber-balloons.png")'></div>
				<div style="float:left"> <h4>Woohoo! You have found Santa!</h4></div>
				<div style="float:left"><img src='@routes.Assets.versioned("images/icons/rubber-balloons.png")'></div>
				<div style="clear:both; margin-bottom: 15px"></div>

				<h4> Please pick your reward as below, you can always come back later to make your choice!</h4>

				<div class="warning">Other than the cash price, all the other boosts are one-time only. The value will drop back to normal after a while</div>
				<div class="table data" id="santaClausRewardOptionsTable" style="height: 300px; width: 100%">
					<div class="table-header">
						<div class="cell" style="width: 10%"></div>
						<div class="cell" style="width: 90%"></div>
					</div>
				</div>
			</div>
			<div id="santaClausPickedReward" style="display: none;">
				<div style="float:left"> <h4>You have picked the reward as below</h4></div>
				<div style="clear:both; margin-bottom: 15px"></div>
				<div class="table data" style="width: 100%">
					<div class="table-row">
						<div class="cell label" style="width: 100%"><span id="santaClausPickedRewardText" class="text"></span></div>
					</div>
				</div>

			</div>
		</div>
	</div>
	
	<!-- airport passenger quality expectation model -->
	<div id="expectedQualityModal" class="modal">
		<div class="modal-content"  style="width : 500px;">
			<span class="close" onclick="closeModal($('#expectedQualityModal'))">&times;</span>
			<h4 style="margin-bottom: 10px;">Flight Quality Expectation</h4>
			<div style="margin-bottom: 10px;">Quality expection for this route from passengers of this airport:</div>
			<div class="table expectedQualityTable" style="width: 100%; margin-bottom: 10px;">
				<div class="table-row">
    				<div class="label" style="width: 50%"><h5>First Class:</h5></div>
    				<div class="expectedQualityValue firstClass" style="width: 50%"></div>
    			</div>
    			<div class="table-row">
    				<div class="label" style="width: 50%"><h5>Business Class:</h5></div>
    				<div class="expectedQualityValue businessClass" style="width: 50%"></div>
    			</div>
    			<div class="table-row">
    				<div class="label" style="width: 50%"><h5>Economy Class:</h5></div>
    				<div class="expectedQualityValue economyClass" style="width: 50%"></div>
    			</div>
			</div>
			<div>
				Some passengers are reluctant to take flights that do not match expected quality<br/>
				</br>
				Flight Quality is affected by:
			</div>
			<ul>
				<li class="label" style="padding: 5px;">- Fleet age</li>
				<li class="label" style="padding: 5px;">- Service level per route</li>
				<li class="label" style="padding: 5px;">- Company wide level Service Quality (by Service Funding in Office View)</li>
			</ul>
			
	    </div>
	</div>
	
	<!-- link passenger survey modal -->
    <div id="linkCompositionModal" class="modal">
        <div class="modal-content"  style="width: 920px; max-width: 100%;">
            <span class="close" onclick="closeModal($('#linkCompositionModal'))">&times;</span>
			<h4 style="margin-bottom: 10px;">Passenger Survey</h4>


			<div class="flex-container-width-third py-4">

				<div>
					<h5 align="center">
						Passenger Type
						<div class="tooltip">
							<img src='@routes.Assets.versioned("images/icons/information.png")'>
							<div class="tooltiptext below" style="width: 600px; max-width: 90vw; padding: 16px; text-align:left;">
								<p><i>Each tourist or elite transported earns reputation.</i></p>
								<p class="pb-2">Different airports supply and demand different <b>Passenger Types</b> which weight what class and profile a passenger will be. Passenger type also determines quality and speed preferences.</p>
								<p class="pb-2"><b>Traveler</b>: Someone traveling to visit family / friends or relocate. Supply & demand based on airport population & income. Wants daily flights. Middle-low quality preferences. More likely to be "economy class" and never "first class".</p>
								<p class="pb-2"><b>Business</b>: Mostly go to & from business charms. Wants fast, 3x daily, non-stop flights. Likes quality too. More likely to be "business class" and "frequent flyers", never a "deal seeker".</p>
								<p class="pb-2"><b>Tourist</b>: Nearly exclusively go to tourism charms. Supply is based on airport population & income. Has low expectations for quality, frequency, and speed. More likely to be "economy class" and a "deal seeker".</p>
								<p class="pb-2"><b>Olympic</b>: Exclusively go to the Olympic host airports during the Olympics. Rate of supply is the same as base "traveler" supply. Likes quality.</p>
								<p class="pb-2"><b>Elite</b>: Traveling for business or pleasure, but exclusively going to elite charms. Supply is based on airport inequality (gini coefficient), population and income. Very high quality expectations. Always "first class" and likely "last-minute, any price", never a "deal seeker".</p>
							</div>
						</div>
					</h5>
					<div id="passengerCompositionByPassengerTypePie" style="height: 160px; width: 200px; margin: auto"></div>
					<div class="table data paxTypeSatisfaction capitalize w-full">
						<div class="table-header">
							<div class="cell" style="width: 40%;">Type</div>
							<div class="cell" style="width: 15%;">#</div>
							<div class="cell" style="width: 45%; text-align:right;">Satisfaction</div>
						</div>
					</div>
				</div>

				<div>
					<h5 align="center">
						Preferred Class
						<div class="tooltip">
							<img src='@routes.Assets.versioned("images/icons/information.png")'>
							<div class="tooltiptext below" style="width: 600px; max-width: 90vw; padding: 16px; text-align:left;">
								<p class="pb-2">This is a breakdown of each passenger's preferred class, not what was ticketed.</p>
								<p class="pb-4">Higher class passengers are much more quality demanding and will pay more if your alliance has lounges at both origin & arrival airports.</p>
								<div class="table data" style="width: 100%;">
									<div class="table-header">
										<div class="cell" style="width: 12%;">Class</div>
										<div class="cell" style="width: 15%;">Seat size</div>
										<div class="cell" style="width: 13%;">Service cost</div>
										<div class="cell" style="width: 20%;">Price sensitivity</div>
										<div class="cell" style="width: 35%;">Passenger Types</div>
									</div>
									<div class="table-row">
										<div class="cell">Economy</div>
										<div class="cell">1x</div>
										<div class="cell">1x</div>
										<div class="cell">100%</div>
										<div class="cell">Tourist, Traveler, Business</div>
									</div>
									<div class="table-row">
										<div class="cell">Business</div>
										<div class="cell">2.5x</div>
										<div class="cell">2x</div>
										<div class="cell">85%</div>
										<div class="cell">Business, Traveler, Tourist</div>
									</div>
									<div class="table-row">
										<div class="cell">First</div>
										<div class="cell">5x</div>
										<div class="cell">4x</div>
										<div class="cell">70%</div>
										<div class="cell">Elite, Business</div>
									</div>
								</div>
							</div>
						</div>
					</h5>
					<div id="passengerCompositionByPreferredClassPie" style="height: 160px; width: 200px; margin: auto"></div>
					<div class="table data linkClassSatisfaction capitalize mt-0 w-full">
						<div class="table-header">
							<div class="cell" style="width: 40%;">Class</div>
							<div class="cell" style="width: 15%;">#</div>
							<div class="cell" style="width: 45%; text-align:right;">Satisfaction</div>
						</div>
					</div>
				</div>

				<div>
					<h5 align="center">
						Passenger Profile
						<div class="tooltip">
							<img src='@routes.Assets.versioned("images/icons/information.png")'>
							<div class="tooltiptext below" style="width: 600px; max-width: 90vw; padding: 16px; text-align:left;">
								<h5>A <b>passenger's profile</b> determines when they purchase their tickets and how they weight prices and loyalty.</h5>
								<div class="table data" style="width: 100%;">
									<div class="table-header">
										<div class="cell" style="width: 15%;">Name</div>
										<div class="cell" style="width: 15%;">Purchase order</div>
										<div class="cell" style="width: 15%;">Price bias</div>
										<div class="cell" style="width: 15%;">Loyalty</div>
										<div class="cell" style="width: 40%;">Pax types</div>
									</div>
									<div class="table-row">
										<div class="cell">Deal Seeker</div>
										<div class="cell">1st</div>
										<div class="cell">15-30% discount</div>
										<div class="cell">None</div>
										<div class="cell">Tourists, Traveler</div>
									</div>
									<div class="table-row">
										<div class="cell">Brand Sensitive</div>
										<div class="cell">2nd</div>
										<div class="cell">0-5% markup</div>
										<div class="cell">Some</div>
										<div class="cell">Traveler, Business</div>
									</div>
									<div class="table-row">
										<div class="cell">Frequent Flyer</div>
										<div class="cell">3rd</div>
										<div class="cell">0-10% markup</div>
										<div class="cell">Lots</div>
										<div class="cell">Business, Elite</div>
									</div>
									<div class="table-row">
										<div class="cell">Last-minute Deal</div>
										<div class="cell">4th</div>
										<div class="cell">15-25% discount</div>
										<div class="cell">None</div>
										<div class="cell">Tourists</div>
									</div>
									<div class="table-row">
										<div class="cell">Last-minute Any-price</div>
										<div class="cell">4th</div>
										<div class="cell">10-35% markup</div>
										<div class="cell">None</div>
										<div class="cell">Traveler, Elite</div>
									</div>
								</div>
							</div>
						</div>
					</h5>
					<div id="passengerCompositionByPreferenceTypePie" style="height: 160px; width: 200px; margin: auto"></div>
					<div class="table data preferenceSatisfaction w-full">
						<div class="table-header">
							<div class="cell" style="width: 40%;">Profile</div>
							<div class="cell" style="width: 15%;">#</div>
							<div class="cell" style="width: 45%; text-align:right;">Satisfaction</div>
						</div>
					</div>
				</div>

			</div>

<!--				<div style="flex-grow: 1; display:flex; flex-direction: column; align-items: center;">-->

<!--					<div class="table data passengerTypeTable" style="width: 250px;">-->
<!--					</div>-->
<!--				</div>-->
<!--                <div style="flex-grow: 1; display:flex; flex-direction: column; align-items: center;">-->

<!--                    <div class="table data preferredClassTable" style="width: 250px;">-->
<!--                    </div>-->
<!--                </div>-->
<!--                <div style="flex-grow: 1; display:flex; flex-direction: column; align-items: center;">-->

<!--                    <div class="table data preferenceTypeTable" style="width: 250px;">-->
<!--                    </div>-->
<!--                </div>-->
			<div class="flex-container-width-half py-4">
				<div class="mt-0">
					<h5>Home country</h5>
					<div class="flex-container-width-half" style="max-width: 430px;">
						<div id="passengerCompositionByHomeCountryPie" style="height: 140px; width: 160px;"></div>
						<div id="passengerCompositionByHomeCountryTable" class="table data"></div>
					</div>
					<h5 style="width:100%; margin-top:5px;">Home Airport</h5>
					<div class="topHomeAirports" style="width: 100%; display: flex; flex-wrap: wrap;"></div>
				</div>
				<div class="mt-0">
					<h5>Destination Country</h5>
					<div class="flex-container-width-half" style="max-width: 430px;">
						<div id="passengerCompositionByDestinationCountryPie" style="height: 140px; width: 160px;"></div>
						<div id="passengerCompositionByDestinationCountryTable" class="table data"></div>
					</div>
					<h5 style="width:100%; margin-top:5px;">Destination Airport</h5>
					<div class="topDestinationAirports" style="width: 100%; display: flex; flex-wrap: wrap;"></div>
				</div>
			</div>

			<h4>Passenger comments</h4>
			<div class="flex-container-width-half">
				<div class="table data positiveComments mt-0">
					<div class="table-header">
						<div class="cell" style="width: 75%;">Positive Comment</div>
						<div class="cell" style="width: 25%;">Percentage</div>
					</div>
				</div>
				<div class="table data negativeComments mt-0">
					<div class="table-header">
						<div class="cell" style="width: 75%;">Negative Comment</div>
						<div class="cell" style="width: 25%;">Percentage</div>
					</div>
				</div>
			</div>

        </div>
    </div>

  <!-- link event modal -->
  <div id="linkEventModal" class="modal">
	  <div class="modal-content"  style="width : 800px;margin: 5% auto;">
		  <span class="close" onclick="closeModal($('#linkEventModal'))">&times;</span>
		  <div style="clear: both;"></div>
		  <h4 style="margin-bottom: 10px;" class="title"></h4>
		  <fieldset>
			  <div class="switch" style="float: right;">
				  <input type="radio" class="switch-input" name="eventGraphType" value="self" id="switchLinkEventSelf" onchange="switchLinkEventChart($('#linkEventChart'))">
				  <label for="switchLinkEventSelf" class="switch-label switch-label-off">Self</label>
				  <input type="radio" class="switch-input" name="eventGraphType" value="all" id="switchLinkEventRival" onchange="switchLinkEventChart($('#linkRivalHistoryChart'))" checked>
				  <label for="switchLinkEventRival" class="switch-label switch-label-on">All</label>
				  <span class="switch-selection"></span>
			  </div>
		  </fieldset>
		  <div style="clear: both;"></div>
		  <div id="linkEventChart" class="chart" style="width: 100%; height: 250px;"></div>
		  <div id="linkRivalHistoryChart" class="chart" style="width: 100%; height: 250px;"></div>

		  <div style="float:right; margin-bottom: 3px;" class="filterCheckboxes">
			  <input type="checkbox" data-filter="fromAirport"/><span class="fromAirportCode"></span>
			  <input type="checkbox" style="margin-left: 5px;" data-filter="toAirport"/><span class="toAirportCode"></span>
			  <input type="checkbox" style="margin-left: 5px;" data-filter="other"/><span>Other</span>
		  </div>
		  <div class="table data" style="height: 20px; width: 95%; min-width: 700px; margin: auto;">
			  <div class="table-header">
				  <div class="cell" style="width: 8%">Cycle</div>
				  <div class="cell" style="width: 14%">Airline</div>
				  <div class="cell" style="width: 32%">Event</div>
				  <div class="cell clickable" style="width: 8%" align="right">Capacity (Freq.)</div>
				  <div class="cell clickable" style="width: 8%" align="right">Cap Chg.</div>
				  <div class="cell" style="width: 15%">Price</div>
				  <div class="cell" style="width: 15%">Price Chg.</div>
			  </div>
		  </div>

		  <div style="clear:both;"></div>
		  <div class="linkEventHistoryTableContainer" style="height: 350px; width: 95%;overflow-y: auto; margin: auto;">
			  <div class="table data linkEventHistoryTable" style="width: 100%; table-layout: fixed; min-width: 700px;">
				  <div class="table-header">
					  <div class="cell" style="width: 8%; border-bottom: none;"></div>
					  <div class="cell" style="width: 14%; border-bottom: none;"></div>
					  <div class="cell" style="width: 32%; border-bottom: none;"></div>
					  <!--										<div class="cell" style="width: 12%; border-bottom: none;"></div>-->
					  <div class="cell" style="width: 8%; border-bottom: none;"></div>
					  <div class="cell" style="width: 8%; border-bottom: none;"></div>
					  <div class="cell" style="width: 15%; border-bottom: none;"></div>
					  <div class="cell" style="width: 15%; border-bottom: none;"></div>
				  </div>
			  </div>
		  </div>
	  </div>

  </div>

  <!-- link confirmation modal -->
  <div id="linkConfirmationModal" class="modal">
	  <div class="modal-content" style="width : 600px">
		  <span class="close" onclick="closeModal($('#linkConfirmationModal'))">&times;</span>
		  <h4 style="margin-bottom: 10px;" class="modalHeader"></h4>
		  <div style=" float: left; width:50%; padding-left: 10%; box-sizing: border-box; display: flex; flex-direction: column; align-items: center; ">
			  <img class="fromAirport roundImage" style="height: 150px; width:150px; max-height: 30vw; max-width: 30vw;">
			  <div style="display:inline-block; align-self: center; margin-top:5px; font-weight: bold;" class="fromAirportText"></div>
		  </div>
  		  <div style=" float: right; width:50%; padding-right: 10%; box-sizing: border-box; display: flex; flex-direction: column; align-items: center;">
			  <img class="toAirport roundImage" style="height: 150px; width:150px; max-height: 30vw; max-width: 30vw;">
			  <div style="display:inline-block; align-self: center; margin-top:5px; font-weight: bold;" class="toAirportText"></div>
		  </div>

		  <div style="clear:both; margin-bottom:10px;"></div>
		  <div style="width: 100%;" class="existingLink table data">
			  <div class='table-header'>
				  <div class="cell" style="width: 40%;"></div>
				  <div class="cell" style="width: 30%;"><h5>Existing Settings</h5></div>
				  <div class="cell" style="width: 30%;"><h5>New Settings</h5></div>
			  </div>
			  <div class="table-row">
				  <div class="cell"><h5>Airplane Model:</h5></div>
				  <div class="cell existing model"></div>
				  <div class="cell updating model"></div>
			  </div>
			  <div class="table-row">
				  <div class="cell"><h5>Flight Duration:</h5></div>
				  <div class="cell existing duration"></div>
				  <div class="cell updating duration"></div>
			  </div>
			  <div class="table-row">
				  <div class="cell"><h5>Assigned Airplanes:</h5></div>
				  <div class="cell existing airplanes"></div>
				  <div class="cell updating airplanes"></div>
			  </div>
			  <div class="table-row">
				  <div class="cell"><h5>Flight Frequency:</h5></div>
				  <div class="cell existing frequency"></div>
				  <div class="cell updating frequency"></div>
			  </div>
			  <div class="table-row">
				  <div class="cell"><h5>Capacity (Y/J/F):</h5></div>
				  <div class="cell existing capacity"></div>
				  <div class="cell updating capacity"></div>
			  </div>
			  <div class="table-row">
				  <div class="cell"><h5>Price (Y/J/F):</h5></div>
				  <div class="cell existing price"></div>
				  <div class="cell updating price"></div>
			  </div>
		  </div>
		  <div class="negotiationInfo">
			  <h4 style="margin-bottom: 10px; margin-top: 30px; display: flex; align-items: center;">Negotiation Difficulty :&nbsp;
			      <span class="negotiationDifficultyTotal"></span>
             	  <img class="clickable info" src='@routes.Assets.versioned("images/icons/information-24.png")' onmouseover="$('#negotiationDifficultyModal').fadeIn(500)">
				  <span class="error">
					  <img class="clickable" src='@routes.Assets.versioned("images/icons/24px/cross-circle.png")' onmouseover="$('#negotiationDifficultyModal').fadeIn(500)" style="display: hidden;">
				  </span>
			  </h4>
			  <div class="glow error">
				  Too hard! Reduce frequency, change airport or improve relationship first.<br/>
				  Difficulty value should be less than delegates available below.<br/>
				  Hover over the Red Cross icon above for details.
			  </div>
			  <h4 style="margin-bottom: 10px; margin-top: 30px;">Delegates<span class="delegatesTooltip"><img src='@routes.Assets.versioned("images/icons/information.png")'></span></h4>
			  <div class="section">
				  <h4>Pool</h4>
				  <div class="delegateStatus"></div>

				  <div style="width: 100%; margin-top: 10px;" class="delegatesAssignment table data">
					  <div class="table-header">
						  <div class="cell"style="width: 80%">Assigned Delegates for negotiation</div>
						  <div class="cell" style="width: 20%">Success Rate</div>
					  </div>
					  <div class="table-row">
						  <div class="cell">
							  <div style="float: left" class="assignedDelegatesIcons"></div>
							  <div style="float: right" class="clickable px-1" onclick="changeAssignedDelegateCount(-1)"><img src='@routes.Assets.versioned("images/icons/minus-button.png")' title="Minus"/></div>
							  <div style="float: right" class="clickable px-1" onclick="changeAssignedDelegateCount(1)"><img src='@routes.Assets.versioned("images/icons/plus-button.png")' title="Add"/></div>
							  <button type="button" style="float: right" class="button hover:bg-red" onclick="addMaximumRequiredDelegates()">Max</button>
							  <button type="button" style="float: right" class="button hover:bg-red" onclick="addMinimumRequiredDelegates()">Min</button>
						  </div>
						  <div class="cell successRate"></div>
					  </div>
				  </div>
			  </div>
			  <div class="rejection warning" style="display: none; align-items : center;"><img src='@routes.Assets.versioned("images/icons/prohibition.png")'><h5 class="reason"></h5></div>
		  </div>

		  <div class="controlButtons">
			  <button type="button" class="button confirmButton" onclick="createLink()">Confirm</button>
			  <button type="button" class="button negotiateButton" onclick="createLink()">Negotiate</button>
			  <button type="button" class="button cancel" onclick="closeModal($('#linkConfirmationModal'))">Cancel</button>
		  </div>
	  </div>
  </div>

  <div id="negotiationDifficultyModal" class="modal">
	  <div class="modal-content" style="width : 750px">
		  <span class="close" onclick="closeModal($('#negotiationDifficultyModal'))">&times;</span>
		  <h4 style="margin-bottom: 10px;" class="modalHeader">Negotiation Difficulty Details</h4>
          <div style="clear: both;"></div>
		  <div class="negotiationInfo">
          <!-- requirements list-->
              <div>
                  <div style="width: 48%; float:left">
					  <h4 style="margin-bottom: 10px; margin-top: 30px;"><span class="fromAirport"></span>&nbsp;-&nbsp;Factors</h4>
					  <div style="width: 100%" class="negotiationRequirements table data fromAirport">
						  <div class="table-header">
							  <div class="cell" style="width: 80%">Factor</div>
							  <div class="cell" style="width: 20%">Difficulty</div>
						  </div>
					  </div>
				  </div>
                  <div style="width: 48%; float:right" class="negotiationRequirements table data toAirport">
					  <h4 style="margin-bottom: 10px; margin-top: 30px;"><span class="toAirport"></span>&nbsp;-&nbsp;Factors</h4>
					  <div style="width: 100%" class="negotiationRequirements table data toAirport">
						  <div class="table-header">
							  <div class="cell" style="width: 80%">Factor</div>
							  <div class="cell" style="width: 20%">Difficulty</div>
						  </div>
					  </div>
                  </div>
                  <div style="clear: both;"></div>
              </div>
              <!-- requirements total-->
              <div>
                  <div style="width: 48%; float:left" class="negotiationRequirementsTotal table fromAirport">
                      <div class="table-header">
                          <div class="cell" style="width: 80%"></div>
                          <div class="cell" style="width: 20%"></div>
                      </div>
                      <div class="table-row">
                          <div class="cell"></div>
                          <div class="cell"><span class="total"></span></div>
                      </div>
                  </div>
                  <div style="width: 48%; float:right" class="negotiationRequirementsTotal table toAirport">
                      <div class="table-header">
                          <div class="cell" style="width: 80%"></div>
                          <div class="cell" style="width: 20%"></div>
                      </div>
                      <div class="table-row">
                          <div class="cell"></div>
                          <div class="cell"><span class="total"></span></div>
                      </div>
                  </div>
                  <div style="clear: both;"></div>
              </div>

			  <!-- discounts-->
              <div>
                  <div style="width: 48%; float: left;">
                      <h4 style="margin-bottom: 10px; margin-top: 30px;"><span class="fromAirport"></span>&nbsp;-&nbsp;Adjustments</h4>
                      <div style="width: 100%; float: left;" class="negotiationFromDiscounts table data">
                          <div class="table-header">
                              <div class="cell" style="width: 80%">Factor</div>
                              <div class="cell" style="width: 20%; word-break: break-word;">Discount&nbsp;/&nbsp;<span class="warning">Penalty</span></div>
                          </div>
                      </div>
                  </div>
                  <div style="width: 48%; float: right;">
                      <h4 style="margin-bottom: 10px; margin-top: 30px;"><span class="toAirport"></span>&nbsp;-&nbsp;Adjustments</h4>
                      <div style="width: 100%; float: left;" class="negotiationToDiscounts table data">
                          <div class="table-header">
                              <div class="cell" style="width: 80%">Factor</div>
                              <div class="cell" style="width: 20%; word-break: break-word;">Discount&nbsp;/&nbsp;<span class="warning">Penalty</span></div>
                          </div>
                      </div>
                  </div>
                  <div style="clear: both;"></div>
              </div>
              <!-- discounts total-->
              <div>
                  <div style="width: 48%; float:left" class="negotiationDiscountTotal table fromAirport">
                      <div class="table-header">
                          <div class="cell" style="width: 80%"></div>
                          <div class="cell" style="width: 20%"></div>
                      </div>
                      <div class="table-row">
                          <div class="cell"></div>
                          <div class="cell"><span class="total"></span></div>
                      </div>
                  </div>
                  <div style="width: 48%; float:right" class="negotiationDiscountTotal table toAirport">
                      <div class="table-header">
                          <div class="cell" style="width: 80%"></div>
                          <div class="cell" style="width: 20%;"></div>
                      </div>
                      <div class="table-row">
                          <div class="cell"></div>
                          <div class="cell"><span class="total"></span></div>
                      </div>
                  </div>
                  <div style="clear: both;"></div>
              </div>
              <div class="remarks">Discount is capped at 80%</div>

			  <h4 style="margin-top: 10px">Total difficulty: <span class="negotiationDifficultyTotal"></span></h4>
		  </div>
	  </div>

  </div>

  <div id="negotiationAnimation" class="modal">
	  <div class="modal-content" style="width : 520px; max-width : 95vw;">
		  <span class="close" onclick="closeModal($('#negotiationAnimation'))">&times;</span>
		  <h4 class="modalHeader" style="margin-bottom: 10px; text-align: center;">Negotiation in progress... Success Rate:&nbsp;<span class="successRate"></span>%</h4>
<!--		  <div class="clipContainer desktopOnly">-->
<!--		  	<iframe class="clip" width="480" height="270" frameborder="0" allow="autoplay; fullscreen; picture-in-picture" allowfullscreen></iframe>-->
<!--			<div style="float: left;"><input type="checkbox" class="autoplay" onclick="toggleAutoplay()">&nbsp;Autoplay</div>-->
<!--			<div style="float: right;" class="animationLabel label"></div>-->
<!--		  	<div style="clear: both;"></div>-->
<!--		  </div>-->
		  <div class="negotiationIcons" style="width: 260px; height: 35px; margin: auto;text-align:center;"></div>
		  <div class="negotiationDescriptions" class="py-2 px-8" style="height: 15px; text-align: center;"></div>
		  <div class="negotiationBar progressbar" style="margin: auto;">
<!--			  <div class="bar"><span></span></div>-->
			  <div class="bar"></div>
			  <div id="negotiationThreshold" style="position: absolute;right: 20px;width: 70px;height: 16px;background: green;top: 12px;border-radius: 0 10px 10px 0;opacity: .5;"></div>
		  </div>

		  <p class="negotiationBonus px-12 py-4" style="text-align:center; height: 30px;"></p>

		  <div class="negotiationResult" style="text-align:center;">
			  <div class="button result" onclick="closeModal($('#negotiationAnimation'));"></div>
		  </div>
	  </div>

  </div>

    <!-- link rival loyalty modal -->
    <div id="linkRivalHistoryModal" class="modal">
        <div class="modal-content"  style="width : 800px; height: 450px;">
            <span class="close" onclick="closeModal($('#linkRivalHistoryModal'))">&times;</span>
            <h4 style="margin-bottom: 10px;">Ticket Price History</h4>
            <div style="width: 100%; float: left;">
                <div style="float: left;">
                    <div style="float: left;">
                        <h5 align="center">Economy</h5>
                        <div id="rivalEconomyPriceChart" style="height: 150px; width: 250px" align="center"></div>
                    </div>
                    <div style="float: left;">
                        <h5 align="center">Business</h5>
                        <div id="rivalBusinessPriceChart" style="height: 150px; width: 250px;" align="center"></div>
                    </div>
                    <div style="float: left;">
                        <h5 align="center">First</h5>
                        <div id="rivalFirstPriceChart" style="height: 150px; width: 250px;" align="center"></div>
                    </div>

                </div>
            </div>

            <h4 style="margin-bottom: 10px;">Capacity History</h4>
            <div style="width: 100%; float: left;">
                <div style="float: left;">
                    <div style="float: left;">
                        <h5 align="center">Economy</h5>
                        <div id="rivalEconomyCapacityChart" style="height: 150px; width: 250px" align="center"></div>
                    </div>
                    <div style="float: left;">
                        <h5 align="center">Business</h5>
                        <div id="rivalBusinessCapacityChart" style="height: 150px; width: 250px;" align="center"></div>
                    </div>
                    <div style="float: left;">
                        <h5 align="center">First</h5>
                        <div id="rivalFirstCapacityChart" style="height: 150px; width: 250px;" align="center"></div>
                    </div>

                </div>
            </div>
		</div>
	</div>
	<!-- link rival network modal -->
	<div id="linkRivalDetailsModal" class="modal">
		<div class="modal-content"  style="width : 800px; height: 600px;">
			<span class="close" onclick="closeModal($('#linkRivalDetailsModal'))">&times;</span>
			<h4 style="margin-bottom: 10px;">Loyalty</h4>
			<div style="height: 250px; width: 100%;">
				<div style="height: 100%; width: 100%; overflow: auto; float: left;">
					<div class="table data"style="width: 100%">
						<div class="table-header">
							<div class="cell" style="width: 40%;  border-bottom: none">&nbsp;</div>
							<div class="cell fromAirportText" style="width: 30%; border-bottom: none"></div>
							<div class="cell toAirportText" style="width: 30%;  border-bottom: none"></div>
						</div>
					</div>
					<div class="table data" id="rivalAppealTable" style="max-height: 100%; width: 100%">
						<div class="table-header">
							<div class="cell" style="width: 40%;  border-radius: 0;">&nbsp;</div>
							<div class="cell" style="width: 30%" align="right">Loyalty</div>
							<div class="cell" style="width: 30%" align="right">Loyalty</div>
						</div>
					</div>
				</div>
			</div>

			<h4 style="margin-bottom: 10px;">Network Capacity (Self + Alliance)</h4>
			<div style="height: 250px; width: 100%;">
				<div style="height: 100%; width: 100%; overflow: auto; float: left;">
					<div class="table data"style="width: 100%">
						<div class="table-header">
							<div class="cell" style="width: 16%;  border-bottom: none">&nbsp;</div>
							<div class="cell fromAirportText" style="width: 42%; border-bottom: none"></div>
							<div class="cell toAirportText" style="width: 42%;  border-bottom: none"></div>
						</div>
					</div>
					<div class="table data" id="networkCapacity" style="max-height: 100%; width: 100%">
						<div class="table-header">
							<div class="cell" style="width: 16%; border-radius: 0;">&nbsp;</div>
							<div class="cell" style="width: 14%" align="right">Economy</div>
							<div class="cell" style="width: 14%" align="right">Business</div>
							<div class="cell" style="width: 14%" align="right">First</div>
							<div class="cell" style="width: 14%" align="right">Economy</div>
							<div class="cell" style="width: 14%" align="right">Business</div>
							<div class="cell" style="width: 14%; border-radius: 0;" align="right">First</div>
						</div>
					</div>
				</div>
			</div>
        </div>
    </div>

	<!-- airplane model configuration -->
	<div id="modelConfigurationModal" class="modal">
		<div class="modal-content"  style="width : 800px; height: 800px; margin: 5% auto; overflow:auto;">
			<span class="close" onclick="closeModal($('#modelConfigurationModal'))">&times;</span>
			<h4 style="margin-bottom: 10px;"><span class="modelName"></span>&nbsp;Configuration</h4>
			<div>
				<input type="checkbox" onclick="toggleUtilizationRate($('#modelConfigurationModal'), $(this))" class="toggleUtilizationRateBox"><img src='@routes.Assets.versioned("images/icons/clock-select-remain.png")' title="Toggle Utilization Rate"/>
				<input type="checkbox" onclick="toggleCondition($('#modelConfigurationModal'), $(this))" class="toggleConditionBox"><img src='@routes.Assets.versioned("images/icons/gear.png")' title="Toggle Airplane Condition"/>
			</div>
			<h6 style="font-style: italic;">* Drag and drop airplane icon to another box to switch configuration</h6>
			<h6 style="font-style: italic;">* Drag and drop airplane icon to another airplane icon to swap schedules and settings</h6>
			<div class="configContainer" style="width: 100%"></div>
		</div>
	</div>

<!--	airplane inventory by base-->
	<div id="airplaneBaseModal" class="modal">
		<div class="modal-content"  style="width : 800px; height: 800px; margin: 5% auto;">
			<span class="close" onclick="closeModal($('#airplaneBaseModal'))">&times;</span>
			<h4 style="margin-bottom: 10px;"><span class="modelName"></span>&nbsp;Base</h4>
			<div>
				<input type="checkbox" onclick="toggleUtilizationRate($('#airplaneBaseModal'), $(this))" class="toggleUtilizationRateBox"><img src='@routes.Assets.versioned("images/icons/clock-select-remain.png")' title="Toggle Utilization Rate"/>
				<input type="checkbox" onclick="toggleCondition($('#airplaneBaseModal'), $(this))" class="toggleConditionBox"><img src='@routes.Assets.versioned("images/icons/gear.png")' title="Toggle Airplane Condition"/>
			</div>
			<h6 style="font-style: italic;">* Drag and drop airplane icon to another box to switch home base</h6>
			<h6 style="font-style: italic;">* Drag and drop airplane icon to another airplane icon to swap schedules and settings</h6>
			<div class="inventoryContainer" style="width: 100%; height: 98%; overflow: auto;"></div>
		</div>
	</div>

  <!--	all airplane inventory -->
  <div id="allAirplaneInventoryModal" class="modal">
	  <div class="modal-content"  style="width : 800px; height: 800px; margin: 5% auto;">
		  <span class="close" onclick="closeModal($('#allAirplaneInventoryModal'))">&times;</span>
		  <h4 style="margin-bottom: 10px;"><span class="modelName"></span>&nbsp;Base</h4>
		  <div>
			  <input type="checkbox" onclick="toggleUtilizationRate($('#allAirplaneInventoryModal'), $(this))" class="toggleUtilizationRateBox"><img src='@routes.Assets.versioned("images/icons/clock-select-remain.png")' title="Toggle Utilization Rate"/>
			  <input type="checkbox" onclick="toggleCondition($('#allAirplaneInventoryModal'), $(this))" class="toggleConditionBox"><img src='@routes.Assets.versioned("images/icons/gear.png")' title="Toggle Airplane Condition"/>
			  <h6 style="font-style: italic;">* Drag and drop airplane icon to another airplane icon to swap schedules and settings</h6>
		  </div>

		  <div class="inventoryContainer" style="width: 100%; height: 98%; overflow: auto;"></div>
	  </div>
  </div>


	<div id="buyAirplaneModal" class="modal">
		<div class="modal-content" style="width : 400px;">
			<span class="close" onclick="closeModal($('#buyAirplaneModal'))">&times;</span>
			<h4 style="margin-bottom: 10px;">Confirm Purchase of <span class="modelName"></span></h4>
			<div class="modelIllustration" style="width:100%; position: relative; max-width: 500px;">
				<img src='#' style="width: 100%;">
				<div class="label" style="right: 0px; bottom: 0px; position: absolute; font-style: italic;"><a href='#' target="_blank">Illustration courtesy of Norebbo</a></div>
			</div>

			<div class="table" style="width: 100%;">
				<div class="table-row">
					<div class="label">Price:</div>
					<div class="value price"></div>
				</div>
				<div class="table-row">
					<div class="label">Condition:</div>
					<div class="value condition"></div>
				</div>
				<div class="table-row">
					<div class="label">Delivery Time:</div>
					<div class="value delivery"></div>
				</div>
				<div class="table-row quantity">
					<div class="label">Quantity:</div>
					<div><input type="text" class="input" size="3" maxlength="3"></div>
				</div>
				<div class="table-row totalPrice">
					<div class="label">Total:</div>
					<div class="value"></div>
				</div>
				<div class="table-row">
					<div class="cell"><h5>Home airport:</h5></div>
					<div class="cell">
						<select class="homeOptions select-css"></select>
					</div>
				</div>
				<div class="table-row seatConfiguration">
					<div class="cell"><h5>Seat configuration:</h5></div>
					<div class="cell">
						<img src='@routes.Assets.versioned("images/icons/arrow-180.png")' class='button' style="vertical-align: middle;" onclick="switchAirplaneConfigurationOption($('#buyAirplaneModal'), -1)"/>
						<div class="configuration-options" style="display : inline-block; width: 80%"></div>
						<img src='@routes.Assets.versioned("images/icons/arrow.png")' class='button' style="vertical-align: middle;" onclick="switchAirplaneConfigurationOption($('#buyAirplaneModal'), 1)"/>
					</div>
				</div>
			</div>
			<button type="button" class="button add">Purchase</button>
			<button type="button" class="button" onclick="closeModal($('#buyAirplaneModal'))")>Cancel</button>
		</div>
	</div>

	<!-- popup of owned airplane details and control -->
	<div id="ownedAirplaneDetailModal" class="modal">
		<div class="modal-content"  style="width : 600px;">
			<span class="close" onclick="closeModal($('#ownedAirplaneDetailModal'))">&times;</span>
			<h4>Owned Airplane Details</h4>
			<div id="ownedAirplaneDetail" style="width: 100%;">
				<div class="modelIllustration" style="width:100%; position: relative; max-width: 500px;">
					<img src='#' style="width: 100%;">
					<div class="label" style="right: 0px; bottom: 0px; position: absolute; font-style: italic;"><a href='#' target="_blank">Illustration courtesy of Norebbo</a></div>
				</div>
				<div class="table" style="width: 100%">
					<div class="table-header">
						<div class="cell" style="width: 25%;  border-bottom: none"></div>
						<div class="cell" style="width: 75%; border-bottom: none"></div>
					</div>
					<div class="table-row">
						<div class="cell"><h5>Airplane ID:</h5></div>
						<div class="cell" id="airplaneDetailsId"></div>
					</div>
					<div class="table-row">
						<div class="cell"><h5>Condition:</h5></div>
						<div class="cell" id="airplaneDetailsCondition"></div>
					</div>
					<div class="table-row" id="airplaneDetailsAgeRow">
						<div class="cell"><h5>Age:</h5></div>
						<div class="cell" id="airplaneDetailsAge"></div>
					</div>
					<div class="table-row" id="airplaneDetailsDeliveryRow">
						<div class="cell"><h5>Deliver in:</h5></div>
						<div class="cell" id="airplaneDetailsDelivery" style="font-weight: bold;"></div>
					</div>
					<div class="table-row">
						<div class="cell"><h5>Selling value:</h5></div>
						<div class="cell" id="airplaneDetailsSellValue"></div>
					</div>
					<div class="table-row">
						<div class="cell"><h5>Replace cost:</h5></div>
						<div class="cell" id="airplaneDetailsReplaceCost"></div>
					</div>
					<div class="table-row">
						<div class="cell"><h5>Assigned route(s):</h5></div>
						<div class="cell" id="airplaneDetailsLink"></div>
					</div>
					<div class="table-row">
						<div class="cell"><h5>Available flight time:</h5></div>
						<div class="cell"><span class="availableFlightMinutes"></span> Minute(s)</div>
					</div>
					<div class="table-row">
						<div class="cell"><h5>Home airport:</h5></div>
						<div class="cell">
							<div class="homeView" style="display: flex; align-items: center;">
								<div class="home" style="width: 80%;  float: left;" ></div>
								<div style="float: left;"  data-tooltip-text="Change home airport"><img src='@routes.Assets.versioned("images/icons/gear.png")' class='button edit' style="vertical-align: middle;" onclick="toggleAirplaneHome()"/></div>
								<div style="float: left;"  data-tooltip-text="Cannot change home airport with active route(s)"><img src='@routes.Assets.versioned("images/icons/information.png")' class='button editDisabled' style="vertical-align: middle; display: none;"/></div>
							</div>
							<div class="homeEdit"; style="display:none">
								<select class="homeOptions select-css"></select>
								<img src='@routes.Assets.versioned("images/icons/tick.png")' class='button' style="vertical-align: middle;" onclick="confirmAirplaneHome()"/>
								<img src='@routes.Assets.versioned("images/icons/cross.png")' class='button' style="vertical-align: middle;" onclick="cancelAirplaneHome()"/>
							</div>
						</div>
					</div>
					<div class="table-row">
						<div class="cell"><h5>Seat configuration:</h5></div>
						<div class="cell configuration-view" style="display: flex; align-items: center;">
							<div class="configurationBar" style="width: 80%; float: left"></div>
							<div style="float: left;"><img src='@routes.Assets.versioned("images/icons/gear.png")' class='button edit' style="vertical-align: middle;" onclick="toggleAirplaneConfiguration()" title="Pick configuration"/></div>
							<div style="float: left;"  data-tooltip-text="Need at least 2 configurations for changes"><img src='@routes.Assets.versioned("images/icons/information.png")' class='button editDisabled' style="vertical-align: middle; display: none;"/></div>
							<div style="clear:both;"></div>
						</div>
						<div class="cell configuration-edit"; style="display:none">
							<img src='@routes.Assets.versioned("images/icons/arrow-180.png")' class='button' style="vertical-align: middle;" onclick="switchAirplaneConfigurationOption($('#ownedAirplaneDetail'), -1)"/>
							<div class="configuration-options" style="display : inline-block; width: 80%"></div>
							<img src='@routes.Assets.versioned("images/icons/arrow.png")' class='button' style="vertical-align: middle;" onclick="switchAirplaneConfigurationOption($('#ownedAirplaneDetail'), 1)"/>
							<img src='@routes.Assets.versioned("images/icons/tick.png")' class='button' style="vertical-align: middle;" onclick="confirmAirplaneConfigurationOption()"/>
							<img src='@routes.Assets.versioned("images/icons/cross.png")' class='button' style="vertical-align: middle;" onclick="cancelAirplaneConfigurationOption()"/>
						</div>
					</div>
<!--					<div class="table-row configuration-edit" style="display:none">-->
<!--						<div class="label">Seat Configuration:div>-->
<!--						<div class="value">edit here</div>-->
<!--					</div>-->
				</div>
				<input type="hidden" id="actionAirplaneId">
				<button type="button" class="button" id ="sellAirplaneButton" onclick="promptConfirm('Sell this airplane?', sellAirplane, $('#actionAirplaneId').val())">Sell</button>
				<button type="button" class="button" id ="replaceAirplaneButton" onclick="promptConfirm('Replace this airplane?', replaceAirplane, $('#actionAirplaneId').val())">Replace</button>
			</div>
		</div>
	</div>

	  <div id="setFavoriteModal" class="modal">
		  <div class="modal-content" style="width : 400px;">
			  <span class="close" onclick="closeModal($('#setFavoriteModal'))">&times;</span>
			  <h4 style="margin-bottom: 10px;">Set <span class="modelName" style="font-weight: bold;"></span> as Favorite</h4>
			  <div class="modelIllustration" style="width:100%; position: relative; max-width: 500px;">
				  <img src='#' style="width: 100%;">
				  <div class="label" style="right: 0px; bottom: 0px; position: absolute; font-style: italic;"><a href='#' target="_blank">Illustration courtesy of Norebbo</a></div>
			  </div>

			  <div class="table" style="width: 100%;">
				  <div class="table-row">
					  <div class="label">Price Discount:</div>
					  <div class="value priceDiscount"></div>
				  </div>
				  <div class="table-row">
					  <div class="label">Construction Time Discount:</div>
					  <div class="value constructionTimeDiscount"></div>
				  </div>
			  </div>
			  <div style="display : flex; align-items: center;"><img src='@routes.Assets.versioned("images/icons/information.png")'>Only 1 favorite is allowed and it can only be reset every @{com.patson.model.airplane.ModelDiscount.MAKE_FAVORITE_RESET_THRESHOLD} weeks</div>
			  <div class="existingFavorite" style="display: none;"><img src='@routes.Assets.versioned("images/icons/information.png")'>This will replace&nbsp;<span class="existingFavoriteModelName"></span>&nbsp;as your new Favorite</div>
			  <div class="rejection" style="display: none;"><img src='@routes.Assets.versioned("images/icons/exclamation-red-frame.png")'><span class="reason"></span></div>
			  <button type="button" class="button confirm" onclick="confirmSetFavorite($('#setFavoriteModal').data('modelId'))">Confirm</button>
			  <button type="button" class="button" onclick="closeModal($('#setFavoriteModal'))")>Cancel</button>
		  </div>
	  </div>

	<div id="olympicsVoteModal" class="modal">
		<div class="modal-content"  style="width : 900px; height: 800px; margin: 5% auto; overflow-y: auto;">
			<span class="close" onclick="closeModal($('#olympicsVoteModal'))">&times;</span>
			<h4 style="margin-bottom: 10px;">Olympics Host City Voting (1 : highest precedence)</h4>
			<div class="table data" id="olympicsCityVoteTable" style="width: 100%; min-width: 500px;">
			</div>
			<button type="button" class="button confirm" onclick="confirmOlympicsVotes()">Confirm</button>
			<button type="button" class="button revert" onclick="revertOlympicsVotes()">Revert</button>
	  	</div>
  	</div>

      <div id="eventRewardModal" class="modal" aria-hidden="true">
          <div class="modal-content"  style="width : 500px;">
              <span class="close" onclick="closeEventRewardModal()">&times;</span>

			  <div style="float:left"><img src='@routes.Assets.versioned("images/icons/rubber-balloons.png")'></div>
			  <div style="float:left"> <h4 class="rewardTitle"></h4></div>
			  <div style="float:left"><img src='@routes.Assets.versioned("images/icons/rubber-balloons.png")'></div>
			  <div style="clear:both; margin-bottom: 15px"></div>

			  <div class="rewardOptions" style="width: 100%">
				  <h4> Please pick your reward as below: </h4>
				  <div class="table data rewardOptionsTable" style="width: 100%">
					  <div class="table-header">
						  <div class="cell" style="width: 10%"></div>
						  <div class="cell" style="width: 90%"></div>
					  </div>
				  </div>
			  </div>
          </div>
      </div>

	  <div id="olympicsRankingsModal" class="modal">
		  <div class="modal-content"  style="width : 500px; height: 800px; margin: 5% auto; overflow-y: auto;">
			  <span class="close" onclick="closeModal($('#olympicsRankingsModal'))">&times;</span>
			  <h4>Top Airlines</h4>
			  <div class="table data section topAirlines" style="width: 95%">
				  <div class="table-header">
					  <div class="cell" style="width: 10%">Rank</div>
					  <div class="cell" style="width: 60%">Airline</div>
					  <div class="cell" style="width: 30%" align="right">Total Score</div>
				  </div>
			  </div>
			  <h4>Top Countries of Olympics Passengers transported</h4>
			  <div class="table data section topTransportedCountries" style="width: 95%">
				  <div class="table-header">
					  <div class="cell" style="width: 10%">Rank</div>
					  <div class="cell" style="width: 30%">Country</div>
					  <div class="cell" style="width: 30%" align="right">Total Olympics Passengers transported</div>
					  <div class="cell" style="width: 30%" align="right">Transported Percentage</div>
				  </div>
			  </div>
			  <h4>Top Countries of Olympics Passengers missed</h4>
			  <div class="table data section topMissedCountries" style="width: 95%">
				  <div class="table-header">
					  <div class="cell" style="width: 10%">Rank</div>
					  <div class="cell" style="width: 30%">Country</div>
					  <div class="cell" style="width: 30%" align="right">Total Olympics Passengers missed</div>
					  <div class="cell" style="width: 30%" align="right">Missed Percentage</div>
				  </div>
			  </div>
		  </div>
	  </div>


	  <div id="allianceMemberModal" class="modal">
		  <div class="modal-content" style="width : 400px;">
			  <span class="close" onclick="closeModal($('#allianceMemberModal'))">&times;</span>

			  <div class="table" style="width: 100%;">
				  <div class="table-row">
					  <div class="label">Airline:</div>
					  <div class="value airlineName"></div>
				  </div>
				  <div class="table-row">
					  <div class="label">Status:</div>
					  <div class="value allianceMemberStatus"></div>
				  </div>
			  </div>
			  <h4 style="margin-top: 10px;">Bases</h4>
			  <div style="width: 100%;">
				  <div class="table data baseList" style="width: 100%;">
					  <div class="table-header">
						  <div class="cell" style="width: 20%">Scale</div>
						  <div class="cell" style="width: 80%">Airport</div>
					  </div>
				  </div>
			  </div>



			  <button type="button" class="button" onclick="closeModal($('#allianceMemberModal')); showRivalsCanvas($('#allianceMemberModal').data('airlineId'))">Details</button>
			  <button type="button" class="button" onclick="closeModal($('#allianceMemberModal'))")>Cancel</button>
		  </div>
	  </div>

	  <div id="allianceMissionModal" class="modal">
		  <div class="modal-content"  style="width : 800px;">
			  <span class="close" onclick="closeModal($('#allianceMissionModal'))">&times;</span>
			  <h4 style="margin: 10px 0px;" class="phase" data-phase="1"><img>Phase 1: Select Mission Candidates&nbsp;<span class="tillNextPhase"></span></h4>
			  <div class="allianceMissionCandidates">

			  </div>
			  <h4 style="margin: 10px 0px;" class="phase" data-phase="2"><img>Phase 2: Mission In Progress&nbsp;<span class="tillNextPhase"></span></h4>
			  <div class="table mission" style="margin: 0px 10px; width: 100%;">
				  <div class="table-row">
					  <div class="label">Selected Mission:</div>
					  <div class="value description"></div>
				  </div>
				  <div class="table-row stats" data-key="weeklyValue">
					  <div class="label">Previous Week Value:</div>
					  <div class="value"></div>
				  </div>
				  <div class="table-row stats" data-key="currentStreak">
					  <div class="label">Current Streak:</div>
					  <div class="value"></div>
				  </div>
				  <div class="table-row stats" data-key="longestStreak">
					  <div class="label">Longest Streak:</div>
					  <div class="value"></div>
				  </div>
				  <div class="table-row">
					  <div class="label">Current Progress:</div>
					  <div class="value progress"></div>
				  </div>
			  </div>
			  <div class="missionStatsGraph" style="width: 100%; height: 200px;"></div>

			  <h4 style="margin: 10px 0px;" class="phase" data-phase="3"><img>Phase 3: Mission Conclusion&nbsp;(<span class="description"></span>)</h4>
			  <div class="allianceMissionRewards">

			  </div>
		  </div>
	  </div>

	  <div id="airlineCountryRelationshipModal" class="modal">
		  <div class="modal-content" style="width : 800px;">
			  <span class="close" onclick="closeModal($('#airlineCountryRelationshipModal'))">&times;</span>
			  <h2 style="margin-bottom: 20px">Relationship Management with&nbsp;<span class="country"></span></h2>
			  <h4 style="margin-bottom: 10px; margin-top: 30px;">Airline Title</h4>
			  <div class="section" style="width: 95%; display:flex; flex-direction:column; align-items:center; margin: auto;">
				<div class="currentTitle" style="margin-bottom: 20px; display: flex;"><span>Current:&nbsp;</span><img class="titleIcon">&nbsp;<span class="titleDescription"></span></div>
				<div style="display:flex; align-items:center; flex-wrap: wrap;" class="titleProgression">

				</div>
			  </div>

			  <h4 style="margin-bottom: 10px; margin-top: 30px;">Relationship Factors</h4>
			  <div class="table data section factors" style="width: 95%; margin: auto;">
				  <div class="table-header">
					  <div class="cell" style="width: 80%">Factor</div>
					  <div class="cell" style="width: 20%">Value</div>
				  </div>
			  </div>

			  <h4 style="margin-bottom: 10px; margin-top: 30px;">Delegates<span class="delegatesTooltip"><img src='@routes.Assets.versioned("images/icons/information.png")'></span></h4>
			  <div class="delegateSection section" style="width: 95%; margin: auto;">
				  <h4>Pool</h4>
				  <div class="delegateStatus">

				  </div>

				  <div style="width: 100%; margin-top: 10px; margin-bottom: 10px" class="delegatesAssignment table data">
					  <div class="table-header">
						  <div class="cell"style="width: 80%">Assigned Delegates to develop relationship</div>
						  <div class="cell">&nbsp;</div>
					  </div>
					  <div class="table-row">
						  <div class="cell">
							  <div style="float: left" class="assignedDelegatesIcons"></div>
						  </div>
						  <div>
							  <div style="float: right" class="clickable" onclick="changeTaskDelegateCount($('#airlineCountryRelationshipModal .delegateSection'), -1)"><img src='@routes.Assets.versioned("images/icons/minus-button.png")' title="Minus"/></div>
							  <div style="float: right" class="clickable" onclick="changeTaskDelegateCount($('#airlineCountryRelationshipModal .delegateSection'), 1)"><img src='@routes.Assets.versioned("images/icons/plus-button.png")' title="Add"/></div>
						  </div>
					  </div>
				  </div>
				  <h5><span class="dot"/>Cannot assign temporary delegates awarded as bonus</h5>
				  <h5><span class="dot"/>Require&nbsp;<span class="delegatesRequired"></span>&nbsp;delegates to maintain current bases in this country</h5>
				  <h5><span class="dot"/>Each delegate level provides&nbsp;<span class="delegateMultiplier"></span>&nbsp;relationship points. Delegate starts at level 0 and progress over time. Hover over each delegate above to see details</h5>
				  <button type="button" class="button" onclick="updateCountryDelegates()">Confirm</button>
				  <button type="button" class="button" onclick="closeModal($('#airlineCountryRelationshipModal'))">Cancel</button>
			  </div>

		  </div>
	  </div>


      <div id="campaignModal" class="modal">
	    <div class="modal-content" style="width : 800px;">
		  <span class="close" onclick="closeModal($('#campaignModal'))">&times;</span>
		  <h2 style="margin-bottom: 20px">Campaign Management</h2>
			<div style="display:flex; align-items: flex-end; margin-bottom: 10px;">
				<h4 >Active Campaigns</h4>
				<img class="clickable addCampaign" title="Draft New Campaign" src='@routes.Assets.versioned("images/icons/24px/plus-circle.png")' onclick="toggleDraftCampaign()" style="margin-left: 5px;">
			</div>

			<div style="width: 100%; max-height: 180px; overflow:auto; margin-bottom: 20px;">
				<div class="table data" style="height: 20px; width: 100%;">
					<div class="table-header campaignTableHeader">
						<div class="cell clickable" style="width: 40%" data-sort-property="baseAirport" data-sort-order="ascending" onclick="toggleLinksTableSortOrder($(this))">Area</div>
						<div class="cell clickable" style="width: 10%" data-sort-property="radius" data-sort-order="descending" onclick="toggleLinksTableSortOrder($(this))">Radius</div>
						<div class="cell clickable selected" style="width: 10%" data-sort-property="level" data-sort-order="descending" onclick="toggleLinksTableSortOrder($(this))">Level</div>
						<div class="cell clickable" style="width: 30%"  data-sort-property="population" data-sort-order="descending" onclick="toggleLinksTableSortOrder($(this))">Coverage Pop.</div>
						<div class="cell clickable" style="width: 10%" data-sort-property="airportCount" data-sort-order="ascending" onclick="toggleLinksTableSortOrder($(this))">Airports</div>
					</div>
				</div>
				<div style="height: calc(100% - 40px); width: 100%; overflow-y:auto;">
					<div class="table data campaignTable" style="max-height: 100%; width: 100%">
						<div class="table-header">
							<div class="cell" style="width: 40%; border-bottom: none;"></div>
							<div class="cell" style="width: 10%; border-bottom: none;"></div>
							<div class="cell" style="width: 10%; border-bottom: none;"></div>
							<div class="cell" style="width: 30%; border-bottom: none;"></div>
							<div class="cell" style="width: 10%; border-bottom: none;"></div>
						</div>
					</div>
				</div>
			</div>

			<div class="draftCampaign" style="display:none; text-align: center;">
				<div style="position: relative; display: inline-block;">
					<div class="searchInput" data-search-type="airport">
						<input type="text" tabindex="101" class="airport" placeholder="Airport/City Area" autocomplete="no" oninput="searchChange($(this))" onfocus="$(this).select();" onfocusout="searchFocusOut($(this))" onkeyup="searchKeyUp(event, $(this))" onkeydown="searchKeyDown(event, $(this))">
						<div style="width: 20px; display: inline-block" ><span class="spinner" style="display: none;"><img src='https://i.stack.imgur.com/FhHRx.gif' style="height: 16px"></span></div>
					</div>
					<div class="searchResult"></div>
				</div>
			</div>

			<div style="width: 100%;"> <!-- empty to take up the height otherwise popup would not scale properly -->
				<div class="campaignDetails section" style="display: none;">
					<div style="float: left;" class="left vertical-group">
						<div class="campaignMap" style="width: 350px; height: 350px;">


						</div>
					</div>

					<div style="float: right;" class="right vertical-group">
						<div style="width: 100%; height: 100%">
							<div class="section">
								<h4>Delegates Pool<span class="delegatesTooltip"><img src='@routes.Assets.versioned("images/icons/information.png")'></span></h4>
								<div class="delegateStatus"></div>
							</div>

							<div class="section campaignDetails">
								<h4>Campaign Details</h4>
								<div class="table" style="width: 100%;">
									<div class="table-row">
										<div class="label">Radius:</div>
										<div class="value">
											<div class="radiusControl" style="display: flex; align-items: center;">
												<span style="width: 70%"><span class="radius"></span>km</span>
												<div style="padding: 3px;" class="clickable increase" onclick="changeCampaignRadius(100)"><img src='@routes.Assets.versioned("images/icons/plus-button.png")' title="Increase"/></div>
												<div style="padding: 3px;" class="clickable decrease" onclick="changeCampaignRadius(-100)"><img src='@routes.Assets.versioned("images/icons/minus-button.png")' title="Decrease"/></div>
											</div>
										</div>
									</div>
									<div class="table-row">
										<div class="label">Principal Airport:</div>
										<div class="value principalAirport"></div>
									</div>
									<div class="table-row">
										<div class="label">Population:</div>
										<div class="value population"></div>
									</div>
									<div class="table-row">
										<div class="label">Airport Coverage:</div>
										<div class="value airports"></div>
									</div>
									<div class="table-row">
										<div class="label">Delegate Level:</div>
										<div class="value delegateLevel"></div>
									</div>
									<div class="table-row">
										<div class="label">Weekly Cost:</div>
										<div class="value cost"></div>
									</div>
								</div>
								<div style="width: 100%; margin-top: 10px;" class="delegateSection delegatesAssignment table data">
									<div class="table-header">
										<div class="cell"style="width: 80%">Assigned Delegates for Campaign</div>
										<div class="cell"style="width: 20%">&nbsp;</div>
									</div>
									<div class="table-row">
										<div class="cell">
											<div style="float: left" class="assignedDelegatesIcons"></div>
										</div>
										<div class="cell">
											<div style="float: right" class="clickable" onclick="changeCampaignDelegateCount(-1)"><img src='@routes.Assets.versioned("images/icons/minus-button.png")' title="Minus"/></div>
											<div style="float: right" class="clickable" onclick="changeCampaignDelegateCount(1)"><img src='@routes.Assets.versioned("images/icons/plus-button.png")' title="Add"/></div>
										</div>
									</div>
								</div>
								<h5><span class="dot"/>Cannot assign temporary delegates awarded as bonus</h5>
								<h5><span class="dot"/>Each delegate level provides&nbsp;<span class="loyaltyBonus"></span>&nbsp;loyalty. Delegate starts at level 0 and progress over time. Hover over each delegate above to see details</h5>
							</div>
						</div>
					</div>
					<div style="clear: both;"></div>
					<div style="display: flex; align-items: center;">
						<button type="button" class="button create save" onclick="createCampaign()">Create</button>
						<button type="button" class="button update save" onclick="updateCampaign()">Update</button>
						<button type="button" class="button delete" onclick="deleteCampaign()">Delete</button>
						<button type="button" class="button cancel" onclick="closeCampaignDetails()">Cancel</button>
					</div>
				</div>

			</div>

		</div>
      </div>
<!--  end campaign model-->

<!--	  <div id="baseDetailsModal" class="modal">-->
<!--		  <div class="modal-content"  style="width : 400px;">-->
<!--			  <span class="close" onclick="closeModal($(this).closest('.modal'))">&times;</span>-->
<!--			  <h4 style="margin-bottom: 10px;">Office Scale Details</h4>-->
<!--			  <div class="table data scaleDetails" style="width: 100%;">-->
<!--				  <div class="table-header">-->
<!--					  <div class="cell" style="width: 20%;"><h5>Scale</h5></div>-->
<!--					  <div class="cell" style="width: 20%;"><h5>Staff Cap (HQ/base)</h5></div>-->
<!--					  <div class="cell" data-group="GROUP_1" style="width: 20%;"><h5>Freq Cap 1</h5></div>-->
<!--					  <div class="cell" data-group="GROUP_2" style="width: 20%;"><h5>Freq Cap 2</h5></div>-->
<!--					  <div class="cell" data-group="GROUP_3" style="width: 20%;"><h5>Freq Cap 3</h5></div>-->
<!--				  </div>-->
<!--			  </div>-->
<!--			  <div class="groupRemarks">-->
<!--			  </div>-->
<!--		  </div>-->
<!--	  </div>-->

	  <div id="sendAirlineMessageModal" class="modal">
		  <div class="modal-content"  style="width : 500px;">
			  <span class="close" onclick="closeModal($('#sendAirlineMessageModal'))">&times;</span>
			  <h4 style="margin-bottom: 10px;">Send private message (popup) <span class="airlineName"></span></h4>
              <textarea style="height: 200px; width: 95%; line-height: 20px;" class="sendMessage"></textarea>
              <div>
                  <div class="button" onclick="sendAirlineMessage()">Send</div>
                  <div class="button" onclick="closeModal($('#sendAirlineMessageModal'))">Cancel</div>
              </div>
         </div>
	  </div>
	  <div id="sendBroadcastMessageModal" class="modal">
		  <div class="modal-content"  style="width : 500px;">
			  <span class="close" onclick="closeModal($('#sendBroadcastMessageModal'))">&times;</span>
			  <h4 style="margin-bottom: 10px;">Broadcast message to all online airlines</h4>

              <textarea style="height: 200px; width: 95%; line-height: 20px;" class="sendMessage"></textarea>
              <div>
                  <div class="button" onclick="sendBroadcastMessage()">Send</div>
                  <div class="button" onclick="closeModal($('#sendBroadcastMessageModal'))">Cancel</div>
              </div>

		  </div>
	  </div>

	  <div id="broadcastMessagePopup" class="modal">
		  <div class="modal-content"  style="width : 500px; height: 200px;">
			  <span class="close" onclick="closeModal($('#broadcastMessagePopup'))">&times;</span>
			  <h4 style="margin-bottom: 10px;">Broadcast message from Admin</h4>
			  <div style="width: 95%; text-align: center;">
				  <div class="sendMessage" style="width: 100%; height: 100px;"></div>
				  <div class="button" onclick="closeModal($('#broadcastMessagePopup'))">Ok</div>
			  </div>
		  </div>
	  </div>

	  <div id="airlineMessagePopup" class="modal">
		  <div class="modal-content"  style="width : 500px; height: 200px;">
			  <span class="close" onclick="closeModal($('#airlineMessagePopup'))">&times;</span>
			  <h4 style="margin-bottom: 10px;">Private message from Admin</h4>
			  <div style="width: 95%; text-align: center;">
				  <div class="sendMessage" style="width: 100%; height: 100px;"></div>
				  <div class="button" onclick="closeModal($('#airlineMessagePopup'))">Ok</div>
			  </div>
		  </div>
	  </div>

	  <div id="profilesModal" class="modal">
		<input type="hidden" id="profileId" name="profileId" value="0"/>
		  <div class="modal-content" style="max-width : 90vw; width: 1300px;">
			  <h2 style="margin-bottom: 20px">Please select your profile</h2>
			  <div id ="profiles" style="padding: 10px;display: flex;">

			  </div>
			  <div style="text-align: center">
				  <button type="button" class="button" onclick="buildHqWithProfile()">Confirm</button>
				  <button type="button" class="button" onclick="closeModal($('#profilesModal'))">Cancel</button>
			  </div>
		  </div>
	  </div>

  <div id="delegateStatusModal" class="modal">
	  <div class="modal-content"  style="width : 400px;">
		  <span class="close" onclick="closeModal($('#delegateStatusModal'))">&times;</span>
		  <h4>Delegates Pool<span class="delegatesTooltip"><img src='@routes.Assets.versioned("images/icons/information.png")'></span></h4>
		  <div class="delegateStatus"></div>
	  </div>
  </div>


  <div id="airportAssetDetailsModal" class="modal">
	  <div class="modal-content" style="width : 600px; max-width: 100%">
		  <span class="close" onclick="closeModal($(this).closest('.modal'))">&times;</span>
		  <h4><span class="name"></span></h4>
<!--		  <div class="descriptions"></div>-->
		  <div style="margin-bottom : 5px;">
			  <img class="assetImage" src="" style="width: 200px; display: block; margin: auto;" >
		  </div>
		  <div class="table" style="width: 100%">
			  <div class="table-row">
				  <div class="label" style="width: 50%"><h5>Name:</h5></div>
				  <div class="value" style="width: 50%">
					  <div class="assetName"></div>
					  <div class="assetNameInputDiv"><input type="text" class="assetNameInput"></div>
				  </div>
			  </div>
			  <div class="table-row assetNameWarningDiv" style="display: none;">
				  <div class="warning"></div>
			  </div>
			  <div class="table-row">
				  <div class="label" style="width: 50%"><h5>Airport:</h5></div>
				  <div class="value assetAirport" style="width: 50%"></div>
			  </div>
			  <div class="table-row">
				  <div class="label" style="width: 50%"><h5>Asset Type:</h5></div>
				  <div class="value assetType" style="width: 50%"></div>
			  </div>
			  <div class="table-row">
				  <div class="label" style="width: 50%"><h5>Status:</h5></div>
				  <div class="value assetStatus" style="width: 50%"></div>
			  </div>
			  <div class="table-row">
				  <div class="label" style="width: 50%"><h5>Owner:</h5></div>
				  <div class="value assetOwner" style="width: 50%"></div>
			  </div>
			  <div class="table-row">
				  <div class="label" style="width: 50%"><h5>Level:</h5></div>
				  <div class="value assetLevel" style="width: 50%"></div>
			  </div>
			  <div class="table-row activeBoostsRow">
				  <div class="label" style="width: 50%"><h5>Active Boosts:</h5></div>
				  <div class="value" style="width: 50%">
					  <span class="assetBoosts"></span>
<!--					  <span class="assetBoostHistoryIcon clickable" onmousedown="showAssetBoostHistory($('#airportAssetDetailsModal').data('boostHistory'))" onmouseout="hideAssetBoostHistory()"><img src='@routes.Assets.versioned("images/icons/information.png")'></span>-->
				  </div>
			  </div>
			  <div class="table-row assetOwnerRow">
				  <div class="label">Expense:</div>
				  <div class="value assetExpense"></div>
			  </div>
			  <div class="table-row assetOwnerRow">
				  <div class="label">Revenue:</div>
				  <div class="value assetRevenue"></div>
			  </div>
			  <div class="table-row assetOwnerRow">
				  <div class="label">Profit:</div>
				  <div class="value assetProfit"></div>
			  </div>
			  <div class="table-row assetOwnerRow">
				  <div class="label">Performance Grade:</div>
				  <div class="value assetPerformance"></div>
			  </div>
			  <div class="table-row">
				  <div class="label">Build/Upgrade Cost:</div>
				  <div class="value cost"></div>
			  </div>
			  <div class="table-row">
				  <div class="label">Build/Upgrade Duration:</div>
				  <div class="value constructionDuration"></div>
			  </div>
			  <div class="table-row">
				  <div class="label">Sell Value:</div>
				  <div class="value sellValue"></div>
			  </div>
		  </div>

		  <div class="visitorByAir">
			  <h5 style="margin-top: 10px; margin-bottom: 10px;">Visitors by Air</h5>
			  <div style="width: 100%; display: flex; flex-wrap: wrap">
				  <div style="flex-grow: 1; display:flex; flex-direction: column; align-items: center;">
					  <h5 align="center">Country</h5>
					  <div class="visitorCompositionByCountryPie" style="height: 160px; width: 250px" align="center"></div>
					  <div class="table data topCountryTable" style="width: 250px;">
					  </div>
				  </div>
				  <div style="flex-grow: 1; display:flex; flex-direction: column; align-items: center;">
					  <h5 align="center">Passenger Type</h5>
					  <div class="visitorCompositionByPassengerTypePie" style="height: 160px; width: 250px" align="center"></div>
					  <div class="table data passengerTypeTable" style="width: 250px;">
					  </div>
				  </div>
			  </div>
		  </div>


		  <h5>Level History</h5>
		  <div class="table data" style="width: 100%;">
			  <div class="table-header">
				  <div class="cell" style="width: 10%">Lv</div>
				  <div class="cell" style="width: 40%">Boost</div>
				  <div class="cell" style="width: 20%; align: right;">Growth</div>
				  <div class="cell" style="width: 20%; align: right;">Value</div>
				  <div class="cell" style="width: 10%">&nbsp;</div>
			  </div>
		  </div>
		  <div style="max-height: 150px; width: 100%; overflow-y:auto;">
			  <div class="table data airportBoostHistoryTable" style="max-height: 100%; width: 100%">
				  <div class="table-header">
					  <div class="cell" style="width: 10%; border-bottom: none;"></div>
					  <div class="cell" style="width: 40%; border-bottom: none;"></div>
					  <div class="cell" style="width: 20%; border-bottom: none;"></div>
					  <div class="cell" style="width: 20%; border-bottom: none;"></div>
					  <div class="cell" style="width: 10%; border-bottom: none;"></div>
				  </div>
			  </div>
		  </div>



		  <button type="button" class="button buildButton" onclick="promptConfirm('Build this Asset?', buildOrModifyAsset, $('#airportAssetDetailsModal').data('asset'))">Build</button>
		  <button type="button" class="button upgradeButton" onclick="promptConfirm('Upgrade this Asset?', buildOrModifyAsset, $('#airportAssetDetailsModal').data('asset'))">Upgrade</button>
		  <button type="button" class="button downgradeButton" onclick="promptConfirm('Downgrade this Asset?', downgradeAsset, $('#airportAssetDetailsModal').data('asset'))">Downgrade</button>
		  <button type="button" class="button sellButton" onclick="promptConfirm('Sell this Asset?', sellAsset, $('#airportAssetDetailsModal').data('asset'))">Sell</button>
	  </div>
  </div>


  <div id="loyalistHistoryModal" class="modal">
	  <div class="modal-content"  style="width : 700px;">
		  <span class="close" onclick="closeModal($('#loyalistHistoryModal'))">&times;</span>
		  <h4>Loyalist History/Trend</span></h4>
		  <div class="loyalistHistoryChart" style="height: 250px; width: 100%"></div>
	  </div>
  </div>

  <div id="settingsModal" class="modal">
	  <div class="modal-content"  style="width : 400px; max-width: 80%">
		  <span class="close" onclick="closeModal($('#settingsModal'))">&times;</span>
		  <h4>Settings</h4>
		  <div class="table" style="width: 90%;">
			  <div class="table-row">
				  <div class="cell">
					  <h5>Color Theme</h5>
				  </div>
<!--				  <div style="display: flex; align-items: center; flex-wrap: wrap;">-->
				  <div class="cell" style="vertical-align:middle; text-align:center;">
					  <fieldset>
						  <div class="switch" style="display: inline-block">
							  <input type="radio" class="switch-input" name="theme" value="light" id="switchDark" onchange="switchTheme()">
							  <label for="switchDark" class="switch-label switch-label-off">Dark</label>
							  <input type="radio" class="switch-input dark" name="theme" value="dark" id="switchLight" onchange="switchTheme()">
							  <label for="switchLight" class="switch-label switch-label-on">Light</label>
							  <span class="switch-selection"></span>
						  </div>
					  </fieldset>
				  </div>
			  </div>
			  <div class="table-row desktopOnly">
				  <div class="cell">
					  <h5>UI Theme</h5>
				  </div>
				  <div class="cell" style="vertical-align:middle; text-align:center;">
					<select class="select-css" id="UIThemeSelect" onchange="changeUITheme($(this).val());" style="margin: auto;">
					  <option value="classic">Classic</option>
					  <option value="modern">Modern</option>
					  <option value="modern-lite">Modern Lite (For slow systems)</option>
					</select>
				  </div>
			  </div>
			  <div class="table-row">
				  <div class="cell">
					  <h5>Default Wallpaper</h5>
				  </div>
				  <div class="cell" style="vertical-align:middle; text-align:center;">
					  <img style="margin: 4px" class="clickable" src='@routes.Assets.versioned("images/icons/24px/arrow-circle-double.png")' onclick="changeWallpaper()">
				  </div>
			  </div>
			  <div class="table-row customWallpaper">
				  <div class="cell">
					  <h5>Custom Wallpaper</h5>
				  </div>
				  <div class="cell" style="vertical-align:middle; text-align:center;">
					  <div>
						  <div class="fileuploader"></div>
						  <div class="warning" style="display:none;"></div>
					  </div>
				  </div>
			  </div>


		  </div>


	  </div>
  </div>

  <div id="airlinesByIpModal" class="modal">
	  <div class="modal-content"  style="width : 900px;">
		  <span class="close" onclick="closeModal($('#airlinesByIpModal'))">&times;</span>
		  <h4>Airlines by IP&nbsp;<span class="ip"></span></h4>
		  <div class="table data airlineByIpTable" style="max-height: 100%; width: 100%">
			  <div class="table-header">
				  <div class="cell" style="width: 5%; border-bottom: none;"></div>
				  <div class="cell" style="width: 25%; border-bottom: none;">Airline</div>
				  <div class="cell" style="width: 10%; border-bottom: none;">Hq</div>
				  <div class="cell" style="width: 15%; border-bottom: none;">User</div>
				  <div class="cell" style="width: 10%; border-bottom: none;">User status</div>
				  <div class="cell" style="width: 10%; border-bottom: none;">Modifiers</div>
				  <div class="cell" style="width: 15%; border-bottom: none;">Last Seen</div>
				  <div class="cell" style="width: 5%; border-bottom: none;">Occurrence</div>
			  </div>
		  </div>
		  <div style="text-align: center">
			  <div class="button" onclick="adminSetUsers('warn', $('#airlinesByIpModal'))">Warn</div>
			  <div class="button" onclick="adminSetUsers('ban', $('#airlinesByIpModal'))">Ban</div>
			  <div class="button" onclick="adminSetUsers('nerf', $('#airlinesByIpModal'))">Nerf</div>
			  <div class="button" onclick="adminSetUsers('restore', $('#airlinesByIpModal'))">Restore</div>
		  </div>
	  </div>
  </div>

  <div id="airlinesByUuidModal" class="modal">
	  <div class="modal-content"  style="width : 900px;">
		  <span class="close" onclick="closeModal($('#airlinesByUuidModal'))">&times;</span>
		  <h4>Airlines by UUID&nbsp;<span class="uuid"></span></h4>
		  <div class="table data airlineByUuidTable" style="max-height: 100%; width: 100%">
			  <div class="table-header">
				  <div class="cell" style="width: 5%; border-bottom: none;"></div>
				  <div class="cell" style="width: 25%; border-bottom: none;">Airline</div>
				  <div class="cell" style="width: 10%; border-bottom: none;">Hq</div>
				  <div class="cell" style="width: 15%; border-bottom: none;">User</div>
				  <div class="cell" style="width: 10%; border-bottom: none;">User status</div>
				  <div class="cell" style="width: 10%; border-bottom: none;">Modifiers</div>
				  <div class="cell" style="width: 15%; border-bottom: none;">Last Seen</div>
				  <div class="cell" style="width: 5%; border-bottom: none;">Occurrence</div>
			  </div>
		  </div>
		  <div style="text-align: center">
			  <div class="button" onclick="adminSetUsers('warn', $('#airlinesByUuidModal'))">Warn</div>
			  <div class="button" onclick="adminSetUsers('ban', $('#airlinesByUuidModal'))">Ban</div>
			  <div class="button" onclick="adminSetUsers('nerf', $('#airlinesByUuidModal'))">Nerf</div>
			  <div class="button" onclick="adminSetUsers('restore', $('#airlinesByUuidModal'))">Restore</div>
		  </div>
	  </div>
  </div>



<!--  end profiles-->

    <div id="tutorialHtml"></div>
    <div id="noticeHtml"></div>
    <div id="firework-container" style="display: none">
		<!-- App -->
		<div class="container">
			<div class="stage-container remove">
				<div class="canvas-container">
					<canvas id="trails-canvas"></canvas>
					<canvas id="main-canvas"></canvas>
				</div>
			</div>
		</div>
	</div>

	<!-- Modal for loading -->
	<div class="loadingSpinner"><!-- Place at bottom of page --></div>

  <link rel="preconnect" href="https://use.typekit.net" crossorigin />
  <link rel="preconnect" href="https://p.typekit.net" crossorigin />
  <link rel="preload" href="https://p.typekit.net" crossorigin>
  <link rel="stylesheet" href="https://use.typekit.net/plw0ulw.css">
  <script src='@routes.Assets.versioned("javascripts/main.js")'></script>
  <script defer src='@routes.Assets.versioned("javascripts/airport.js")'></script>
  <script src='@routes.Assets.versioned("javascripts/airport-asset.js")'></script>
  <script src='@routes.Assets.versioned("javascripts/airplane.js")'></script>
  <script src='@routes.Assets.versioned("javascripts/model-configuration.js")'></script>
  <script src='@routes.Assets.versioned("javascripts/airline.js")'></script>
  <script src='@routes.Assets.versioned("javascripts/link-history.js")'></script>
  <script src='@routes.Assets.versioned("javascripts/delegate.js")'></script>
  <script src='@routes.Assets.versioned("javascripts/country.js")'></script>
  <script src='@routes.Assets.versioned("javascripts/office.js")'></script>
  <script src='@routes.Assets.versioned("javascripts/tiles.js")'></script>
  <script src='@routes.Assets.versioned("javascripts/ranking.js")'></script>
  <script src='@routes.Assets.versioned("javascripts/bank.js")'></script>
  <script src='@routes.Assets.versioned("javascripts/oil.js")'></script>
  <script src='@routes.Assets.versioned("javascripts/rivals.js")'></script>
  <script src='@routes.Assets.versioned("javascripts/alliance.js")'></script>
  <script src='@routes.Assets.versioned("javascripts/log.js")'></script>
  <script src='@routes.Assets.versioned("javascripts/event.js")'></script>
  <script src='@routes.Assets.versioned("javascripts/search.js")'></script>
  <script src='@routes.Assets.versioned("javascripts/facility.js")'></script>
  <script src='@routes.Assets.versioned("javascripts/departures.js")'></script>
  <script src='@routes.Assets.versioned("javascripts/websocket.js")'></script>
  <script src='@routes.Assets.versioned("javascripts/map-button.js")'></script>
  <script src='@routes.Assets.versioned("javascripts/gadgets.js")'></script>
  <script src='@routes.Assets.versioned("javascripts/chat.js")' defer></script>
  <script src='@routes.Assets.versioned("javascripts/christmas.js")'></script>
  <script src='@routes.Assets.versioned("javascripts/confetti.js")'></script>
  <script src='@routes.Assets.versioned("javascripts/admin.js")'></script>
  <script src='@routes.Assets.versioned("javascripts/about.js")'></script>
  <script src='@routes.Assets.versioned("javascripts/heatmap.js")'></script>
  <script src='@routes.Assets.versioned("javascripts/campaign.js")'></script>
  <script src='@routes.Assets.versioned("javascripts/profile.js")'></script>
  <script src='@routes.Assets.versioned("javascripts/settings.js")'></script>
  <script src='@routes.Assets.versioned("javascripts/prompt.js")' defer></script>
  <script src='@routes.Assets.versioned("javascripts/pending-action.js")'></script>
  <script src='@routes.Assets.versioned("javascripts/map-style.js")'></script>
  <script src='@routes.Assets.versioned("javascripts/local-storage.js")'></script>
  <script src='@routes.Assets.versioned("javascripts/color.js")'></script>
  <script src='@routes.Assets.versioned("javascripts/mobile.js")' defer></script>
  <script src='@routes.Assets.versioned("javascripts/ui-theme.js")'></script>

	
	<audio id="christmasMusic" preload="none" loop>
<!--	    <source src='@routes.Assets.versioned("music/silent-night.mp3")' type="audio/mp3" />-->
		<source src='@routes.Assets.versioned("music/joy-to-the-world.mp3")' type="audio/mp3" />
	</audio>

    <script src="@routes.Assets.versioned("javascripts/chat-popup.js")"></script>

    <script src='https://maps.googleapis.com/maps/api/js?v=weekly&key=@configuration.get[String]("google.mapKey")&libraries=geometry,drawing,visualization&callback=initMap'>
	</script>
<!-- 	<script src="https://apis.google.com/js/platform.js"></script> -->
  <script src='/assets/firework/fscreen.js'></script>
  <script src='/assets/firework/stage.js'></script>
  <script src='/assets/firework/my-math.js'></script>
  <script src="/assets/firework/firework.js"></script>
	 
  </body>
</html>
