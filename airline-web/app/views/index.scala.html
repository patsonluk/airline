@(message: String)
<!DOCTYPE html>
<html>
  <head>
<!--   	<meta name="google-signin-client_id" content="526466847284-mmk6qg2bc4su9ihgqippccaha28edn81.apps.googleusercontent.com"> -->
    <meta name="description" content="A free and open source Airline Management Simulation Game. Realistic simulation of air travel demand between 4k+ airports with virtual passengers making unique travel choices. ">
    <meta name="keywords" content="Game,Free,Open Source,Airline">
    <meta name="author" content="Patson Luk">
    <meta name="google-site-verification" content="QwhV16ZJH6fYSZ20GMn03ZnwAwPOD_VumT3eBM5rGfo" />
    
    <style type="text/css">
      html, body { height: 100%; margin: 0; padding: 0; }
      #map { height: 100%; }
    </style>
    <link rel="stylesheet" type="text/css" href="@routes.Assets.versioned("css-templates/treviso/css/style.css")">
    <link rel="stylesheet" type="text/css" href="@routes.Assets.versioned("stylesheets/main.css")">
    <link rel="stylesheet" type="text/css" href="@routes.Assets.versioned("stylesheets/departures.css")">
    <link rel="stylesheet" type="text/css" href="@routes.Assets.versioned("stylesheets/tooltip.css")">
    <link rel="icon" type="image/png"  href='@routes.Assets.versioned("images/icons/globe-green.png")'>
    
    <script src="@routes.Assets.versioned("javascripts/libs/jquery-2.1.4.js")"></script>
    <script src="@routes.Assets.versioned("javascripts/libs/jquery-ui.min.js")"></script>
    <script src="@routes.Assets.versioned("javascripts/libs/jquery.cookie.js")"></script>
    <!-- <script src="@routes.Assets.versioned("javascripts/libs/highcharts.js")"></script> -->
    <script type="text/javascript" src="@routes.Assets.versioned("fusioncharts/fusioncharts.js")"></script>
    <script type="text/javascript" src="@routes.Assets.versioned("fusioncharts/fusioncharts.widgets.js")"></script>
	<script type="text/javascript" src="@routes.Assets.versioned("fusioncharts/themes/fusioncharts.theme.zune.js")"></script>
	<script type="text/javascript" src="@routes.Assets.versioned("fusioncharts/fusioncharts-jquery-plugin.js")"></script>
	<script src="@routes.Assets.versioned("javascripts/plot-fusioncharts.js")"></script>
	
	<script type="text/javascript" src="@routes.Assets.versioned("tinycolorpicker/jquery.tinycolorpicker.js")"></script>
	<link rel="stylesheet" href="@routes.Assets.versioned("tinycolorpicker/tinycolorpicker.css")" type="text/css" />
	
	<script type="text/javascript" src="@routes.Assets.versioned("jquery-upload-file/jquery.uploadfile.min.js")"></script>
	<link rel="stylesheet" href="@routes.Assets.versioned("jquery-upload-file/uploadfile.css")" type="text/css" />
	
	<script src="@routes.Assets.versioned("javascripts/main.js")"></script>
    <script src="@routes.Assets.versioned("javascripts/airport.js")"></script>
    <script src="@routes.Assets.versioned("javascripts/airplane.js")"></script>
    <script src="@routes.Assets.versioned("javascripts/airline.js")"></script>
    <script src="@routes.Assets.versioned("javascripts/country.js")"></script>
    <script src="@routes.Assets.versioned("javascripts/office.js")"></script>
    <script src="@routes.Assets.versioned("javascripts/ranking.js")"></script>
    <script src="@routes.Assets.versioned("javascripts/bank.js")"></script>
    <script src="@routes.Assets.versioned("javascripts/rivals.js")"></script>
    <script src="@routes.Assets.versioned("javascripts/alliance.js")"></script>
    <script src="@routes.Assets.versioned("javascripts/departures.js")"></script>
    <script src="@routes.Assets.versioned("javascripts/websocket.js")"></script>
    <script src="@routes.Assets.versioned("javascripts/map-button.js")"></script>
    <script src="@routes.Assets.versioned("javascripts/gadgets.js")"></script>
    <script src="@routes.Assets.versioned("javascripts/map-style.js")"></script>
    <script>
    	if (window.location.hostname != 'localhost') {
			window['_fs_debug'] = false;
			window['_fs_host'] = 'fullstory.com';
			window['_fs_org'] = 'CVSY5';
			window['_fs_namespace'] = 'FS';
			(function(m,n,e,t,l,o,g,y){
			    if (e in m) {if(m.console && m.console.log) { m.console.log('FullStory namespace conflict. Please set window["_fs_namespace"].');} return;}
			    g=m[e]=function(a,b){g.q?g.q.push([a,b]):g._api(a,b);};g.q=[];
			    o=n.createElement(t);o.async=1;o.src='https://'+_fs_host+'/s/fs.js';
			    y=n.getElementsByTagName(t)[0];y.parentNode.insertBefore(o,y);
			    g.identify=function(i,v){g(l,{uid:i});if(v)g(l,v)};g.setUserVars=function(v){g(l,v)};
			    g.shutdown=function(){g("rec",!1)};g.restart=function(){g("rec",!0)};
			    g.consent=function(a){g("consent",!arguments.length||a)};
			    g.identifyAccount=function(i,v){o='account';v=v||{};v.acctId=i;g(o,v)};
			    g.clearUserCookie=function(){};
			})(window,document,window['_fs_namespace'],'script','user');
    	}
	</script>
  </head>
  <body>
  	<input type="hidden" id="floatMessage" value="@message"/>
  	<div id="floatMessageBox" style="height: 30px; width: 400px; display: none;"></div>
  	<div id="topBar" data-scroll="false" class="menubar">
  		<div style="float: left;">
  			<span id="topBarDetails" style="display: none;">
	  			<span id="currentTime" class="label" style="margin: 0px 10px"></span>
	  			<span id="currentAirline" class="label" style="margin: 0px 10px; font-weight: bold"></span> 
	  			<span style="margin: 0px 10px">Balance: $<span id="balance" class="label"></span></span> 
	  			<span style="margin: 0px 10px">Reputation: <span id="reputation" class="label"></span> <span id="reputationLevel" class="label"></span> <span id="reputationStars"></span></span>
	  			<span style="margin: 0px 10px">Service Quality: <span id="serviceQuality" class="label"></span></span>
  			</span>
  		</div>
  		<div style="float: right" class="button"><a href="https://airlineclub.createaforum.com/" target="_blank">FAQ/Forum</a></div>
  		<div style="float: right;">
  			<div style="display: hidden;" id="loginDiv">
	  			<span class="label">User Name</span>
	  			<input type="text" id="loginUserName"/>
	  			<span class="label">Password</span>
	  			<input type="password" id="loginPassword" onkeydown="passwordLogin(event)"/>
	  			<div class="button" onclick="login()">Login</div>
<!-- 	  			<div class="g-signin2" data-onsuccess="onGoogleLogin()"></div> -->
	  			<a href="signup"><div class="button" onclick="">Sign Up</div></a>
  			</div>
  			<div style="float: right; display: none;" id="logoutDiv">
  				<span id="currentUserName" class="label"></span>
  				<div class="button" onclick="logout()">Logout</div> 
  			</div>
		</div>
  	</div>
  	<div id="main" style="width: 100%;" >
  		<div id="console" class="marquee" style="width: 100%; position: relative; float: left;" align="center">
  			<div class="div-overlay" onclick="toggleConsoleMessage()" title="Click to toggle message"></div>
  			<span id="consoleMessage"></span>
  		</div>
  		 
  		<div style="width: 80px; float: left;">
<!-- 	  		<ul class="tabs" id="main-tabs" style="display: none;"> -->
	  		<ul class="tabs" id="main-tabs">
	  		
			  <li class="button left-tab" id="worldMapCanvasTab" onclick="showWorldMap();"><span class="selected">World</span></li>
			  <li class="button left-tab user-specific-tab" id="linksCanvasTab" onclick="showLinksDetails();"><span>Routes</span></li>
<!-- 			  <li class="button left-tab" id="airportCanvasTab" onclick="showAirportDetails();"><span>Airport</span></li> -->
			  <li class="button left-tab user-specific-tab" id="countryCanvasTab" onclick="showCountryView();"><span>Country</span></li>
			  <li class="button left-tab user-specific-tab" id="airplaneCanvasTab" onclick="showAirplaneCanvas();"><span>Airplane</span></li>
			  <li class="button left-tab user-specific-tab" id="officeCanvasTab" onclick="showOfficeCanvas();"><span>Office</span></li>
			  <li class="button left-tab user-specific-tab" id="bankCanvasTab" onclick="showBankCanvas();"><span>Bank</span></li>
			  <li class="button left-tab user-specific-tab" id="rivalsCanvasTab" onclick="showRivalsCanvas();"><span>Rivals</span></li>
			  <li class="button left-tab" id="rankingCanvasTab" onclick="showRankingCanvas();"><span>Ranking</span></li>
			  <li class="button left-tab" id="allianceCanvasTab" onclick="showAllianceCanvas();"><span>Alliance</span></li>
			  
			</ul>
		</div>
		
<!--   		<div id="linkHistoryButton" class="googleMapButton" onclick="toggleLinkHistory()" align="center"><span class="alignHelper"></span><img src='@routes.Assets.versioned("images/icons/footprints.png")' style="vertical-align: middle;"/></div> -->
<!-- 		<div id="vipButton" class="googleMapButton" onclick="showVipRoutes()" align="center"><span class="alignHelper"></span><img src='@routes.Assets.versioned("images/icons/star.png")' style="vertical-align: middle;"/></div> -->
		<div id="toggleMapAnimationButton" class="googleMapButton" onclick="toggleMapAnimation()" align="center" style="width: 28px; height: 28px; display: none; margin-bottom: 10px;"><span class="alignHelper"></span><img src='@routes.Assets.versioned("images/icons/arrow-step-over.png")' title='toggle flight marker animation' style="vertical-align: middle;"/></div>
		<div id="toggleMapLightButton" class="googleMapButton" onclick="toggleMapLight()" align="center" style="width: 28px; height: 28px; display: none;"><span class="alignHelper"></span><img src='@routes.Assets.versioned("images/icons/switch.png")' title='toggle dark/light themed map' style="vertical-align: middle;"/></div>
  	<!-- main canvas start -->
  		<div id="canvas" style="float: left; overflow-x: auto; overflow-y: scroll;" >
  			<div id="worldMapCanvas" style="height: 100%;">
  				<div id="map" class="mainPanel" style="height: 100%; width: 50%; float:left" data-headquarter-marker='@routes.Assets.versioned("images/markers/headquarter.png")' data-base-marker='@routes.Assets.versioned("images/markers/base.png")' data-large-airport-marker='@routes.Assets.versioned("images/markers/airport-darker.png")' data-medium-airport-marker='@routes.Assets.versioned("images/markers/airport.png")'  data-small-airport-marker='@routes.Assets.versioned("images/markers/airport-lighter.png")'></div>
				<div id="sidePanel" class="sidePanel" style="width: 50% ; float: left; display:none;" >
			    	<div id="detailsPanel" class="section" style="width: 95% ; float: left;">
			    		<div id="linkDetails" style="width: 100%;;">
			    			<div style="width: 50%; float: left">
				    			<div class="table" id="linkCurrentDetails" style="width: 100%">
			    					<h4>Current Details</h4>
				    				<div class="table-row">
					    				<div class="label"><h5>From:</h5></div>
					    				<div class="value clickable" id="linkFromAirport"></div>
					    			</div>
					    			<div class="table-row">
					    				<div class="label"><h5>To:</h5></div>
					    				<div class="value clickable" id="linkToAirport"></div>
					    			</div>
					    			<div class="table-row">
					    				<div class="label"><h5>Flight Code:</h5></div>
					    				<div class="value" id="linkFlightCode"></div>
					    			</div>
					    			<div class="table-row">
					    				<div class="label"><h5>Distance:</h5></div>
					    				<div class="value" id="linkDistance"></div>
					    			</div>
					    			<div class="table-row">
					    				<div class="label"><h5>Airplane:</h5></div>
					    				<div class="value" id="linkAirplaneModel"></div>
					    			</div>
					    			<div class="table-row">
					    				<div class="label"><h5>Price:</h5></div>
					    				<div class="value" id="linkCurrentPrice"></div>
					    			</div>
					    			<div class="table-row">
					    				<div class="label"><h5>Overall Quality:</h5></div>
					    				<div class="value" id="linkQuality"></div>
					    			</div>
					    			<div class="table-row">
					    				<div class="label"><h5>Capacity (Y/J/F):</h5></div>
					    				<div class="value" id="linkCurrentCapacity"></div>
					    			</div>
					    		</div>
					    		<input type="hidden" id="actionLinkId">
				    			<input type="hidden" id="linkFromAirportId">
				    			<input type="hidden" id="linkToAirportId">
				    			<div class="button" onclick="editLink($('#actionLinkId').val())">Edit</div>
				    			<div class="button" onclick="deselectLink()">Cancel</div>
					    		
					    		<div class="divider"></div>
					    		<div class="table" id="linkHistoryDetails" style="width: 100%">
				    				<h4>History</h4>	
					    			<div class="table-row">
					    				<div class="label"><h5>Price:</h5></div>
					    				<div class="value" id="linkHistoryPrice"></div>
					    			</div>
					    			<div class="table-row">
					    				<div class="label"><h5>Capacity (Y/J/F):</h5></div>
					    				<div class="value" id="linkHistoryCapacity"></div>
					    			</div>
					    			<div class="table-row">
					    				<div class="label"><h5>Load Factor:</h5></div>
					    				<div class="value" id="linkLoadFactor"></div>
					    			</div>
					    			<div class="table-row">
					    				<div class="label"><h5>Profit:</h5></div>
					    				<div class="value" id="linkProfit"></div>
					    			</div>
					    			<div class="table-row">
					    				<div class="label"><h5>Revenue:</h5></div>
					    				<div class="value" id="linkRevenue"></div>
					    			</div>
					    			<div class="table-row">
					    				<div class="label"><h5>Fuel Cost:</h5></div>
					    				<div class="value" id="linkFuelCost"></div>
					    			</div>
					    			<div class="table-row">
					    				<div class="label"><h5>Crew Cost:</h5></div>
					    				<div class="value" id="linkCrewCost"></div>
					    			</div>
					    			<div class="table-row">
					    				<div class="label"><h5>Airport Fees:</h5></div>
					    				<div class="value" id="linkAirportFees"></div>
					    			</div>
					    			<div class="table-row">
					    				<div class="label"><h5>Depreciation:</h5></div>
					    				<div class="value" id="linkDepreciation"></div>
					    			</div>
					    			<div class="table-row">
					    				<div class="label"><h5>Compensation:</h5></div>
					    				<div class="value" id="linkCompensation"></div>
					    			</div>
					    			<div class="table-row">
					    				<div class="label"><h5>Other Costs:</h5></div>
					    				<div class="value" id="linkOtherCosts"></div>
					    			</div>
					    			<div class="table-row">
					    				<div class="label"><h5>Flight Delays:</h5></div>
					    				<div class="value" id="linkDelays"></div>
					    			</div>
					    			<div class="table-row">
					    				<div class="label"><h5>Flight Cancellation:</h5></div>
					    				<div class="value" id="linkCancellations"></div>
					    			</div>
				    			</div>
				    			<div class="button" id="toggleLinkHistoryButton" onclick="toggleLinkHistoryView()">View Passenger Map</div>
				    			<div class="divider"></div>
				    			<h4>Direct Competitions</h4>
				    			<div class="table" id="linkCompetitons" style="width: 100%">
			    					<div class='table-header'>
			    						<div class="cell" style="width: 40%;"><h5>Airline</h5></div>
			    						<div class="cell" style="width: 30%;"><h5>Price</h5></div>
			    						<div class="cell" style="width: 15%;"><h5>Capacity</h5></div>
			    						<div class="cell" style="width: 15%;"><h5>Quality</h5></div>
			    					</div>
			    				</div>
			    				<div id=linkCompetitionsPie align="center"></div>
				    		</div>
				    		
			    			<div id="linkProfitChart" style="width: 50%; float: left; height: 170px;"></div>
			    			<div id="linkRidershipChart" style="width: 50%; float: left; height: 250px;"></div>
			    			<div id="linkRevenueChart" style="width: 50%; float: left; height: 250px;"></div>
			    			<div id="linkPriceChart" style="width: 50%; float: left; height: 250px;"></div>
			    		</div>
		    			<div id="planLinkDetails" style="width: 100%; display: none;">
		    				<h4>Plan Route Details</h4>
				    		<div class="table" style="width: 100%">
				    			<input type="hidden" id="planLinkFromAirportId"/>
				    			<input type="hidden" id="planLinkToAirportId"/>
					    		<div class="table-row">
					    			<div class="label"><h5>From:</h5></div>
				    				<div class="value">
				    					<span id="planLinkFromAirportName" class="clickable"></span>
				    					<img id="planLinkFromAirportEditIcon" src='@routes.Assets.versioned("images/icons/globe--pencil.png")' class='button' onclick="$('#planLinkFromAirportSelect').show()"  title="Change From Airport">
				    					<div class="value"><select id="planLinkFromAirportSelect" onchange="planLink($(this).val(), $('#planLinkToAirportId').val())"></select></div>
				    				</div>
					    		</div>
					    		<div class="table-row">
					    			<div class="label"><h5>To:</h5></div>
					    			<div class="value clickable" id="planLinkToAirportName"></div>
					    		</div>
					    		<div class="table-row">
					    			<div class="label"><h5>Flight Code:</h5></div>
					    			<div class="value clickable" id="planLinkFlightCode"></div>
					    		</div>
					    		<div class="table-row">
					    			<div class="label"><h5>Mutual Relationship:</h5></div>
					    			<div class="value" id="planLinkMutualRelationship"></div>
					    		</div>
				    			<div class="table-row">
					    			<div class="label"><h5>Distance:</h5></div>
					    			<div class="value" id="planLinkDistance"></div>
					    		</div>
					    		<div class="table-row">
					    			<div class="label"><h5>Direct Demand (Y/J/F):</h5></div>
					    			<div class="value" id="planLinkDirectDemand"></div>
					    		</div>
					    		<div class="table-row">
					    			<div class="label"><h5>Direct Competitions:</h5></div>
					    			<div class="value">
										<div class="table" id="planLinkCompetitons" style="width: 100%">
					    					<div class='table-row'>
					    						<div style="display: table-cell;"><h5>Airline</h5></div>
					    						<div style="display: table-cell;"><h5>Price</h5></div>
					    						<div style="display: table-cell;"><h5>Capacity</h5></div>
					    						<div style="display: table-cell;"><h5>Quality</h5></div>
					    					</div>
					    				</div>			    			
					    			</div> 
			    				</div>
			    				<div class="table-row">
					    			<div class="label"><h5>Setup Cost:</h5></div>
					    			<div class="value" id="planLinkCost"></div>
					    		</div>
			    				<div class="table-row" id="linkRejectionRow">
					    			<div class="label"></div>
					    			<div class="value"><img src='@routes.Assets.versioned("images/icons/prohibition.png")'><span id="linkRejectionReason" class="warning"></span></div>
					    		</div>
			    				
					    		<div class="table-row" id="planLinkModelRow">
					    			<div class="label"><h5>Airplane Model (available):</h5></div>
					    			<div class="value"><select id="planLinkModelSelect" onchange="updatePlanLinkInfoWithModelSelected($(this).val()); updateModelInfo($(this).val())"></select></div>
					    		</div>
					    	</div>
					    	<div class="table" style="width: 100%" id="planLinkExtendedDetails">
					    		<div class="table-row">
					    			<div class="label"><h5>Airplanes:</h5></div>
<!-- 					    			<div class="value"><select id="planLinkAirplaneSelect" multiple="multiple" onchange="updateFrequencyBar($('#planLinkModelSelect').val())"></select></div> -->
									<div class="value" id="planLinkAirplaneSelect"></div>
					    		</div>
					    		<div class="table-row">
					    			<div class="label"><h5>Flight Duration:</h5></div>
					    			<div class="value" id="planLinkDuration"></div>
					    		</div>
					    		<div class="table-row">
					    			<div class="label"><h5>Price (Y/J/F):</h5></div>
					    			<div class="value">
					    				<input type="text" id="planLinkEconomyPrice"/>
					    				<input type="text" id="planLinkBusinessPrice"/>
					    				<input type="text" id="planLinkFirstPrice"/>
					    				<img src='@routes.Assets.versioned("images/icons/plus-button.png")' class='button' onclick='increasePrice()'  title="Increase all price by 10% of Default">
					    				<img src='@routes.Assets.versioned("images/icons/minus-button.png")' class='button' onclick='decreasePrice()'  title="Decrease all price by 10% of Default">
					    				<img src='@routes.Assets.versioned("images/icons/arrow-circle-135.png")' class='button' onclick='resetPrice()'  title="Reset to Default Ticket Prices">
					    			</div>
					    		</div>
					    		<div class="table-row">
					    			<div class="label">
					    				<h5>
					    					<span>Flight Frequency:</span>
						    				<div class="tooltip">
						    					<img src='@routes.Assets.versioned("images/icons/information.png")'>
						    					<span class="tooltiptext">
							    					Increase/decrease the flight frequency by selecting/deselecting the airplane icons. <br/>
							    					<br/>
							    					Take note that the max frequency is limited by airplanes assigned and time slots allocated by both the departure and destination airports.<br/>
							    					<br/>
							    					Once flight service is established, airports will eventually open up more slots. Check regularly to increase flight frequency<br/>
							    					<img src='@routes.Assets.versioned("images/clips/flight-frequency.gif")'> 
						    					</span>
						    				</div>
					    				</h5>
					    			</div>
					    			<!--  <div class="value"><input type="text" id="planLinkFrequency"/></div> -->
					    			<div class="value"><div id="frequencyBar" data-empty-icon='@routes.Assets.versioned("images/icons/airplane-empty.png")' data-fill-icon='@routes.Assets.versioned("images/icons/airplane.png")'></div>
					    			<input type="hidden" id="planLinkFrequency" value="1"/></div>
					    		</div>
					    		<div class="table-row">
					    			<div class="label"></div>
					    			<div class="value" style="padding-bottom: 15px"><h6><span id="planLinkLimitingFactor" class='warning'></span></h6></div>
					    		</div>
					    		<div class="table-row">
					    			<div class="label"><h5>Capacity (Y/J/F):</h5></div>
					    			<div class="value" id="planLinkCapacity"></div>
					    		</div>
					    		<div class="table-row">
					    			<div class="label">
					    				<h5>
					    					<span>Seat Configurations:</span>
					    					<div class="tooltip">
						    					<img src='@routes.Assets.versioned("images/icons/information.png")'>
						    					<span class="tooltiptext">
							    					Change class configuration of the cabin<br/>
							    					<br/>
							    					Y - Economy class<br/>
							    					J - Business class<br/>
							    					F - First class<br/>
							    					<br/>
							    					<img src='@routes.Assets.versioned("images/clips/seat-configuration.gif")'> 
						    					</span>
						    				</div>
					    				</h5>
					    			</div>
					    			<div class="value"><div id="seatConfigurationGauge"></div></div>
					    		</div>
					    		<div class="table-row">
					    			<div class="label"><h5>Service Level:</h5></div>
					    			<div class="value"><div id="serviceLevelBar"  data-empty-icon='@routes.Assets.versioned("images/icons/star-empty.png")' data-fill-icon='@routes.Assets.versioned("images/icons/star.png")'></div>
					    			<input type="hidden" id="planLinkServiceLevel" value="1"/></div>
					    		</div>
				    		</div>
				    		<div class="button" id="addLinkButton" onclick="createLink()">Create</div>
				    		<div class="button" id="updateLinkButton" onclick="createLink()">Update</div>
				    		<div class="button" id="deleteLinkButton" onclick="promptConfirm('Delete this route?', deleteLink)">Delete</div>
				    		<div class="button" id="cancelLinkButton" onclick="cancelPlanLink()">Cancel</div>
				    	</div>
			    	</div>
	<!-- 		    	end details panel -->
		   			<div id="extendedPanel" class="section" style="width: 95%; float: left; display: none;">
		   				<div id="airplaneModelDetails" style="width: 100%; display: none;">
							<div class="table">
								<h4>Airplane Model Details</h4>
			<!-- 					Model : <select id="airplaneModelOption" onchange="updateModelInfo()"></select><br/> -->
								<div class="table-row">
					    			<div class="label"><h5>Model:</h5></div>
					    			<div class="value" id="modelName"></div>
						    	</div>
						    	<div class="table-row">
					    			<div class="label"><h5>Max Capacity:</h5></div>
					    			<div class="value" id="capacity"></div>
						    	</div>
						    	<div class="table-row">
					    			<div class="label"><h5>Max Flying Range:</h5></div>
					    			<div class="value" id="range"></div>
						    	</div>
						    	<div class="table-row">
					    			<div class="label"><h5>Fuel Burn:</h5></div>
					    			<div class="value" id="fuelBurn"></div>
						    	</div>
						    	<div class="table-row">
					    			<div class="label"><h5>Speed:</h5></div>
					    			<div class="value" id="speed"></div>
						    	</div>
						    	<div class="table-row">
					    			<div class="label"><h5>Max Lifespan:</h5></div>
					    			<div class="value" id="lifespan"></div>
						    	</div>
						    	<div class="table-row">
					    			<div class="label"><h5>Country:</h5></div>
					    			<div class="value" id="airplaneCountry"></div>
						    	</div>
						    	<div class="table-row">
					    			<div class="label"><h5>Purchase Price:</h5></div>
					    			<div class="value" id="price"></div>
						    	</div>
						    	<div class="table-row">
					    			<div class="label"><h5>Delivery Time:</h5></div>
					    			<div class="value delivery"></div>
						    	</div>
						    	<div class="button add" onclick="addAirplane($('#airplaneModelDetails #selectedModel').val(), 1, true)">Purchase</div>
						    	<input type="hidden" id="selectedModel"/>
							</div>
							<div class="rejection">
				    			<img src='@routes.Assets.versioned("images/icons/prohibition.png")'><span class="warning rejectionSpan"></span>
					    	</div>
					    </div>
					</div>
<!-- 				end extended panel -->
	    	   </div>
<!-- 	    	   end bottom panel -->
  			</div>
<!--   			end world map canvas -->
			<div id="linksCanvas" style="display: none; height: 100%">
				<div style="height: 90% ; width : 50%; float: left;" class="mainPanel">
  					<div class="section" style="height: 95% ; width : 95%; float: left;"> 
		  	  			<div class="table data" style="height: 20px; width: 100%">
		 	  				<div class="table-header" id="linksTableSortHeader">
		 	  					<div class="cell clickable selected" style="width: 20%" data-sort-property="fromAirportCity" data-sort-order="descending" onclick="toggleLinksTableSortOrder($(this))">From Airport</div>
		 	  					<div class="cell clickable" style="width: 20%" data-sort-property="toAirportCity" data-sort-order="descending" onclick="toggleLinksTableSortOrder($(this))">To Airport</div>
		 	  					<div class="cell clickable" style="width: 9%" align="right" data-sort-property="distance" data-sort-order="ascending" onclick="toggleLinksTableSortOrder($(this))">Distance</div>
		 	  					<div class="cell clickable" style="width: 9%" align="right" data-sort-property="totalCapacity" data-sort-order="ascending" onclick="toggleLinksTableSortOrder($(this))">Capacity</div>
		 	  					<div class="cell clickable" style="width: 9%" align="right" data-sort-property="totalPassengers" data-sort-order="ascending" onclick="toggleLinksTableSortOrder($(this))">Passenger</div>
		 	  					<div class="cell clickable" style="width: 15%" align="right" data-sort-property="revenue" data-sort-order="ascending" onclick="toggleLinksTableSortOrder($(this))">Revenue</div>
		 	  					<div class="cell clickable" style="width: 15%" align="right" data-sort-property="profit" data-sort-order="ascending" onclick="toggleLinksTableSortOrder($(this))">Profit</div>
							</div>
	         			</div>
	         			<div style="height: calc(100% - 20px); width: 100%; overflow: auto;">
		         			<div class="table data" id="linksTable" style="max-height: 100%; width: 100%">
			 	  				<div class="table-header">
			 	  					<div class="cell" style="width: 20%; border-bottom: none;"></div>
			 	  					<div class="cell" style="width: 20%; border-bottom: none;"></div>
			 	  					<div class="cell" style="width: 9%; border-bottom: none;"></div>
			 	  					<div class="cell" style="width: 9%; border-bottom: none;"></div>
			 	  					<div class="cell" style="width: 9%; border-bottom: none;"></div>
			 	  					<div class="cell" style="width: 15%; border-bottom: none;"></div>
			 	  					<div class="cell" style="width: 15%; border-bottom: none;"></div>
								</div>
		         			</div>
	         			</div>
	         		</div>
				</div>					  				
  				<!--  Link details here -->
  			</div>
<!--  end links canvas -->

  			<div id="airportCanvas" style="display: none;">
  				<!-- left panel -->
  				<div style="width: 30%; float: left;">
	  				<div id="airportMap" style="width: 100%; padding-top: 100%; postition: relative;" data-city-marker='@routes.Assets.versioned("images/markers/city.png")' data-town-marker='@routes.Assets.versioned("images/markers/town.png")'  data-village-marker='@routes.Assets.versioned("images/markers/village.png")' data-airport-marker='@routes.Assets.versioned("images/markers/airport.png")'></div>
	<!--   				<div id="airportSchedule" style="width: 900px; height: 400px; float: left;"></div> -->
					<div id="airportDetailsCityImage" style="width: 50%; float:left;"></div>
					<div id="airportDetailsAirportImage" style="width: 50%;  float:left;"></div>
					<div style="clear: both;"></div>
  				</div>
  				<div style="width: 70%; float: right;"> <!-- take up whatever is left -->
  					<div id="airportBaseDetails" class="section" style="width: 90%; float:left;">
  						<h4>Your Airline Headquarter/Base</h4>
						<div class="table" style="width: 50%">
							<div class="table-row">
			    				<div class="label" style="width: 50%"><h5>Base Type:</h5></div>
			    				<div class="value" id="airportDetailsBaseType" style="width: 50%"></div>
			    			</div>
							<div class="table-row">
		    					<div class="label"><h5>Base Scale:</h5></div>
		    					<div class="value" id="airportDetailsBaseScale"></div>
		    				</div>
		    				<div class="table-row">
			    				<div class="label"><h5>Base Upkeep:</h5></div>
			    				<div class="value" id="airportDetailsBaseUpkeep"></div>
			    			</div>
			    			<div class="table-row">
			    				<div class="label"><h5>Build/Upgrade Cost:</h5></div>
			    				<div class="value" id="airportDetailsBaseUpgradeCost"></div>
			    			</div>
			    			<div class="table-row">
			    				<div class="label"><h5>Base Upkeep after upgrade:</h5></div>
			    				<div class="value" id="airportDetailsBaseUpgradeUpkeep"></div>
			    			</div>
						</div>
  						<div id="baseRejection" style="display:none;">
			    			<img src='@routes.Assets.versioned("images/icons/prohibition.png")'><span id="baseRejectionReason" class="warning"></span>
			    		</div>
			    		<div class="button" id="buildHeadquarterButton" style="display: none;" onclick="buildBase(true)">Build Headquarter</div>
    					<div class="button" id="buildBaseButton" style="display: none;" onclick="buildBase(false)">Build Base</div>
    					<div class="button" id="upgradeBaseButton" data-scale="" style="display: none;" onclick="buildBase(false, parseInt($('#airportDetailsBaseScale').text()) + 1)">Upgrade Base</div>
    					<div class="button" id="deleteBaseButton" style="display: none;" onclick='promptConfirm("Remove this base? All routes from this airport will also be removed.", deleteBase)'>Remove Base</div>
    					
<!--     					<div class="button" onclick="showWorldMap()">Cancel</div> -->
  					</div>
  					<div id="airportDetails" class="section" style="width: 90%; float:left;">
  						<h4>Airport Details</h4>
  						<div class="table" style="width: 50%; float: left">
  							<div class="table-row">
			    				<div class="label" style="width:50%;"><h5>Airport:</h5></div>
			    				<div class="value" id="airportDetailsName" style="width:50%;"></div>
			    			</div>
			    			<div class="table-row">			    		
				   				<div class="label"><h5>City:</h5></div>
				   				<div class="value" id="airportDetailsCity"></div>
				   			</div>
				   			<div class="table-row">
				   				<div class="label"><h5>Airport scale:</h5></div>
				   				<div class="value" id="airportDetailsSize"></div>
				   			</div>
				   			<div class="table-row">
				   				<div class="label"><h5>Population Coverage:</h5></div>
				   				<div class="value" id="airportDetailsPopulation"></div>
				   			</div>
				   			<div class="table-row">
				   				<div class="label"><h5>Average income level:</h5></div>
				   				<div class="value" id="airportDetailsIncomeLevel"></div>
				   			</div>
				   			<div class="table-row">
				   				<div class="label"><h5>Slots (available / total):</h5></div>
				   				<div class="value airportSlots" id="airportDetailsSlots"></div>
				   			</div>
				   			<div class="table-row">
				   				<div class="label">
				   					<h5>
				   						<span>Slots for your airline (available / offered):</span>
				   						<div class="tooltip">
					    					<img src='@routes.Assets.versioned("images/icons/information.png")'>
					    					<span class="tooltiptext" style="width: 400px;">
						    					Airport allocates time slots to your airline based on:<br/>
						    					- Base size in this airport if present<br/>
						    					- Loyalty to your airline<br/>
						    					- Awareness of your airline<br/>
						    					- Airline Reputation<br/>
												- Relationship with your home country<br/>
												- Country Openness<br/>
					    					</span>
					    				</div>
				   					</h5>
				   				</div>
				   				<div class="value airportAssignedSlots" id="airportDetailsAssignedSlots"></div>
				   			</div>
				   			<div class="table-row">
				   				<div class="label">
				   					<h5>
				   						<span>Awareness of your airline:</span>
				   						<div class="tooltip">
					    					<img src='@routes.Assets.versioned("images/icons/information.png")'>
					    					<span class="tooltiptext" style="width: 400px;">
					    						Airport awareness affects:<br/>
					    						- How likely a passenger from this airport will consider your route for his trip<br/>
					    						- How many time slots will this airport offer to your airline initially (at 0 loyalty)<br/>
					    						<br/>
						    					Airport awareness builds up slowly by:<br/>
						    					- Routes serving this airport offered by your airline<br/>
						    					- Airline base in this airport if present 
					    					</span>
					    				</div>
				   					</h5>
				   				</div>
				   				<div class="value airportAwareness" id="airportDetailsAwareness"></div>
				   			</div>
				   			<div class="table-row">
				   				<div class="label">
				   					<h5>
				   						<span>Loyalty to your airline:</span>
				   						<div class="tooltip">
					    					<img src='@routes.Assets.versioned("images/icons/information.png")'>
					    					<span class="tooltiptext" style="width: 400px;">
					    						Airport loyalty affects:<br/>
					    						- How likely a passenger from this airport would choose your airline<br/>
					    						- How many time slots will this airport offer to your airline<br/>
					    						<br/>
						    					Airport loyalty builds up slowly by:<br/>
						    					- Passenger volume of your airline in this airport<br/>
						    					- Overall flight quality of routes serving this airport offered by your airline<br/>
						    					- Airline base in this airport if present 
					    					</span>
					    				</div>
				   					</h5>
				   				</div>
				   				<div class="value airportLoyalty" id="airportDetailsLoyalty"></div>
				   			</div>
				   			<div class="table-row">
				   				<div class="label"><h5>Relationship with your country:</h5></div>
				   				<div class="value airportRelationship" id="airportDetailsRelationship"></div>
				   			</div>
				   			<div class="table-row">
				   				<div class="label"><h5>Country market openness:</h5></div>
				   				<div class="value" id="airportDetailsOpenness"></div>
				   			</div>
		    			</div>
		    			<div class="table" style="width: 50%; float: left">
		    				<div class="table-row">
				   				<div class="label"><h5>Country:</h5></div>
				   				<div class="value"><span id="airportDetailsCountry"></span></div>
				   			</div>
				   			<div class="table-row">
				   				<div class="label"><h5>Zone:</h5></div>
				   				<div class="value"><span id="airportDetailsZone"></span></div>
				   			</div>
  							<div class="table-row">
			    				<div class="label"><h5>Weekly Passengers:</h5></div>
			    				<div class="value" id="airportDetailsPassengerCount"></div>
			    			</div>
			    			<div class="table-row">
			    				<div class="label"><h5>Total Flight Routes:</h5></div>
			    				<div class="value" id="airportDetailsLinkCount"></div>
			    			</div>
			    			<div class="table-row">
			    				<div class="label"><h5>Weekly Flight Movements:</h5></div>
			    				<div class="value" id="airportDetailsFlightFrequency"></div>
			    			</div>
			    			<div class="table-row">
			    				<div class="label"><h5>Connected Airports:</h5></div>
			    				<div class="value" id="airportDetailsConnectedAirportCount"></div>
			    			</div>
			    			<div class="table-row">
			    				<div class="label"><h5>Connected Countries:</h5></div>
			    				<div class="value" id="airportDetailsConnectedCountryCount"></div>
			    			</div>
			    			<div class="table-row">
			    				<div class="label"><h5>Served By Airlines:</h5></div>
			    				<div class="value" id="airportDetailsAirlineCount"></div>
			    			</div>
			    			<div class="table-row">
			    				<div class="label"><h5>IATA:</h5></div>
			    				<div class="value" id="airportDetailsIata"></div>
			    			</div>
			    			<div class="table-row">
			    				<div class="label"><h5>ICAO:</h5></div>
			    				<div class="value" id="airportDetailsIcao"></div>
			    			</div>
		    			</div>
		    			<div id="airportStatistics" style="width: 100%; float: left;">
			  				<div style="float: left;">
			  					<h5 align="center">Airline share (as Departure)</h5>
			  					<div id="airlineDeparturePie" style="height: 160px; width: 250px;" align="center"></div>
			  				</div>
			  				<div style="float: left;">	
			  					<h5 align="center">Airline share (as Arrival)</h5>
			  					<div id="airlineArrivalPie" style="height: 160px; width: 250px;" align="center"></div>
			  				</div>
			  				<div style="float: left;">
			  					<h5 align="center">Passenger Transit Type</h5>	
			  					<div id="transitTypePie" style="height: 160px; width: 250px;" align="center"></div>
			 				</div>
		  				</div>
		    		</div>
<!-- 		    		end main details -->
  					<div class="section" style="width: 90%; float:left;">
						<div style="float: left;"><img src='@routes.Assets.versioned("images/icons/building-hedge.png")'></div><div style="float: left;"><h4>Airline Headquarters</h4></div>
						<div id="airportDetailsHeadquarterList" style="width: 100%; margin-bottom: 15px;" class="table">
							<div class="table-header">
		 	  					<div class="cell" style="width: 50%">Airline</div>
		 	  					<div class="cell" style="width: 10%; text-align: right;">Office Scale</div>
		 	  					<div class="cell" style="width: 10%; text-align: right;">Flight Routes</div>
		 	  					<div class="cell" style="width: 30%; text-align: right;">Weekly Passengers</div>
							</div>
						</div>
						<div style="float: left;"><img src='@routes.Assets.versioned("images/icons/building-low.png")'></div><div style="float: left;"><h4>Airline Bases</h4></div>
						<div id="airportDetailsBaseList" style="width: 100%;" class="table">
							<div class="table-header">
		 	  					<div class="cell" style="width: 50%">Airline</div>
		 	  					<div class="cell" style="width: 10%; text-align: right;">Office Scale</div>
		 	  					<div class="cell" style="width: 10%; text-align: right;">Flight Routes</div>
		 	  					<div class="cell" style="width: 30%; text-align: right;">Weekly Passengers</div>
							</div>
						</div>
  					</div>
  				</div>
  				<div style="clear: both;"></div>
  			</div>
<!--   			end airport canvas -->
			<div id="departuresCanvas" style="display: none; height: 100%">
  				<div style="height: 610px ; width : 1200px; float: left;" class="section"> 
					<div class="title" style="float: left;">Departures</div>
					<div id="weather" style="float: right;">
						<div style="float: right;">
							<div id="weatherDescription"></div>
							<div id="temperature"></div>
						</div>
						<div style="float: right;"><img id="weatherIcon" style="width: 30px; height: 30px;" src="#"></div>
					</div>
					<div style="clear: both;"></div>
					<div style="float: left; width:33%;">
						<div id="departures1" class="table departures" style="width: 100%;">
							<div class="table-header">
		 	  					<div class="cell" style="width: 15%">Sch.</div>
		 	  					<div class="cell" style="width: 20%">Flight</div>
		 	  					<div class="cell" style="width: 40%">Destination</div>
		 	  					<div class="cell" style="width: 25%">Status</div>
	 	  					</div>
						</div>			
					</div>		  	  			
					<div style="float: left; width:33%;">
						<div id="departures2" class="table departures" style="width: 100%;">
							<div class="table-header">
		 	  					<div class="cell" style="width: 15%">Sch.</div>
		 	  					<div class="cell" style="width: 20%">Flight</div>
		 	  					<div class="cell" style="width: 40%">Destination</div>
		 	  					<div class="cell" style="width: 25%">Status</div>
	 	  					</div>
						</div>
					</div>
					<div style="float: left; width:34%;">
						<div id="departures3" class="table departures" style="width: 100%;">
							<div class="table-header">
		 	  					<div class="cell" style="width: 15%">Sch.</div>
		 	  					<div class="cell" style="width: 20%">Flight</div>
		 	  					<div class="cell" style="width: 40%">Destination</div>
		 	  					<div class="cell" style="width: 25%">Status</div>
	 	  					</div>
						</div>
					</div>
					
				</div>					  				
  			</div>
  			<!--  end departures canvas -->
  			<div id="countryCanvas" style="height: 100%; display: none;">
  				<div class="mainPanel" style="width : 50%; float: left; height: 95%">
  					<div style="height: 95% ; width : 95%; float: left;" class="section"> 
	  	  				<div id="countryTableHeader" class="table data" style="width: 100%; height: 20px;">
	 	  					<div class="table-header">
	 	  						<div class="cell" style="width: 5%"></div>
	 	  						<div class="cell clickable" style="width: 19%" data-sort-property="name" data-sort-order="descending" onclick="toggleCountryTableSortOrder($(this))">Name</div>
	 	  						<div class="cell clickable selected" style="width: 19%" align="right" data-sort-property="airportPopulation" data-sort-order="descending" onclick="toggleCountryTableSortOrder($(this))">Airport Population Coverage</div>
	 	  						<div class="cell clickable" style="width: 19%" align="right" data-sort-property="incomeLevel" data-sort-order="ascending" onclick="toggleCountryTableSortOrder($(this))">Income Level</div>
		 	  					<div class="cell clickable" style="width: 19%" align="right" data-sort-property="openness" data-sort-order="ascending" onclick="toggleCountryTableSortOrder($(this))">Openness</div>
	 	  						<div class="cell clickable" style="width: 19%" align="right" data-sort-property="mutualRelationship" data-sort-order="ascending" onclick="toggleCountryTableSortOrder($(this))">Relationship</div>
							</div>
        	 			</div>
         				<div style="height:  calc(100% - 20px); width: 100%; overflow: auto;">
	         				<div id="countryTable" class="table data" style="height: 100%; width: 100%;">
	         				 	<div class="table-header">
		 	  						<div class="cell" style="width: 5%; border-bottom: none;"></div>
		 	  						<div class="cell" style="width: 19%; border-bottom: none;"></div>
			 	  					<div class="cell" style="width: 19%; border-bottom: none;"></div>
			 	  					<div class="cell" style="width: 19%; border-bottom: none;"></div>
			 	  					<div class="cell" style="width: 19%; border-bottom: none;"></div>
		 	  						<div class="cell" style="width: 19%; border-bottom: none;"></div>
								</div>
	        				</div>
        				</div>
        			</div>
				</div>		
				<div class="sidePanel" style="width: 50%; float: left;">
					<div class="section" style="width: 95%; float: left;"> 
		  				<div id="countryDetails" class="table" style="width: 100%;">
		  					<div class="table-row">
			    				<div class="label"><h5>Country:</h5></div>
			    				<div class="value" id="countryDetailsName"></div>
			    			</div>
			    			<div class="table-row">
			    				<div class="label"><h5>Income Level:</h5></div>
			    				<div class="value" id="countryDetailsIncomeLevel"></div>
			    			</div>
			    			<div class="table-row">
			    				<div class="label"><h5>Market Openness:</h5></div>
			    				<div class="value" id="countryDetailsOpenness"></div>
			    			</div>
			    			<div class="table-row">
			    				<div class="label"><h5>Relationship with your home country:</h5></div>
			    				<div class="value" id="countryDetailsMutualRelationship"></div>
			    			</div>
			    			<div class="table-row">
			    				<div class="label"><h5>Large Airports:</h5></div>
			    				<div class="value" id="countryDetailsLargeAirportCount"></div>
			    			</div>
			    			<div class="table-row">
			    				<div class="label"><h5>Medium Airports:</h5></div>
			    				<div class="value" id="countryDetailsMediumAirportCount"></div>
			    			</div>
			    			<div class="table-row">
			    				<div class="label"><h5>Small Airports:</h5></div>
			    				<div class="value" id="countryDetailsSmallAirportCount"></div>
			    			</div>
			    			<div class="table-row">
			    				<div class="label"><h5>Airline Headquarters:</h5></div>
			    				<div class="value" id="countryDetailsAirlineHeadquarters"></div>
			    			</div>
			    			<div class="table-row">
			    				<div class="label"><h5>Airline Bases:</h5></div>
			    				<div class="value" id="countryDetailsAirlineBases"></div>
			    			</div>
			    			<div class="table-row">
			    				<div class="label"><h5>Champion Airline:</h5></div>
			    				<div class="value" id="countryDetailsChampion"></div>
			    			</div>
			    		</div>
		    			<div id="countryDetailsSharesChart" style="height: 170px;"></div>
		    		</div>
	    		</div>
  			</div>
<!--   			end country canvas -->
  			<div id="airplaneCanvas" style="height: 100%; display: none;">
  				<div style="height: 90% ; width : 65%; float: left;" class="mainPanel">
  					<div style="height: 95% ; width : 95%; float: left;" class="section"> 
		  	  			<div class="table data" style="height: 20px; width: 100%">
		 	  				<div class="table-header" id="airplaneModelSortHeader">
		 	  					<div class="cell clickable" style="width: 20%" data-sort-property="name" data-sort-order="ascending" onclick="toggleAirplaneModelTableSortOrder($(this))">Name</div>
		 	  					<div class="cell clickable selected" style="width: 14%" align="right" data-sort-property="price" data-sort-order="ascending" onclick="toggleAirplaneModelTableSortOrder($(this))">Price</div>
		 	  					<div class="cell clickable" style="width: 11%" align="right" data-sort-property="capacity" data-sort-order="ascending" onclick="toggleAirplaneModelTableSortOrder($(this))">Capacity</div>
		 	  					<div class="cell clickable" style="width: 11%" align="right" data-sort-property="range" data-sort-order="ascending" onclick="toggleAirplaneModelTableSortOrder($(this))">Max Range</div>
		 	  					<div class="cell clickable" style="width: 11%" align="right" data-sort-property="fuelBurn" data-sort-order="ascending" onclick="toggleAirplaneModelTableSortOrder($(this))">Fuel Burn</div>
		 	  					<div class="cell clickable" style="width: 11%" align="right" data-sort-property="lifespan" data-sort-order="ascending" onclick="toggleAirplaneModelTableSortOrder($(this))">Lifespan</div>
		 	  					<div class="cell clickable" style="width: 11%" align="right" data-sort-property="speed" data-sort-order="ascending" onclick="toggleAirplaneModelTableSortOrder($(this))">Speed</div>
		 	  					<div class="cell clickable" style="width: 11%" align="right" data-sort-property="totalOwned" data-sort-order="descending" onclick="toggleAirplaneModelTableSortOrder($(this))">Inventory</div>
							</div>
	         			</div>
	         			<div style="height: calc(100% - 20px); width: 100%; overflow: auto;">
		         			<div class="table data" id="airplaneModelTable" style="max-height: 100%; width: 100%">
			         			<div class="table-header">
			 	  					<div class="cell" style="width: 20%; border-bottom: none;"></div>
			 	  					<div class="cell" style="width: 14%; border-bottom: none;"></div>
			 	  					<div class="cell" style="width: 11%; border-bottom: none;"></div>
			 	  					<div class="cell" style="width: 11%; border-bottom: none;"></div>
			 	  					<div class="cell" style="width: 11%; border-bottom: none;"></div>
			 	  					<div class="cell" style="width: 11%; border-bottom: none;"></div>
			 	  					<div class="cell" style="width: 11%; border-bottom: none;"></div>
			 	  					<div class="cell" style="width: 11%; border-bottom: none;"></div>
								</div>
		         			</div>
	         			</div>
	         		</div>	
				</div>
<!-- 				end left panel				  					 -->
				<div style="width: 35%; float: left" class="sidePanel">
					<div id="airplaneModelDetail" style="width: 100%; float: left; display: none;">
						<div class="section" style="width: 95%;">
							<div id="modelIllustration" style="width:100%; position: relative; max-width: 500px;">
								<img src='#' style="width: 100%;">
								<div class="label" style="right: 0px; bottom: 0px; position: absolute; font-style: italic;"><a href='#' target="_blank">Illustration courtesy of Norebbo</a></div>
							</div>
							
							<div class="table" style="width: 100%;">
<!-- 								<h4>Airplane Model Details</h4> -->
								<div class="table-row">
					    			<div class="label"><h5>Model:</h5></div>
					    			<div class="value" id="modelName"></div>
						    	</div>
						    	<div class="table-row">
					    			<div class="label"><h5>Max Capacity:</h5></div>
					    			<div class="value" id="capacity"></div>
						    	</div>
						    	<div class="table-row">
					    			<div class="label"><h5>Max Flying Range:</h5></div>
					    			<div class="value" id="range"></div>
						    	</div>
						    	<div class="table-row">
					    			<div class="label"><h5>Fuel Burn:</h5></div>
					    			<div class="value" id="fuelBurn"></div>
						    	</div>
						    	<div class="table-row">
					    			<div class="label"><h5>Speed:</h5></div>
					    			<div class="value" id="speed"></div>
						    	</div>
						    	<div class="table-row">
					    			<div class="label"><h5>Max Lifespan:</h5></div>
					    			<div class="value" id="lifespan"></div>
						    	</div>
						    	<div class="table-row">
					    			<div class="label"><h5>Country:</h5></div>
					    			<div class="value" id="airplaneCountry"></div>
						    	</div>
						    	<div class="table-row">
					    			<div class="label"><h5>Purchase Price:</h5></div>
					    			<div class="value" id="price"></div>
						    	</div>
						    	<div class="table-row">
					    			<div class="label"><h5>Delivery Time:</h5></div>
					    			<div class="value delivery"></div>
						    	</div>
						    	<div class="button add" onclick="addAirplane($('#airplaneCanvas #selectedModel').val(), 1, false)">Purchase</div>
						    	<input type="hidden" id="selectedModel"/>
				    		</div>
				    		<div class="rejection">
				    			<img src='@routes.Assets.versioned("images/icons/prohibition.png")'><span class="warning rejectionSpan"></span>
					    	</div>
					    </div>
			    		<div class="section" style="width : 95%; float: left; overflow: auto;">
		  					<h4>Inventory</h4>
					  		<div id="airplaneInventoryList"></div>
		  				</div>
			    		<div id="ownedAirplaneDetail" class="table section" style="width: 95%; display: none;">
			    			<h4>Owned Airplane Details</h4>
			    			<div class="table-row">
				    			<div class="label"><h5>Airplane ID:</h5></div>
				    			<div class="value" id="airplaneDetailsId"></div>
					    	</div>
		    				<div class="table-row">
				    			<div class="label"><h5>Condition:</h5></div>
				    			<div class="value" id="airplaneDetailsCondition"></div>
					    	</div>
					    	<div class="table-row" id="airplaneDetailsAgeRow">
				    			<div class="label"><h5>Age:</h5></div>
				    			<div class="value" id="airplaneDetailsAge"></div>
					    	</div>
					    	<div class="table-row" id="airplaneDetailsDeliveryRow">
				    			<div class="label"><h5>Deliver in:</h5></div>
				    			<div class="value" id="airplaneDetailsDelivery" style="font-weight: bold;"></div>
					    	</div>
					    	<div class="table-row">
				    			<div class="label"><h5>Selling Value:</h5></div>
				    			<div class="value" id="airplaneDetailsSellValue"></div>
					    	</div>
					    	<div class="table-row">
				    			<div class="label"><h5>Replace Cost:</h5></div>
				    			<div class="value" id="airplaneDetailsReplaceCost"></div>
					    	</div>
					    	<div class="table-row">
				    			<div class="label"><h5>Assigned Route:</h5></div>
				    			<div class="value" id="airplaneDetailsLink"></div>
					    	</div>
					    	<input type="hidden" id="actionAirplaneId">
					    	<div class="rejection">
				    			<img src='@routes.Assets.versioned("images/icons/prohibition.png")'><span class="warning">Not enough cash to replace this airplane</span>
					    	</div>
			   				<div class="button" id ="sellAirplaneButton" onclick="sellAirplane($('#actionAirplaneId').val())">Sell</div>
			   				<div class="button" id ="replaceAirplaneButton" onclick="replaceAirplane($('#actionAirplaneId').val())">Replace</div>
			    		</div>
			    	</div>
			    </div> 
<!-- 			    end right panel -->
  			</div>
<!--   			end airplane canvas -->
			<div id="officeCanvas" style="height: 100%; display: none;">
				<div style="width : 70%; float: left;">
					<div class="section" style="width: 95%; float: left;">
						<h4>Airline Details</h4>
						<div class="table" style="width: 50%; float: left;">
							<div class="table-row">
		 	  					<div class="cell label">Airline Code:</div>
		 	  					<div class="cell value">
		 	  						<span id="airlineCodeDisplaySpan">
		 	  							<span id="airlineCode"></span>
		 	  							<img src='@routes.Assets.versioned("images/icons/gear.png")' class='button' style="vertical-align: middle;" onclick="editAirlineCode()"/>	
		 	  						</span>
		 	  						<span id="airlineCodeInputSpan" style="display: none;">
		 	  							<input id="airlineCodeInput" type="text" onkeyup="validateAirlineCode($(this).val())"/>
		 	  							<img src='@routes.Assets.versioned("images/icons/tick.png")' class='button' style="vertical-align: middle;" onclick="setAirlineCode($('#airlineCodeInput').val())"/>
		 	  							<span class="warning" style="display:none;">Code should be exactly 2 letters</span>
		 	  						</span>
		 	  					</div>
		 	  				</div>
		 	  				<div class="table-row">
		 	  					<div class="cell label">Airline Logo:</div>
		 	  					<div class="cell value">
		 	  						<img class="airlineLogo" src='#'>
		 	  						<img src='@routes.Assets.versioned("images/icons/gear.png")' class='button' style="vertical-align: middle;" onclick="editAirlineLogo()"/>
		 	  						<img src='@routes.Assets.versioned("images/icons/picture--plus.png")' class='button' style="vertical-align: middle;" onclick="showUploadLogo()"/>
		 	  					</div>
		 	  				</div>
		 	  				<div class="table-row">
		 	  					<div class="cell label">Airline Color:</div>
		 	  					<div class="cell value">
		 	  						<div id="colorPicker3">
								        <a class="color"><div class="colorInner"></div></a>
								        <div class="track"></div>
								        <ul class="dropdown"><li></li></ul>
								        <input type="hidden" class="colorInput">
								    </div>
		 	  					</div>
		 	  				</div>
		 	  				<div class="table-row">
		 	  					<div class="cell label">Destinations:</div>
		 	  					<div id="destinations" class="cell value"></div>
		 	  				</div>
		 	  				<div class="table-row">
		 	  					<div class="cell label">Fleet Size:</div>
		 	  					<div id="fleetSize" class="cell value"></div>
		 	  				</div>
		 	  				<div class="table-row">
		 	  					<div class="cell label">Fleet Age:</div>
		 	  					<div id="fleetAge" class="cell value"></div>
		 	  				</div>
		 	  				<div class="table-row">
		 	  					<div class="cell label">Assets:</div>
		 	  					<div id="assets" class="cell value"></div>
		 	  				</div>
		         		</div>
	  					<div class="table" style="width: 50%; float: left;">
	  						<div class="table-row">
		 	  					<div class="cell label">Domestic Route (current/limit):</div>
		 	  					<div id="domesticLinkCount" class="cell value"></div>
		 	  				</div>
		 	  				<div class="table-row">
		 	  					<div class="cell label">Regional Route (current/limit):</div>
		 	  					<div id="regionalLinkCount" class="cell value"></div>
		 	  				</div>
		 	  				<div class="table-row">
		 	  					<div class="cell label">Intercontinental Route (current/limit):</div>
		 	  					<div id="intercontinentalLinkCount" class="cell value"></div>
		 	  				</div>
		 	  				<div class="table-row">
		 	  					<div class="cell label">Current Service Quality:</div>
		 	  					<div id="currentServiceQuality" class="cell value"></div>
		 	  				</div>
		 	  				<div class="table-row">
		 	  					<div class="cell label">Service Funding (weekly):</div>
		 	  					<div class="cell value">
		 	  						<span id="serviceFundingDisplaySpan">
		 	  							<span id="serviceFunding"></span>
		 	  							<img src='@routes.Assets.versioned("images/icons/gear.png")' class='button' style="vertical-align: middle;" onclick="editServiceFunding()"/>	
		 	  						</span>
		 	  						<span id="serviceFundingInputSpan">
		 	  							<input id="serviceFundingInput" type="text"/>
		 	  							<img src='@routes.Assets.versioned("images/icons/tick.png")' class='button' style="vertical-align: middle;" onclick="setServiceFunding($('#serviceFundingInput').val())"/>
		 	  						</span>
		 	  					</div>
		 	  				</div>
		 	  				<div class="table-row">
		 	  					<div class="cell label">Change Prediction:</div>
		 	  					<div id="servicePrediction" class="cell value"></div>
		 	  				</div>
		 	  				<div class="table-row">
		 	  					<div class="cell label">Auto Airplane Renewal:</div>
		 	  					<div class="cell value">
		 	  						<span id="airplaneRenewalDisplaySpan">
		 	  							<span id="airplaneRenewal"></span>
		 	  							<img src='@routes.Assets.versioned("images/icons/gear.png")' class='button' style="vertical-align: middle;" onclick="editAirplaneRenewal()"/>	
		 	  						</span>
		 	  						<span id="airplaneRenewalInputSpan" style="display:none;">
		 	  							Condition Below&nbsp;<input id="airplaneRenwalInput" type="text" maxlength="2" size="2"/>%
		 	  							<img src='@routes.Assets.versioned("images/icons/tick.png")' class='button' style="vertical-align: middle;" onclick="setAirplaneRenewal($('#airplaneRenwalInput').val())"/>
		 	  							<img src='@routes.Assets.versioned("images/icons/cross.png")' class='button' style="vertical-align: middle;" onclick="setAirplaneRenewal()"/>
		 	  						</span>
		 	  					</div>
		 	  				</div>
		         		</div>  
		         		<div style="clear: both;"></div>
		    		</div>
					<div style="width : 95%; float: left;" class="section">
						<h4>Income Sheet</h4>
						<div>
							<img src='@routes.Assets.versioned("images/icons/arrow-180.png")' class="button" onclick="incomeHistoryStep(-1)"/>
							<span id="incomeCycleText"></span>
							<img src='@routes.Assets.versioned("images/icons/arrow.png")' class="button" onclick="incomeHistoryStep(1)"/>
						</div>
						<div>
							<select id="incomePeriodSelect" onchange="changeIncomePeriod($(this).val())">
		  						<option value="WEEKLY" selected="selected">Week</option>
		  						<option value="MONTHLY">Month</option>
		  						<option value="YEARLY">Year</option>
		  					</select>
						</div>
						
						<div id="totalProfitChart" style="width: 90%; height: 300px; margin: 0 auto;"></div>
	<!-- 					left column -->
						<div style="height: 100%; width: 50%; float: left;">
							<div class="table section" style="width: 90%;">
								<h4>Total Income</h4>
			 	  				<div class="table-row">
			 	  					<div class="cell">Total Revenue:</div>
			 	  					<div id="totalRevenue" class="cell" style="text-align: right;"></div>
			 	  				</div>
			 	  				<div class="table-row">
			 	  					<div class="cell">Total Expense:</div>
			 	  					<div id="totalExpense" class="cell" style="text-align: right;"></div>
			 	  				</div>
			 	  				<div class="table-row">
			 	  					<div class="cell">Total Profit:</div>
			 	  					<div id="totalProfit" class="cell" style="text-align: right;"></div>
			 	  				</div>
			         		</div>
							<div class="table section" style="width: 90%;">
								<h4>Flights Income</h4>
			 	  				<div class="table-row">
			 	  					<div class="cell">Ticket Revenue:</div>
			 	  					<div id="linksTicketRevenue" class="cell" style="text-align: right;"></div>
			 	  				</div>
			 	  				<div class="table-row">
			 	  					<div class="cell">Airport Fee:</div>
			 	  					<div id="linksAirportFee" class="cell" style="text-align: right;"></div>
			 	  				</div>
			 	  				<div class="table-row">
			 	  					<div class="cell">Fuel:</div>
			 	  					<div id="linksFuelCost" class="cell" style="text-align: right;"></div>
			 	  				</div>
			 	  				<div class="table-row">
			 	  					<div class="cell">Crew:</div>
			 	  					<div id="linksCrewCost" class="cell" style="text-align: right;"></div>
			 	  				</div>
			 	  				<div class="table-row">
			 	  					<div class="cell">Flight Supplies:</div>
			 	  					<div id="linksInflightCost" class="cell" style="text-align: right;"></div>
			 	  				</div>
			 	  				<div class="table-row">
			 	  					<div class="cell">Airplane Maintenance:</div>
			 	  					<div id="linksMaintenance" class="cell" style="text-align: right;"></div>
			 	  				</div>
			 	  				<div class="table-row">
			 	  					<div class="cell">Airplane Depreciation:</div>
			 	  					<div id="linksDepreciation" class="cell" style="text-align: right;"></div>
			 	  				</div>
			 	  				<div class="table-row">
			 	  					<div class="cell">Delay Compensation:</div>
			 	  					<div id="linksDelayCompensation" class="cell" style="text-align: right;"></div>
			 	  				</div>
			 	  				<div class="table-row">
				 	  				<div class="divider cell"></div>
				 	  				<div class="divider cell"></div>
				 	  			</div>
			 	  				<div class="table-row">
			 	  					<div class="cell">Flight Revenue:</div>
			 	  					<div id="linksRevenue" class="cell" style="text-align: right;"></div>
			 	  				</div>
			 	  				<div class="table-row">
			 	  					<div class="cell">Flight Expense:</div>
			 	  					<div id="linksExpense" class="cell" style="text-align: right;"></div>
			 	  				</div>
			 	  				<div class="table-row">
			 	  					<div class="cell">Flight Profit:</div>
			 	  					<div id="linksProfit" class="cell" style="text-align: right;"></div>
			 	  				</div>
			         		</div>
						</div>
	<!-- 					right column -->
						<div style="height: 100%; width: 50%; float: right;">
							<div class="table section" style="width: 90%;">
								<h4>Transactions</h4>
			 	  				<div class="table-row">
			 	  					<div class="cell">Capital Gain/Lost:</div>
			 	  					<div id="transactionsCapitalGain" class="cell" style="text-align: right;"></div>
			 	  				</div>
			 	  				<div class="table-row">
			 	  					<div class="cell">Setup New Flight Route:</div>
			 	  					<div id="transactionsCreateLink" class="cell" style="text-align: right;"></div>
			 	  				</div>
			 	  				<div class="table-row">
				 	  				<div class="divider cell"></div>
				 	  				<div class="divider cell"></div>
				 	  			</div>
			 	  				<div class="table-row">
			 	  					<div class="cell">Transactions Revenue:</div>
			 	  					<div id="transactionsRevenue" class="cell" style="text-align: right;"></div>
			 	  				</div>
			 	  				<div class="table-row">
			 	  					<div class="cell">Transactions Expense:</div>
			 	  					<div id="transactionsExpense" class="cell" style="text-align: right;"></div>
			 	  				</div>
			 	  				<div class="table-row">
			 	  					<div class="cell">Transactions Profit:</div>
			 	  					<div id="transactionsProfit" class="cell" style="text-align: right;"></div>
			 	  				</div>
			         		</div>
			         		
			         		<div class="table section" style="width: 90%;">
								<h4>Other Income</h4>
			 	  				<div class="table-row">
			 	  					<div class="cell">Loan Interest:</div>
			 	  					<div id="othersLoanInterest" class="cell" style="text-align: right;"></div>
			 	  				</div>
			 	  				<div class="table-row">
			 	  					<div class="cell">Office Upkeep:</div>
			 	  					<div id="othersBaseUpkeep" class="cell" style="text-align: right;"></div>
			 	  				</div>
			 	  				<div class="table-row">
			 	  					<div class="cell">Service Investment:</div>
			 	  					<div id="othersServiceInvestment" class="cell" style="text-align: right;"></div>
			 	  				</div>
			 	  				<div class="table-row">
			 	  					<div class="cell">Maintenance Investment:</div>
			 	  					<div id="othersMaintenanceInvestment" class="cell" style="text-align: right;"></div>
			 	  				</div>
			 	  				<div class="table-row">
			 	  					<div class="cell">Advertisement:</div>
			 	  					<div id="othersAdvertisement" class="cell" style="text-align: right;"></div>
			 	  				</div>
			 	  				<div class="table-row">
			 	  					<div class="cell">Depreciation:</div>
			 	  					<div id="othersDepreciation" class="cell" style="text-align: right;"></div>
			 	  				</div>
			 	  				<div class="table-row">
				 	  				<div class="divider cell"></div>
				 	  				<div class="divider cell"></div>
				 	  			</div>
			 	  				<div class="table-row">
			 	  					<div class="cell">Others Revenue:</div>
			 	  					<div id="othersRevenue" class="cell" style="text-align: right;"></div>
			 	  				</div>
			 	  				<div class="table-row">
			 	  					<div class="cell">Others Expense:</div>
			 	  					<div id="othersExpense" class="cell" style="text-align: right;"></div>
			 	  				</div>
			 	  				<div class="table-row">
			 	  					<div class="cell">Others Profit:</div>
			 	  					<div id="othersProfit" class="cell" style="text-align: right;"></div>
			 	  				</div>
			         		</div>  
						</div>
	<!-- 					end right side -->
	         		</div>		
	<!--          		end income statement -->
				</div>
<!-- 				end left section  -->
				<div style="width : 30%; float: left;">
					<div class="section" style="width: 90%;">
						<h4>Championed Countries</h4>
						<div id="championedCountriesList" class="table data" style="width: 100%; height: 20px;">
		 	  				<div class="table-header">
		 	  					<div class="cell" style="width: 5%">Ranking</div>
		 	  					<div class="cell" style="width: 70%">Name</div>
		 	  					<div class="cell" style="width: 25%">Reputation Bonus</div>
							</div>
						</div>
         			</div>
	  					
	  				<div class="section" style="width: 90%;">
	  					<h4>Declare bankruptcy and seek new investment&nbsp;<img src='@routes.Assets.versioned("images/icons/heart-break.png")'/></h4>
	  						<ul>
	  							<li class="label" style="padding: 5px">- All of the airplanes will be removed</li>
	  							<li class="label" style="padding: 5px">- Headquarters and bases will be removed</li>
	  							<li class="label" style="padding: 5px">- All routes will be cancelled</li>
	  							<li class="label" style="padding: 5px">- All loans cancelled<li>
	  							<li class="label" style="padding: 5px">- Service Quality will be reset<li>
	  							<li class="label" style="padding: 5px">- Reputation, Awareness and Loyalty will be kept</li>
	  							<li class="label" style="padding: 5px">- Balance reset to 50,000,000</li>
	  						</ul>
	  						<div class='button' onclick='promptConfirm("Declare bankruptcy?", resetAirline)'>Declare Bankruptcy</div>
	  						 
<!-- 	  					<div class="table" style="width: 100%;"> -->
<!-- 							<div class="table-row"> -->
<!-- 								<div class="cell label" style="width: 35%">Current Maintenance Level:</div> -->
<!-- 								<div class="cell value" style="width: 65%"> -->
<!-- 									<span id="maintenanceLevelDisplaySpan"> -->
<!-- 		 	  							<span id="maintenanceLevel"></span> -->
<!-- 		 	  							<img src='@routes.Assets.versioned("images/icons/gear.png")' class='button' style="vertical-align: middle;" onclick="editMaintenanceLevel()"/>	 -->
<!-- 		 	  						</span> -->
<!-- 		 	  						<span id="maintenanceLevelInputSpan" style="display: none;"> -->
<!-- 		 	  							<input type="hidden" id="maintenanceLevelInput"/> -->
<!-- 		 	  							<div id="maintenanceLevelGauge" style="width: 90%; float: left;"></div> -->
<!-- 		 	  						</span> -->
<!-- 								</div> -->
<!-- 		 	  				</div> -->
<!-- 		         		</div>   -->
		    		</div>
		    	</div>
<!-- 		    	end right section -->
  			</div>
<!--   			end office canvas -->

			<div id="bankCanvas" style="height: 100%; display: none;">
				<div style="width : 70%; float: left;">
				<!--  new loan -->
					<div style="width : 95%; float: left;" class="section">
						<h4>New Loan</h4>
						<div class="table" style="width: 100%; margin-bottom: 15px">
				   			<div class="table-row">
				   				<div class="label"><h5>Available Loan:</h5></div>
				   				<div class="value">
				   					<span  id="newLoanMaxAmount"></span>
				   					<span id="newLoanRejectionSpan">
				   						<img src='@routes.Assets.versioned("images/icons/prohibition.png")'>
				   						<span id="newLoanRejection" class="warning"></span>
				   					</span>
				   				</div>
				   			</div>
				   			<div class="table-row" id="newLoanAmountRow">
				   				<div class="label"><h5>Borrow Amount:</h5></div>
				   				<div class="value"><input type="text" id="newLoanAmount" oninput="loadLoanOptions($(this).val())"/></div>
				   			</div>
				   		</div>
				   		<div id="newLoanOptions">
					   		<h4>Loan Options</h4>
					   		<div class="table data" id="newLoanOptionsTable" style="height: 100%; width: 100%">
			 	  				<div class="table-header">
			 	  					<div class="cell" style="width: 20%" align="right">Principle Amount</div>
			 	  					<div class="cell" style="width: 10%" align="right">Interest Rate</div>
			 	  					<div class="cell" style="width: 20%" align="right">Interest</div>
			 	  					<div class="cell" style="width: 20%" align="right">Total Payment</div>
			 	  					<div class="cell" style="width: 20%" align="right">Weekly Payment</div>
			 	  					<div class="cell" style="width: 10%"></div>
								</div>
			   				</div>
			   			</div>
					</div>
				</div>
				<div style="width : 70%; float: left;">
					<div style="width : 95%; float: left;" class="section">
						<h4>Outstanding Loans</h4>
						<div class="table data" id="outstandingLoansTable" style="height: 100%; width: 100%">
		 	  				<div class="table-header">
		 	  					<div class="cell" style="width: 20%" align="right">Principle Amount</div>
		 	  					<div class="cell" style="width: 20%" align="right">Interest</div>
		 	  					<div class="cell" style="width: 20%" align="right">Remaining Payment</div>
		 	  					<div class="cell" style="width: 20%" align="right">Weekly Payment</div>
		 	  					<div class="cell" style="width: 20%"></div>
							</div>
						</div>
         			</div>
         		</div>		
	<!--          end loan list -->
  			</div>
<!--   			end bank canvas -->


			<div id="rankingCanvas" style="height: 100%; display: none;">
  				<div style="width : 50%; float: left;"> 
	  	  			<div class="table data section" id="passengerRank" style="width: 95%">
	  	  				<div class="table-header">
	 	  					<div class="cell" style="width: 10%">Rank</div>
	 	  					<div class="cell" style="width: 10%">Movement</div>
	 	  					<div class="cell" style="width: 50%">Airline</div>
	 	  					<div class="cell" style="width: 30%" align="right">Weekly Passenger</div>
						</div>
         			</div>
         			<div class="table data section" id="reputationRank" style="width: 95%">
         				<div class="table-header">
	 	  					<div class="cell" style="width: 10%">Rank</div>
	 	  					<div class="cell" style="width: 10%">Movement</div>
	 	  					<div class="cell" style="width: 50%">Airline</div>
	 	  					<div class="cell" style="width: 30%" align="right">Airline Reputation</div>
						</div>
         			</div>
         			<div class="table data section" id="linkCountRank" style="width: 95%">
	 	  				<div class="table-header">
	 	  					<div class="cell" style="width: 10%">Rank</div>
	 	  					<div class="cell" style="width: 10%">Movement</div>
	 	  					<div class="cell" style="width: 50%">Airline</div>
	 	  					<div class="cell" style="width: 30%" align="right">Total Flight Routes</div>
						</div>
         			</div>
				</div>		
				<div style="width : 50%; float: right;"> 
	  	  			<div class="table data section" id="passengerMileRank" style="width: 95%">
	 	  				<div class="table-header">
	 	  					<div class="cell" style="width: 10%">Rank</div>
	 	  					<div class="cell" style="width: 10%">Movement</div>
	 	  					<div class="cell" style="width: 50%">Airline</div>
	 	  					<div class="cell" style="width: 30%" align="right">Weekly Passenger Miles</div>
						</div>
         			</div>
         			<div class="table data section" id="serviceQualityRank" style="width: 95%">
	 	  				<div class="table-header">
	 	  					<div class="cell" style="width: 10%">Rank</div>
	 	  					<div class="cell" style="width: 10%">Movement</div>
	 	  					<div class="cell" style="width: 50%">Airline</div>
	 	  					<div class="cell" style="width: 30%" align="right">Service Quality</div>
						</div>
         			</div>
				</div>
  			</div>
<!--   			end ranking canvas -->
			<div id="rivalsCanvas" style="height: 100%; display: none;">
				<div style="float: left; width : 50%; height : 100%" class="mainPanel">
	  				<div style="width : 95%; height: 95%" class="section"> 
		  	  			<div id = "rivalsTableSortHeader" class="table data" style="width: 100%; height: 20px;">
		 	  				<div class="table-header">
		 	  					<div class="cell clickable" style="width: 30%" data-sort-property="name" data-sort-order="ascending" onclick="toggleRivalsTableSortOrder($(this))">Name</div>
		 	  					<div class="cell clickable" style="width: 50%" data-sort-property="headquartersCity" data-sort-order="ascending" onclick="toggleRivalsTableSortOrder($(this))">Headquarters</div>
		 	  					<div class="cell clickable selected" style="width: 10%" align="right" data-sort-property="reputation" data-sort-order="descending" onclick="toggleRivalsTableSortOrder($(this))">Reputation</div>
		 	  					<div class="cell clickable" style="width: 10%" align="right" data-sort-property="baseCount" data-sort-order="descending" onclick="toggleRivalsTableSortOrder($(this))">Number of bases</div>
							</div>
	         			</div>
	         			<div style="height: calc(100% - 20px); width: 100%; overflow: auto;">
		         			<div id="rivalsTable" class="table data" style="height: 100%; width: 100%;">
		         			 	<div class="table-header">
			 	  					<div class="cell" style="width: 30%; border-bottom: none;"></div>
			 	  					<div class="cell" style="width: 50%; border-bottom: none;"></div>
			 	  					<div class="cell" style="width: 10%; border-bottom: none;"></div>
			 	  					<div class="cell" style="width: 10%; border-bottom: none;"></div>
								</div>
		        			</div>
	        			</div>
					</div>
				</div>
				<div id="rivalDetails" class="sidePanel" style="float: left; width : 50%; height : 100%; display: none;">
					<div class="section" style="width: 95%; height: 20%;  overflow: auto;">
						<h4><span class="airlineName"></span>&nbsp;(<span class="airlineCode"></span>)<span class="airlineColorDot" style="margin-left: 5px;"></span></h4>
         				<div id="rivalBases" style="width: 100%;" class="table">
						</div>
         			</div>
					<div class="section" style="width: 95%; height: 20%;  overflow: auto;">
						<h4>Championed Countries</h4>
						<div id="rivalChampionedCountriesList" class="table data" style="width: 100%; height: 20px;">
		 	  				<div class="table-header">
		 	  					<div class="cell" style="width: 5%">Ranking</div>
		 	  					<div class="cell" style="width: 70%">Name</div>
		 	  					<div class="cell" style="width: 25%">Reputation Bonus</div>
							</div>
						</div>
         			</div>
	  				<div style="width: 95%; height: 50%" class="section">
	  					<h4>Routes</h4> 
		  	  			<div class="table data" style="width: 100%; height: 20px;">
		 	  				<div class="table-header">
		 	  					<div class="cell clickable" style="width: 25%" data-sort-property="fromAirportCity" data-sort-order="ascending" onclick="toggleRivalLinksTableSortOrder($(this))">From</div>
		 	  					<div class="cell clickable" style="width: 25%" data-sort-property="toAirportCity" data-sort-order="ascending" onclick="toggleRivalLinksTableSortOrder($(this))">To</div>
		 	  					<div class="cell clickable" style="width: 25%" align="right" data-sort-property="distance" data-sort-order="descending" onclick="toggleRivalLinksTableSortOrder($(this))">Distance</div>
		 	  					<div class="cell clickable" style="width: 25%" align="right" data-sort-property="totalCapacity" data-sort-order="descending" onclick="toggleRivalLinksTableSortOrder($(this))">Capacity</div>
							</div>
	         			</div>
	         			<div style="height:  calc(100% - 20px); width: 100%; overflow: auto;">
		         			<div id="rivalLinksTable" class="table data" style="width: 100%;">
		         			 	<div class="table-header">
			 	  					<div class="cell" style="width: 25%; border-bottom: none;"></div>
			 	  					<div class="cell" style="width: 25%; border-bottom: none;"></div>
			 	  					<div class="cell" style="width: 25%; border-bottom: none;"></div>
			 	  					<div class="cell" style="width: 25%; border-bottom: none;"></div>
								</div>
		        			</div>
	        			</div>
					</div>
				</div>
				<div style="clear: both;"></div>
  			</div>
<!--   			end rival canvas -->
			<div id="allianceCanvas" style="height: 100%; display: none;">
				<div style="float: left; width : 50%; height : 100%" class="mainPanel">
					<div id="currentAirlineMemberDetails" style="width : 95%;" class="section">
						<div style="width: 50%; margin-bottom: 15px; float: left;">
							<h4>Your Airline Alliance</h4>
							<div class="table" style="width: 100%;">
								<div class="table-row">
				 	  				<div class="cell label">Alliance Name:</div>
				 	  				<div class="cell value">
				 	  					<span class="allianceName"></span>
				 	  					<span id="formAllianceSpan" style="display:none;">
				 	  						<input type="text" id="inputAllianceName"/>
				 	  						<img src='@routes.Assets.versioned("images/icons/tick.png")' class='button' style="vertical-align: middle;" onclick="formAlliance($('#inputAllianceName').val())"/>
				 	  						<div class="warning" id="formAllianceWarning" style="display:none;"></div>
				 	  					</span>
				 	  					<img id="toggleFormAllianceButton" src='@routes.Assets.versioned("images/icons/gear.png")' class='button' style="vertical-align: middle; display: none;" onclick="toggleFormAlliance()"/>
				 	  				</div>
				 	  			</div>
				 	  			<div class="table-row">
				 	  				<div class="cell label">Role:</div>
				 	  				<div class="cell value allianceRole"></div>
				 	  			</div>
				 	  			<div class="table-row">
				 	  				<div class="cell label">Ranking:</div>
				 	  				<div class="cell value allianceRanking"></div>
				 	  			</div>
				 	  			<div class="table-row">
				 	  				<div class="cell label">Status:</div>
				 	  				<div class="cell value allianceStatus"></div>
				 	  			</div>
			 	  			</div>
			 	  		</div>
		 	  			
		 	  			<div style="width: 50%; margin-bottom: 15px; max-height: 250px; float: right; overflow: auto;">
		 	  				<h4>Your Alliance History</h4>
		 	  				<div class="table" id="currentAirlineAllianceHistory" style="width: 100%;">
								<div class="table-row">
				 	  			</div>
		 	  				</div>
	 	  			  	</div>
		 	  			<div style="clear: both;"></div>
		    		</div>
				
				
	  				<div style="width : 95%; height: 70%" class="section">
	  					<div id = "allianceTableSortHeader" class="table data" style="width: 100%; height: 20px;">
		 	  				<div class="table-header">
		 	  					<div class="cell clickable" style="width: 40%" data-sort-property="name" data-sort-order="ascending" onclick="toggleAllianceTableSortOrder($(this))">Alliance Name</div>
		 	  					<div class="cell clickable" style="width: 40%" data-sort-property="leaderAirlineName" data-sort-order="ascending" onclick="toggleAllianceTableSortOrder($(this))">Leader Airline</div>
		 	  					<div class="cell clickable" style="width: 10%" align="right" data-sort-property="memberCount" data-sort-order="descending" onclick="toggleAllianceTableSortOrder($(this))">Airline Member</div>
		 	  					<div class="cell clickable selected" style="width: 10%" align="right" data-sort-property="championPointsValue" data-sort-order="descending" onclick="toggleAllianceTableSortOrder($(this))">Champion Points</div>
							</div>
	         			</div>
	         			<div style="height: calc(100% - 20px); width: 100%; overflow: auto;">
		         			<div id="allianceTable" class="table data" style="width: 100%;">
		         			 	<div class="table-header">
			 	  					<div class="cell" style="width: 40%; border-bottom: none;"></div>
			 	  					<div class="cell" style="width: 40%; border-bottom: none;"></div>
			 	  					<div class="cell" style="width: 10%; border-bottom: none;"></div>
			 	  					<div class="cell" style="width: 10%; border-bottom: none;"></div>
								</div>
		        			</div>
	        			</div>
					</div>
				</div>
				<div id="allianceDetails" class="sidePanel" style="float: left; width : 50%; height : 100%; display: none;">
					<div class="section" style="width: 95%;">
						<div>
							<h4>Alliance Details</h4>
							<div class="table" style="width: 100%;">
								<div class="table-row">
				 	  				<div class="cell label">Name:</div>
				 	  				<div class="cell value allianceName"></div>
				 	  			</div>
				 	  			<div class="table-row">
				 	  				<div class="cell label">Ranking:</div>
				 	  				<div class="cell value allianceRanking"></div>
				 	  			</div>
				 	  			<div class="table-row">
				 	  				<div class="cell label">Status:</div>
				 	  				<div class="cell value allianceStatus"></div>
				 	  			</div>
			 	  			</div>
			 	  			<div class="button" onclick="showAllianceMap()">Flight Map</div>
			 	  			<h4 style="margin-top: 10px">Members</h4>
			 	  			<div id="allianceMemberList" class="table data" style="width: 100%;">
			 	  			</div>
			 	  			<div class="button" id="applyForAllianceButton" onclick="applyForAlliance()">Apply</div>
			 	  			<span id="applyForAllianceRejectionSpan" style="display: none;">
			 	  				<img src='@routes.Assets.versioned("images/icons/prohibition.png")'>
			 	  				<span class="warning">Cannot join alliance</span>&nbsp;
			 	  				<span id="applyForAllianceRejection" class="warning"></span>
			 	  			</span>
		 	  			</div>
		 	  		</div>
		 	  		<div class="section" style="width: 95%;">
		 	  			<h4 style="margin-top: 10px">Alliance Bonus</h4>
		 	  			<div style="width: 100%;">
		 	  				<ul id="allianceBonusList">
		 	  					<li class="label" id ="allianceNoneBonus" style="display:none; padding: 5px;">- None</li>
		 	  					<li class="label" id ="allianceCodeShareBonus" style="display:none; padding: 5px;">- Flight Code sharing - passengers are more willing to take connection flights from the same alliance</li>
								<li class="label" id="allianceReputationBonus" style="display:none; padding: 5px;">- Reputation increased by <span id="allianceReputationBonusValue"></span></li>
			 	  				<li class="label" id="allianceMaxFrequencyBonus" style="display:none; padding: 5px;">- Max Flight Frequency increased by <span id="allianceMaxFrequencyBonusValue"></span></li>
		 	  				</ul>
						</div>
					</div>
		 	  		<div class="section" style="width: 95%;">						
						<h4>Alliance History</h4>
         				<div style="width: 100%;">
	  						<div class="table" id="allianceHistory" style="width: 100%;">
								<div class="table-row">
				 	  			</div>
		 	  				</div>
						</div>
         			</div>
					
	  				
				</div>
				<div style="clear: both;"></div>
  			</div>
	<!-- end alliance canvas -->

			<div style="clear: both;"></div>
  		</div>
  	<!-- main canvas end -->
		<div style="clear: both;"></div>
    </div>
    
    <!-- popups and overlay buttons below. Hidden by default -->
    <div style="display: none; width: 100%;" id="airportPopup">
    	<input type="hidden" id="airportPopupId">
    	<div>
    		<span id="airportPopupName" class="header"></span>
    	</div>
    	<div id="airportIcons">
    		<img title="Your Headquarter" src='@routes.Assets.versioned("images/icons/building-hedge.png")' id="popupHeadquarterIcon" class="baseIcon" style="display: none">
    		<img title="Your Base" src='@routes.Assets.versioned("images/icons/building-low.png")' id="popupBaseIcon" class="baseIcon" style="display:none">
    	</div>
    	<div class="table" style="width: 100%">
   			<div class="table-row">
   				<div class="label"><h5>IATA code:</h5></div>
   				<div class="value" id="airportPopupIata"></div>
   			</div>
   			<div class="table-row">
   				<div class="label"><h5>City:</h5></div>
   				<div class="value" id="airportPopupCity"></div>
   			</div>
   			<div class="table-row">
   				<div class="label"><h5>Zone:</h5></div>
   				<div class="value" id="airportPopupZone"></div>
   			</div>
   			<div class="table-row">
   				<div class="label"><h5>Airport scale:</h5></div>
   				<div class="value" id="airportPopupSize"></div>
   			</div>
   			<div class="table-row">
   				<div class="label"><h5>Population coverage:</h5></div>
   				<div class="value" id="airportPopupPopulation"></div>
   			</div>
   			<div class="table-row">
   				<div class="label"><h5>Average income level:</h5></div>
   				<div class="value" id="airportPopupIncomeLevel"></div>
   			</div>
   			<div class="table-row">
   				<div class="label"><h5>Country market openness:</h5></div>
   				<div class="value" id="airportPopupOpenness"></div>
   			</div>
   			<div class="table-row">
   				<div class="label"><h5>Slots (available / total):</h5></div>
   				<div class="value airportSlots" id="airportPopupSlots"></div>
   			</div>
   			<div class="table-row">
   				<div class="label"><h5>Slots for your airline (available / offered):</h5></div>
   				<div class="value airportAssignedSlots" id="airportPopupAssignedSlots"></div>
   			</div>
   			<div class="table-row">
   				<div class="label"><h5>Awareness of your airline:</h5></div>
   				<div class="value airportAwareness" id="airportPopupAwareness"></div>
   			</div>
   			<div class="table-row">
   				<div class="label"><h5>Loyalty to your airline:</h5></div>
   				<div class="value airportLoyalty" id="airportPopupLoyalty"></div>
   			</div>
   			<div class="table-row">
   				<div class="label"><h5>Relationship with your country:</h5></div>
   				<div class="value airportRelationship" id="airportPopupRelationship"></div>
   			</div>
		</div>
		<div class="button" id="planToAirportButton">Plan Flight</div>
		<div class="button" id="viewAirportButton" onclick="showAirportDetails($('#airportPopupId').val())">View Airport</div>
		<div class="button" id="toggleAirportLinksButton" onclick="toggleAirportLinksView()">Flight Map</div>
		<div class="button" id="toggleDeparturesButton" onclick="showDeparturesCanvas()">Departures</div>
    </div>
    
     <div style="display: none; width: 100%;" id="cityPopup">
    	<input type="hidden" id="cityPopupId">
    	<div id="cityPopupName" class="header"></div>
    	<div id="cityIcons">
    		<!-- <img alt="Your Headquarter" title="Your Headquarter" src='@routes.Assets.versioned("images/icons/building-hedge.png")' id="popupHeadquarterIcon"><img alt="Your Base" title="Your Base" src='@routes.Assets.versioned("images/icons/building-low.png")' id="popupBaseIcon">  -->
    	</div>
    	<div class="table" style="width: 100%">
   			<div class="table-row">
   				<div class="label"><h5>Country code:</h5></div>
   				<div class="value" id="cityPopupCountryCode"></div>
   			</div>
   			<div class="table-row">
   				<div class="label"><h5>Population:</h5></div>
   				<div class="value" id="cityPopupPopulation"></div>
   			</div>
   			<div class="table-row">
   				<div class="label"><h5>Average income level:</h5></div>
   				<div class="value" id="cityPopupIncomeLevel"></div>
   			</div>
		</div>
		
		<div id="cityPie" style="height: 200px; width: 350px;"></div>
    </div>
    
    <div style="display: none; width: 400px;" id="linkHistoryPopup">
    	<input type="hidden" id="linkHistoryPopupId">
    	<div class="table" style="width: 100%">
   			<div class="table-row">
   				<div class="label"><h5>From :</h5></div>
   				<div class="value" id="linkHistoryPopupFrom"></div>
   			</div>
   			<div class="table-row">
   				<div class="label"><h5>To:</h5></div>
   				<div class="value" id="linkHistoryPopupTo"></div>
   			</div>
   			<div class="table-row">
   				<div class="label"><h5>Passengers of your airline:</h5></div>
   				<div class="value" id="linkHistoryThisAirlinePassengers"></div>
   			</div>
   			<div class="table-row">
   				<div class="label"><h5>Passengers of other airline:</h5></div>
   				<div class="value" id="linkHistoryOtherAirlinePassengers"></div>
   			</div>
		</div>
    </div>
    
    <div style="display: none; width: 100%;" id="airportLinkPopup">
    	<input type="hidden" id="airportLinkPopupId">
    	<div class="table" style="width: 100%">
   			<div class="table-row">
   				<div class="label"><h5>From :</h5></div>
   				<div class="value" id="airportLinkPopupFrom"></div>
   			</div>
   			<div class="table-row">
   				<div class="label"><h5>To:</h5></div>
   				<div class="value" id="airportLinkPopupTo"></div>
   			</div>
   			<div class="table-row">
   				<div class="label"><h5>Passengers:</h5></div>
   				<div class="value" id="airportLinkPopupPassengers"></div>
   			</div>
		</div>
    </div>
    
    <div style="display: none; width: 100%;" id="allianceLinkPopup">
    	<input type="hidden" id="airportLinkPopupId">
    	<div class="table" style="width: 100%">
   			<div class="table-row">
   				<div class="label"><h5>From :</h5></div>
   				<div class="value" id="allianceLinkPopupFrom"></div>
   			</div>
   			<div class="table-row">
   				<div class="label"><h5>To:</h5></div>
   				<div class="value" id="allianceLinkPopupTo"></div>
   			</div>
   			<div class="table-row">
   				<div class="label"><h5>Airline:</h5></div>
   				<div class="value" id="allianceLinkPopupAirline"></div>
   			</div>
		</div>
    </div>
    
    <!-- The Annoucement Modal -->
	<div id="annoucementModal" class="modal">
	  <div class="modal-content">
	    <span class="close" onclick="closeModal($('#annoucementModal'))">&times;</span>
	    <div style="margin-bottom: 10px;">
	    	<img src='@routes.Assets.versioned("images/icons/32px/balloon.png")'><span style="font-size: 20px;">Announcements</span>
	    </div>
	    <div id="annoucementContainer">
	    </div>
	  </div>
	</div>
	<!-- The Annoucement Modal -->
	<div id="tutorialModal" class="modal">
	  <div class="modal-content" style="width: 540px;">
	    <span class="close" onclick="closeModal($('#tutorialModal'))">&times;</span>
	    <div style="margin-bottom: 10px;">
	    	<img src='@routes.Assets.versioned("images/icons/32px/balloon.png")'><span style="font-size: 20px;">Tutorial</span>
	    </div>
	    <ul>
			<li class="label" style="padding: 5px;">1. Build your headquarters in an airport</li>
			<li class="label" style="padding: 5px;">2. Select another airport to fly to</li>
			<li class="label" style="padding: 5px;">3. Establish the route</li>
		</ul>
	    <img src='@routes.Assets.versioned("images/clips/tutorial.gif")'>
	  </div>
	</div>
	<!-- Confirmation Modal -->
	<div id="confirmationModal" class="modal">
	  <div class="modal-content"  style="width : 400px;">
	    <span class="close" onclick="closeModal($('#confirmationModal'))">&times;</span>
	    <div style="margin-bottom: 10px;">
	    	<img src='@routes.Assets.versioned("images/icons/32px/question.png")'><span style="font-size: 20px;">Confirmation</span>
	    </div>
	    <h3 id="confirmationPrompt" style="margin-bottom: 10px;"></h3>
	    <div class="button confirmationButton" onclick="closeModal($('#confirmationModal')); executeConfirmationTarget();">Confirm</div>
	    <div class="button" onclick="closeModal($('#confirmationModal'))">Cancel</div>
	  </div>
	</div>
	
	<!-- Logo Modal -->
	
	<div id="logoModal" class="modal">
	  <div class="modal-content"  style="width : 400px;">
	    <span class="close" onclick="closeModal($('#logoModal'))">&times;</span>
	    <h3>Logo Templates</h3>
	    <div id="logoTemplates"></div>
	    <input type="hidden" id="logoTemplateIndex"/>
	    <div id="colorPicker1">
	        <a class="color">Color 1:<div class="colorInner"></div></a>
	        <div class="track"></div>
	        <ul class="dropdown"><li></li></ul>
	        <input type="hidden" class="colorInput">
	    </div>
		<div id="colorPicker2">
	        <a class="color">Color 2:<div class="colorInner"></div></a>
	        <div class="track"></div>
	        <ul class="dropdown"><li></li></ul>
	        <input type="hidden" class="colorInput"/>
	    </div>
	    <h3>Preview</h3>
	    <div id="logoPreview" style="height: 30px">
	    </div>
	    
	    <div class="button confirmationButton" onclick="closeModal($('#logoModal')); setAirlineLogo();">Confirm</div>
	    <div class="button" onclick="closeModal($('#logoModal'))">Cancel</div>
	  </div>
	</div>
	
	<div id="uploadLogoModal" class="modal">
		<div class="modal-content"  style="width : 400px;">
			<span class="close" onclick="closeModal($('#uploadLogoModal'))">&times;</span>
			<h3>Upload Own Logo</h3>
			<ul>
				<li class="label" style="padding: 5px;">- Logo should be in png format</li>
				<li class="label" style="padding: 5px;">- Logo should be 24px wide and 12px tall</li>
			</ul>
			<div id="uploadLogoPanel" style="display:none" >
		    	<div id="fileuploader">Upload</div>
		    	<div class="warning" style="display:none;"></div>
		    </div>
		    <div id="uploadLogoPanelForbidden" style="display:none" >
		    	<div class="warning"></div>
		    </div>
	    </div>
	</div>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB5XQhzy2XrM95AyfW8f5BeWJiqr-LGXxU&libraries=geometry,drawing&callback=initMap">
	</script>
<!-- 	<script src="https://apis.google.com/js/platform.js"></script> -->
	 
  </body>
</html>
